(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},Ur={get exports(){return is},set exports(n){is=n}};(function(n,e){(function(t,i){n.exports=i()})(Mi,function(){var t=1e3,i=6e4,s=36e5,r="millisecond",o="second",l="minute",a="hour",h="day",u="week",c="month",d="quarter",p="year",C="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var I=["th","st","nd","rd"],B=G%100;return"["+G+(I[(B-20)%10]||I[B]||I[0])+"]"}},g=function(G,I,B){var W=String(G);return!W||W.length>=I?G:""+Array(I+1-W.length).join(B)+G},y={s:g,z:function(G){var I=-G.utcOffset(),B=Math.abs(I),W=Math.floor(B/60),_=B%60;return(I<=0?"+":"-")+g(W,2,"0")+":"+g(_,2,"0")},m:function G(I,B){if(I.date()<B.date())return-G(B,I);var W=12*(B.year()-I.year())+(B.month()-I.month()),_=I.clone().add(W,c),F=B-_<0,V=I.clone().add(W+(F?-1:1),c);return+(-(W+(B-_)/(F?_-V:V-_))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:c,y:p,w:u,d:h,D:C,h:a,m:l,s:o,ms:r,Q:d}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},R="en",k={};k[R]=v;var O=function(G){return G instanceof Y},D=function G(I,B,W){var _;if(!I)return R;if(typeof I=="string"){var F=I.toLowerCase();k[F]&&(_=F),B&&(k[F]=B,_=F);var V=I.split("-");if(!_&&V.length>1)return G(V[0])}else{var Z=I.name;k[Z]=I,_=Z}return!W&&_&&(R=_),_||!W&&R},L=function(G,I){if(O(G))return G.clone();var B=typeof I=="object"?I:{};return B.date=G,B.args=arguments,new Y(B)},H=y;H.l=D,H.i=O,H.w=function(G,I){return L(G,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var Y=function(){function G(B){this.$L=D(B.locale,null,!0),this.parse(B)}var I=G.prototype;return I.parse=function(B){this.$d=function(W){var _=W.date,F=W.utc;if(_===null)return new Date(NaN);if(H.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var V=_.match(x);if(V){var Z=V[2]-1||0,ie=(V[7]||"0").substring(0,3);return F?new Date(Date.UTC(V[1],Z,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ie)):new Date(V[1],Z,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ie)}}return new Date(_)}(B),this.$x=B.x||{},this.init()},I.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},I.$utils=function(){return H},I.isValid=function(){return this.$d.toString()!==b},I.isSame=function(B,W){var _=L(B);return this.startOf(W)<=_&&_<=this.endOf(W)},I.isAfter=function(B,W){return L(B)<this.startOf(W)},I.isBefore=function(B,W){return this.endOf(W)<L(B)},I.$g=function(B,W,_){return H.u(B)?this[W]:this.set(_,B)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(B,W){var _=this,F=!!H.u(W)||W,V=H.p(B),Z=function(_e,ae){var we=H.w(_.$u?Date.UTC(_.$y,ae,_e):new Date(_.$y,ae,_e),_);return F?we:we.endOf(h)},ie=function(_e,ae){return H.w(_.toDate()[_e].apply(_.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(ae)),_)},q=this.$W,ce=this.$M,ge=this.$D,ve="set"+(this.$u?"UTC":"");switch(V){case p:return F?Z(1,0):Z(31,11);case c:return F?Z(1,ce):Z(0,ce+1);case u:var fe=this.$locale().weekStart||0,xe=(q<fe?q+7:q)-fe;return Z(F?ge-xe:ge+(6-xe),ce);case h:case C:return ie(ve+"Hours",0);case a:return ie(ve+"Minutes",1);case l:return ie(ve+"Seconds",2);case o:return ie(ve+"Milliseconds",3);default:return this.clone()}},I.endOf=function(B){return this.startOf(B,!1)},I.$set=function(B,W){var _,F=H.p(B),V="set"+(this.$u?"UTC":""),Z=(_={},_[h]=V+"Date",_[C]=V+"Date",_[c]=V+"Month",_[p]=V+"FullYear",_[a]=V+"Hours",_[l]=V+"Minutes",_[o]=V+"Seconds",_[r]=V+"Milliseconds",_)[F],ie=F===h?this.$D+(W-this.$W):W;if(F===c||F===p){var q=this.clone().set(C,1);q.$d[Z](ie),q.init(),this.$d=q.set(C,Math.min(this.$D,q.daysInMonth())).$d}else Z&&this.$d[Z](ie);return this.init(),this},I.set=function(B,W){return this.clone().$set(B,W)},I.get=function(B){return this[H.p(B)]()},I.add=function(B,W){var _,F=this;B=Number(B);var V=H.p(W),Z=function(ce){var ge=L(F);return H.w(ge.date(ge.date()+Math.round(ce*B)),F)};if(V===c)return this.set(c,this.$M+B);if(V===p)return this.set(p,this.$y+B);if(V===h)return Z(1);if(V===u)return Z(7);var ie=(_={},_[l]=i,_[a]=s,_[o]=t,_)[V]||1,q=this.$d.getTime()+B*ie;return H.w(q,this)},I.subtract=function(B,W){return this.add(-1*B,W)},I.format=function(B){var W=this,_=this.$locale();if(!this.isValid())return _.invalidDate||b;var F=B||"YYYY-MM-DDTHH:mm:ssZ",V=H.z(this),Z=this.$H,ie=this.$m,q=this.$M,ce=_.weekdays,ge=_.months,ve=function(ae,we,ze,f){return ae&&(ae[we]||ae(W,F))||ze[we].slice(0,f)},fe=function(ae){return H.s(Z%12||12,ae,"0")},xe=_.meridiem||function(ae,we,ze){var f=ae<12?"AM":"PM";return ze?f.toLowerCase():f},_e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:H.s(q+1,2,"0"),MMM:ve(_.monthsShort,q,ge,3),MMMM:ve(ge,q),D:this.$D,DD:H.s(this.$D,2,"0"),d:String(this.$W),dd:ve(_.weekdaysMin,this.$W,ce,2),ddd:ve(_.weekdaysShort,this.$W,ce,3),dddd:ce[this.$W],H:String(Z),HH:H.s(Z,2,"0"),h:fe(1),hh:fe(2),a:xe(Z,ie,!0),A:xe(Z,ie,!1),m:String(ie),mm:H.s(ie,2,"0"),s:String(this.$s),ss:H.s(this.$s,2,"0"),SSS:H.s(this.$ms,3,"0"),Z:V};return F.replace(w,function(ae,we){return we||_e[ae]||V.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(B,W,_){var F,V=H.p(W),Z=L(B),ie=(Z.utcOffset()-this.utcOffset())*i,q=this-Z,ce=H.m(this,Z);return ce=(F={},F[p]=ce/12,F[c]=ce,F[d]=ce/3,F[u]=(q-ie)/6048e5,F[h]=(q-ie)/864e5,F[a]=q/s,F[l]=q/i,F[o]=q/t,F)[V]||q,_?ce:H.a(ce)},I.daysInMonth=function(){return this.endOf(c).$D},I.$locale=function(){return k[this.$L]},I.locale=function(B,W){if(!B)return this.$L;var _=this.clone(),F=D(B,W,!0);return F&&(_.$L=F),_},I.clone=function(){return H.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},G}(),K=Y.prototype;return L.prototype=K,[["$ms",r],["$s",o],["$m",l],["$H",a],["$W",h],["$M",c],["$y",p],["$D",C]].forEach(function(G){K[G[1]]=function(I){return this.$g(I,G[0],G[1])}}),L.extend=function(G,I){return G.$i||(G(I,Y,L),G.$i=!0),L},L.locale=D,L.isDayjs=O,L.unix=function(G){return L(1e3*G)},L.en=k[R],L.Ls=k,L.p={},L})})(Ur);const Qe=is;var ss={},Kr={get exports(){return ss},set exports(n){ss=n}};(function(n,e){(function(t,i){n.exports=i()})(Mi,function(){return function(t,i){var s=i.prototype,r=s.format;s.format=function(o){var l=this,a=this.$locale();if(!this.isValid())return r.bind(this)(o);var h=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(c){switch(c){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return a.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return a.ordinal(l.week(),"W");case"w":case"ww":return h.s(l.week(),c==="w"?1:2,"0");case"W":case"WW":return h.s(l.isoWeek(),c==="W"?1:2,"0");case"k":case"kk":return h.s(String(l.$H===0?24:l.$H),c==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return c}});return r.bind(this)(u)}}})})(Kr);const qr=ss;function ys(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}function Es(n){if(J(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=be(i)?Zr(i):Es(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(be(n))return n;if(de(n))return n}}const Xr=/;(?![^(]*\))/g,Yr=/:([^]+)/,Jr=/\/\*.*?\*\//gs;function Zr(n){const e={};return n.replace(Jr,"").split(Xr).forEach(t=>{if(t){const i=t.split(Yr);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function xs(n){let e="";if(be(n))e=n;else if(J(n))for(let t=0;t<n.length;t++){const i=xs(n[t]);i&&(e+=i+" ")}else if(de(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Qr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eo=ys(Qr);function kn(n){return!!n||n===""}const to=n=>be(n)?n:n==null?"":J(n)||de(n)&&(n.toString===Dn||!Q(n.toString))?JSON.stringify(n,Ln,2):String(n),Ln=(n,e)=>e&&e.__v_isRef?Ln(n,e.value):At(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s])=>(t[`${i} =>`]=s,t),{})}:Sn(e)?{[`Set(${e.size})`]:[...e.values()]}:de(e)&&!J(e)&&!Fn(e)?String(e):e,he={},Ft=[],$e=()=>{},io=()=>!1,so=/^on[^a-z]/,Di=n=>so.test(n),Rs=n=>n.startsWith("onUpdate:"),Ee=Object.assign,Ts=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},no=Object.prototype.hasOwnProperty,se=(n,e)=>no.call(n,e),J=Array.isArray,At=n=>Fi(n)==="[object Map]",Sn=n=>Fi(n)==="[object Set]",Q=n=>typeof n=="function",be=n=>typeof n=="string",Ms=n=>typeof n=="symbol",de=n=>n!==null&&typeof n=="object",_n=n=>de(n)&&Q(n.then)&&Q(n.catch),Dn=Object.prototype.toString,Fi=n=>Dn.call(n),ro=n=>Fi(n).slice(8,-1),Fn=n=>Fi(n)==="[object Object]",ks=n=>be(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ei=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ai=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},oo=/-(\w)/g,Pt=Ai(n=>n.replace(oo,(e,t)=>t?t.toUpperCase():"")),lo=/\B([A-Z])/g,jt=Ai(n=>n.replace(lo,"-$1").toLowerCase()),An=Ai(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ui=Ai(n=>n?`on${An(n)}`:""),Qt=(n,e)=>!Object.is(n,e),Ki=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},ki=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},ao=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let Ys;const ho=()=>Ys||(Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ne;class uo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ne,!e&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Ne;try{return Ne=this,e()}finally{Ne=t}}}on(){Ne=this}off(){Ne=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function co(n,e=Ne){e&&e.active&&e.effects.push(n)}function fo(){return Ne}const Ls=n=>{const e=new Set(n);return e.w=0,e.n=0,e},zn=n=>(n.w&ht)>0,Hn=n=>(n.n&ht)>0,po=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=ht},mo=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const s=e[i];zn(s)&&!Hn(s)?s.delete(n):e[t++]=s,s.w&=~ht,s.n&=~ht}e.length=t}},ns=new WeakMap;let Xt=0,ht=1;const rs=30;let We;const wt=Symbol(""),os=Symbol("");class Ss{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,co(this,i)}run(){if(!this.active)return this.fn();let e=We,t=ot;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=We,We=this,ot=!0,ht=1<<++Xt,Xt<=rs?po(this):Js(this),this.fn()}finally{Xt<=rs&&mo(this),ht=1<<--Xt,We=this.parent,ot=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){We===this?this.deferStop=!0:this.active&&(Js(this),this.onStop&&this.onStop(),this.active=!1)}}function Js(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let ot=!0;const Pn=[];function Gt(){Pn.push(ot),ot=!1}function $t(){const n=Pn.pop();ot=n===void 0?!0:n}function Le(n,e,t){if(ot&&We){let i=ns.get(n);i||ns.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=Ls()),On(s)}}function On(n,e){let t=!1;Xt<=rs?Hn(n)||(n.n|=ht,t=!zn(n)):t=!n.has(We),t&&(n.add(We),We.deps.push(n))}function tt(n,e,t,i,s,r){const o=ns.get(n);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(t==="length"&&J(n)){const a=Number(i);o.forEach((h,u)=>{(u==="length"||u>=a)&&l.push(h)})}else switch(t!==void 0&&l.push(o.get(t)),e){case"add":J(n)?ks(t)&&l.push(o.get("length")):(l.push(o.get(wt)),At(n)&&l.push(o.get(os)));break;case"delete":J(n)||(l.push(o.get(wt)),At(n)&&l.push(o.get(os)));break;case"set":At(n)&&l.push(o.get(wt));break}if(l.length===1)l[0]&&ls(l[0]);else{const a=[];for(const h of l)h&&a.push(...h);ls(Ls(a))}}function ls(n,e){const t=J(n)?n:[...n];for(const i of t)i.computed&&Zs(i);for(const i of t)i.computed||Zs(i)}function Zs(n,e){(n!==We||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const go=ys("__proto__,__v_isRef,__isVue"),In=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ms)),bo=_s(),vo=_s(!1,!0),wo=_s(!0),Qs=Co();function Co(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=ne(this);for(let r=0,o=this.length;r<o;r++)Le(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(ne)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Gt();const i=ne(this)[e].apply(this,t);return $t(),i}}),n}function yo(n){const e=ne(this);return Le(e,"has",n),e.hasOwnProperty(n)}function _s(n=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(n?e?Oo:jn:e?Vn:Wn).get(i))return i;const o=J(i);if(!n){if(o&&se(Qs,s))return Reflect.get(Qs,s,r);if(s==="hasOwnProperty")return yo}const l=Reflect.get(i,s,r);return(Ms(s)?In.has(s):go(s))||(n||Le(i,"get",s),e)?l:ye(l)?o&&ks(s)?l:l.value:de(l)?n?Gn(l):kt(l):l}}const Eo=Bn(),xo=Bn(!0);function Bn(n=!1){return function(t,i,s,r){let o=t[i];if(Ot(o)&&ye(o)&&!ye(s))return!1;if(!n&&(!Li(s)&&!Ot(s)&&(o=ne(o),s=ne(s)),!J(t)&&ye(o)&&!ye(s)))return o.value=s,!0;const l=J(t)&&ks(i)?Number(i)<t.length:se(t,i),a=Reflect.set(t,i,s,r);return t===ne(r)&&(l?Qt(s,o)&&tt(t,"set",i,s):tt(t,"add",i,s)),a}}function Ro(n,e){const t=se(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&tt(n,"delete",e,void 0),i}function To(n,e){const t=Reflect.has(n,e);return(!Ms(e)||!In.has(e))&&Le(n,"has",e),t}function Mo(n){return Le(n,"iterate",J(n)?"length":wt),Reflect.ownKeys(n)}const Nn={get:bo,set:Eo,deleteProperty:Ro,has:To,ownKeys:Mo},ko={get:wo,set(n,e){return!0},deleteProperty(n,e){return!0}},Lo=Ee({},Nn,{get:vo,set:xo}),Ds=n=>n,zi=n=>Reflect.getPrototypeOf(n);function mi(n,e,t=!1,i=!1){n=n.__v_raw;const s=ne(n),r=ne(e);t||(e!==r&&Le(s,"get",e),Le(s,"get",r));const{has:o}=zi(s),l=i?Ds:t?zs:ei;if(o.call(s,e))return l(n.get(e));if(o.call(s,r))return l(n.get(r));n!==s&&n.get(e)}function gi(n,e=!1){const t=this.__v_raw,i=ne(t),s=ne(n);return e||(n!==s&&Le(i,"has",n),Le(i,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function bi(n,e=!1){return n=n.__v_raw,!e&&Le(ne(n),"iterate",wt),Reflect.get(n,"size",n)}function en(n){n=ne(n);const e=ne(this);return zi(e).has.call(e,n)||(e.add(n),tt(e,"add",n,n)),this}function tn(n,e){e=ne(e);const t=ne(this),{has:i,get:s}=zi(t);let r=i.call(t,n);r||(n=ne(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?Qt(e,o)&&tt(t,"set",n,e):tt(t,"add",n,e),this}function sn(n){const e=ne(this),{has:t,get:i}=zi(e);let s=t.call(e,n);s||(n=ne(n),s=t.call(e,n)),i&&i.call(e,n);const r=e.delete(n);return s&&tt(e,"delete",n,void 0),r}function nn(){const n=ne(this),e=n.size!==0,t=n.clear();return e&&tt(n,"clear",void 0,void 0),t}function vi(n,e){return function(i,s){const r=this,o=r.__v_raw,l=ne(o),a=e?Ds:n?zs:ei;return!n&&Le(l,"iterate",wt),o.forEach((h,u)=>i.call(s,a(h),a(u),r))}}function wi(n,e,t){return function(...i){const s=this.__v_raw,r=ne(s),o=At(r),l=n==="entries"||n===Symbol.iterator&&o,a=n==="keys"&&o,h=s[n](...i),u=t?Ds:e?zs:ei;return!e&&Le(r,"iterate",a?os:wt),{next(){const{value:c,done:d}=h.next();return d?{value:c,done:d}:{value:l?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function st(n){return function(...e){return n==="delete"?!1:this}}function So(){const n={get(r){return mi(this,r)},get size(){return bi(this)},has:gi,add:en,set:tn,delete:sn,clear:nn,forEach:vi(!1,!1)},e={get(r){return mi(this,r,!1,!0)},get size(){return bi(this)},has:gi,add:en,set:tn,delete:sn,clear:nn,forEach:vi(!1,!0)},t={get(r){return mi(this,r,!0)},get size(){return bi(this,!0)},has(r){return gi.call(this,r,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:vi(!0,!1)},i={get(r){return mi(this,r,!0,!0)},get size(){return bi(this,!0)},has(r){return gi.call(this,r,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:vi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=wi(r,!1,!1),t[r]=wi(r,!0,!1),e[r]=wi(r,!1,!0),i[r]=wi(r,!0,!0)}),[n,t,e,i]}const[_o,Do,Fo,Ao]=So();function Fs(n,e){const t=e?n?Ao:Fo:n?Do:_o;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(se(t,s)&&s in i?t:i,s,r)}const zo={get:Fs(!1,!1)},Ho={get:Fs(!1,!0)},Po={get:Fs(!0,!1)},Wn=new WeakMap,Vn=new WeakMap,jn=new WeakMap,Oo=new WeakMap;function Io(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bo(n){return n.__v_skip||!Object.isExtensible(n)?0:Io(ro(n))}function kt(n){return Ot(n)?n:As(n,!1,Nn,zo,Wn)}function No(n){return As(n,!1,Lo,Ho,Vn)}function Gn(n){return As(n,!0,ko,Po,jn)}function As(n,e,t,i,s){if(!de(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=Bo(n);if(o===0)return n;const l=new Proxy(n,o===2?i:t);return s.set(n,l),l}function zt(n){return Ot(n)?zt(n.__v_raw):!!(n&&n.__v_isReactive)}function Ot(n){return!!(n&&n.__v_isReadonly)}function Li(n){return!!(n&&n.__v_isShallow)}function $n(n){return zt(n)||Ot(n)}function ne(n){const e=n&&n.__v_raw;return e?ne(e):n}function Un(n){return ki(n,"__v_skip",!0),n}const ei=n=>de(n)?kt(n):n,zs=n=>de(n)?Gn(n):n;function Kn(n){ot&&We&&(n=ne(n),On(n.dep||(n.dep=Ls())))}function qn(n,e){n=ne(n);const t=n.dep;t&&ls(t)}function ye(n){return!!(n&&n.__v_isRef===!0)}function Et(n){return Wo(n,!1)}function Wo(n,e){return ye(n)?n:new Vo(n,e)}class Vo{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ne(e),this._value=t?e:ei(e)}get value(){return Kn(this),this._value}set value(e){const t=this.__v_isShallow||Li(e)||Ot(e);e=t?e:ne(e),Qt(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ei(e),qn(this))}}function pt(n){return ye(n)?n.value:n}const jo={get:(n,e,t)=>pt(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return ye(s)&&!ye(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function Xn(n){return zt(n)?n:new Proxy(n,jo)}var Yn;class Go{constructor(e,t,i,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Yn]=!1,this._dirty=!0,this.effect=new Ss(e,()=>{this._dirty||(this._dirty=!0,qn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=ne(this);return Kn(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Yn="__v_isReadonly";function $o(n,e,t=!1){let i,s;const r=Q(n);return r?(i=n,s=$e):(i=n.get,s=n.set),new Go(i,s,r||!s,t)}function lt(n,e,t,i){let s;try{s=i?n(...i):n()}catch(r){Hi(r,e,t)}return s}function Ie(n,e,t,i){if(Q(n)){const r=lt(n,e,t,i);return r&&_n(r)&&r.catch(o=>{Hi(o,e,t)}),r}const s=[];for(let r=0;r<n.length;r++)s.push(Ie(n[r],e,t,i));return s}function Hi(n,e,t,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,l=t;for(;r;){const h=r.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](n,o,l)===!1)return}r=r.parent}const a=e.appContext.config.errorHandler;if(a){lt(a,null,10,[n,o,l]);return}}Uo(n,t,s,i)}function Uo(n,e,t,i=!0){console.error(n)}let ti=!1,as=!1;const Ce=[];let Xe=0;const Ht=[];let Je=null,gt=0;const Jn=Promise.resolve();let Hs=null;function Ko(n){const e=Hs||Jn;return n?e.then(this?n.bind(this):n):e}function qo(n){let e=Xe+1,t=Ce.length;for(;e<t;){const i=e+t>>>1;ii(Ce[i])<n?e=i+1:t=i}return e}function Ps(n){(!Ce.length||!Ce.includes(n,ti&&n.allowRecurse?Xe+1:Xe))&&(n.id==null?Ce.push(n):Ce.splice(qo(n.id),0,n),Zn())}function Zn(){!ti&&!as&&(as=!0,Hs=Jn.then(er))}function Xo(n){const e=Ce.indexOf(n);e>Xe&&Ce.splice(e,1)}function Yo(n){J(n)?Ht.push(...n):(!Je||!Je.includes(n,n.allowRecurse?gt+1:gt))&&Ht.push(n),Zn()}function rn(n,e=ti?Xe+1:0){for(;e<Ce.length;e++){const t=Ce[e];t&&t.pre&&(Ce.splice(e,1),e--,t())}}function Qn(n){if(Ht.length){const e=[...new Set(Ht)];if(Ht.length=0,Je){Je.push(...e);return}for(Je=e,Je.sort((t,i)=>ii(t)-ii(i)),gt=0;gt<Je.length;gt++)Je[gt]();Je=null,gt=0}}const ii=n=>n.id==null?1/0:n.id,Jo=(n,e)=>{const t=ii(n)-ii(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function er(n){as=!1,ti=!0,Ce.sort(Jo);const e=$e;try{for(Xe=0;Xe<Ce.length;Xe++){const t=Ce[Xe];t&&t.active!==!1&&lt(t,null,14)}}finally{Xe=0,Ce.length=0,Qn(),ti=!1,Hs=null,(Ce.length||Ht.length)&&er()}}function Zo(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||he;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:d}=i[u]||he;d&&(s=t.map(p=>be(p)?p.trim():p)),c&&(s=t.map(ao))}let l,a=i[l=Ui(e)]||i[l=Ui(Pt(e))];!a&&r&&(a=i[l=Ui(jt(e))]),a&&Ie(a,n,6,s);const h=i[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Ie(h,n,6,s)}}function tr(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},l=!1;if(!Q(n)){const a=h=>{const u=tr(h,e,!0);u&&(l=!0,Ee(o,u))};!t&&e.mixins.length&&e.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!r&&!l?(de(n)&&i.set(n,null),null):(J(r)?r.forEach(a=>o[a]=null):Ee(o,r),de(n)&&i.set(n,o),o)}function Pi(n,e){return!n||!Di(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(n,e[0].toLowerCase()+e.slice(1))||se(n,jt(e))||se(n,e))}let Ve=null,Oi=null;function Si(n){const e=Ve;return Ve=n,Oi=n&&n.type.__scopeId||null,e}function Qo(n){Oi=n}function el(){Oi=null}function tl(n,e=Ve,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&mn(-1);const r=Si(e);let o;try{o=n(...s)}finally{Si(r),i._d&&mn(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function qi(n){const{type:e,vnode:t,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:l,attrs:a,emit:h,render:u,renderCache:c,data:d,setupState:p,ctx:C,inheritAttrs:b}=n;let x,w;const v=Si(n);try{if(t.shapeFlag&4){const y=s||i;x=qe(u.call(y,y,c,r,p,d,C)),w=a}else{const y=e;x=qe(y.length>1?y(r,{attrs:a,slots:l,emit:h}):y(r,null)),w=e.props?a:il(a)}}catch(y){Zt.length=0,Hi(y,n,1),x=Oe(et)}let g=x;if(w&&b!==!1){const y=Object.keys(w),{shapeFlag:R}=g;y.length&&R&7&&(o&&y.some(Rs)&&(w=sl(w,o)),g=dt(g,w))}return t.dirs&&(g=dt(g),g.dirs=g.dirs?g.dirs.concat(t.dirs):t.dirs),t.transition&&(g.transition=t.transition),x=g,Si(v),x}const il=n=>{let e;for(const t in n)(t==="class"||t==="style"||Di(t))&&((e||(e={}))[t]=n[t]);return e},sl=(n,e)=>{const t={};for(const i in n)(!Rs(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function nl(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:l,patchFlag:a}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return i?on(i,o,h):!!o;if(a&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(o[d]!==i[d]&&!Pi(h,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?on(i,o,h):!0:!!o;return!1}function on(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!Pi(t,r))return!0}return!1}function rl({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const ol=n=>n.__isSuspense;function ll(n,e){e&&e.pendingBranch?J(n)?e.effects.push(...n):e.effects.push(n):Yo(n)}function al(n,e){if(me){let t=me.provides;const i=me.parent&&me.parent.provides;i===t&&(t=me.provides=Object.create(i)),t[n]=e}}function xi(n,e,t=!1){const i=me||Ve;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&Q(e)?e.call(i.proxy):e}}const Ci={};function Xi(n,e,t){return ir(n,e,t)}function ir(n,e,{immediate:t,deep:i,flush:s,onTrack:r,onTrigger:o}=he){const l=fo()===me?.scope?me:null;let a,h=!1,u=!1;if(ye(n)?(a=()=>n.value,h=Li(n)):zt(n)?(a=()=>n,i=!0):J(n)?(u=!0,h=n.some(g=>zt(g)||Li(g)),a=()=>n.map(g=>{if(ye(g))return g.value;if(zt(g))return _t(g);if(Q(g))return lt(g,l,2)})):Q(n)?e?a=()=>lt(n,l,2):a=()=>{if(!(l&&l.isUnmounted))return c&&c(),Ie(n,l,3,[d])}:a=$e,e&&i){const g=a;a=()=>_t(g())}let c,d=g=>{c=w.onStop=()=>{lt(g,l,4)}},p;if(ni)if(d=$e,e?t&&Ie(e,l,3,[a(),u?[]:void 0,d]):a(),s==="sync"){const g=ra();p=g.__watcherHandles||(g.__watcherHandles=[])}else return $e;let C=u?new Array(n.length).fill(Ci):Ci;const b=()=>{if(w.active)if(e){const g=w.run();(i||h||(u?g.some((y,R)=>Qt(y,C[R])):Qt(g,C)))&&(c&&c(),Ie(e,l,3,[g,C===Ci?void 0:u&&C[0]===Ci?[]:C,d]),C=g)}else w.run()};b.allowRecurse=!!e;let x;s==="sync"?x=b:s==="post"?x=()=>Me(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),x=()=>Ps(b));const w=new Ss(a,x);e?t?b():C=w.run():s==="post"?Me(w.run.bind(w),l&&l.suspense):w.run();const v=()=>{w.stop(),l&&l.scope&&Ts(l.scope.effects,w)};return p&&p.push(v),v}function hl(n,e,t){const i=this.proxy,s=be(n)?n.includes(".")?sr(i,n):()=>i[n]:n.bind(i,i);let r;Q(e)?r=e:(r=e.handler,t=e);const o=me;It(this);const l=ir(s,r.bind(i),t);return o?It(o):Ct(),l}function sr(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function _t(n,e){if(!de(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),ye(n))_t(n.value,e);else if(J(n))for(let t=0;t<n.length;t++)_t(n[t],e);else if(Sn(n)||At(n))n.forEach(t=>{_t(t,e)});else if(Fn(n))for(const t in n)_t(n[t],e);return n}function ul(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ut(()=>{n.isMounted=!0}),lr(()=>{n.isUnmounting=!0}),n}const He=[Function,Array],dl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:He,onEnter:He,onAfterEnter:He,onEnterCancelled:He,onBeforeLeave:He,onLeave:He,onAfterLeave:He,onLeaveCancelled:He,onBeforeAppear:He,onAppear:He,onAfterAppear:He,onAppearCancelled:He},setup(n,{slots:e}){const t=Jl(),i=ul();let s;return()=>{const r=e.default&&rr(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const b of r)if(b.type!==et){o=b;break}}const l=ne(n),{mode:a}=l;if(i.isLeaving)return Yi(o);const h=ln(o);if(!h)return Yi(o);const u=hs(h,l,i,t);us(h,u);const c=t.subTree,d=c&&ln(c);let p=!1;const{getTransitionKey:C}=h.type;if(C){const b=C();s===void 0?s=b:b!==s&&(s=b,p=!0)}if(d&&d.type!==et&&(!bt(h,d)||p)){const b=hs(d,l,i,t);if(us(d,b),a==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&t.update()},Yi(o);a==="in-out"&&h.type!==et&&(b.delayLeave=(x,w,v)=>{const g=nr(i,d);g[String(d.key)]=d,x._leaveCb=()=>{w(),x._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=v})}return o}}},cl=dl;function nr(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function hs(n,e,t,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:p,onLeaveCancelled:C,onBeforeAppear:b,onAppear:x,onAfterAppear:w,onAppearCancelled:v}=e,g=String(n.key),y=nr(t,n),R=(D,L)=>{D&&Ie(D,i,9,L)},k=(D,L)=>{const H=L[1];R(D,L),J(D)?D.every(Y=>Y.length<=1)&&H():D.length<=1&&H()},O={mode:r,persisted:o,beforeEnter(D){let L=l;if(!t.isMounted)if(s)L=b||l;else return;D._leaveCb&&D._leaveCb(!0);const H=y[g];H&&bt(n,H)&&H.el._leaveCb&&H.el._leaveCb(),R(L,[D])},enter(D){let L=a,H=h,Y=u;if(!t.isMounted)if(s)L=x||a,H=w||h,Y=v||u;else return;let K=!1;const G=D._enterCb=I=>{K||(K=!0,I?R(Y,[D]):R(H,[D]),O.delayedLeave&&O.delayedLeave(),D._enterCb=void 0)};L?k(L,[D,G]):G()},leave(D,L){const H=String(n.key);if(D._enterCb&&D._enterCb(!0),t.isUnmounting)return L();R(c,[D]);let Y=!1;const K=D._leaveCb=G=>{Y||(Y=!0,L(),G?R(C,[D]):R(p,[D]),D._leaveCb=void 0,y[H]===n&&delete y[H])};y[H]=n,d?k(d,[D,K]):K()},clone(D){return hs(D,e,t,i)}};return O}function Yi(n){if(Ii(n))return n=dt(n),n.children=null,n}function ln(n){return Ii(n)?n.children?n.children[0]:void 0:n}function us(n,e){n.shapeFlag&6&&n.component?us(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function rr(n,e=!1,t){let i=[],s=0;for(let r=0;r<n.length;r++){let o=n[r];const l=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===Ae?(o.patchFlag&128&&s++,i=i.concat(rr(o.children,e,l))):(e||o.type!==et)&&i.push(l!=null?dt(o,{key:l}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function ri(n){return Q(n)?{setup:n,name:n.name}:n}const Ri=n=>!!n.type.__asyncLoader,Ii=n=>n.type.__isKeepAlive;function fl(n,e){or(n,"a",e)}function pl(n,e){or(n,"da",e)}function or(n,e,t=me){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Bi(e,i,t),t){let s=t.parent;for(;s&&s.parent;)Ii(s.parent.vnode)&&ml(i,e,t,s),s=s.parent}}function ml(n,e,t,i){const s=Bi(e,n,i,!0);oi(()=>{Ts(i[e],s)},t)}function Bi(n,e,t=me,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;Gt(),It(t);const l=Ie(e,t,n,o);return Ct(),$t(),l});return i?s.unshift(r):s.push(r),r}}const it=n=>(e,t=me)=>(!ni||n==="sp")&&Bi(n,(...i)=>e(...i),t),gl=it("bm"),Ut=it("m"),bl=it("bu"),vl=it("u"),lr=it("bum"),oi=it("um"),wl=it("sp"),Cl=it("rtg"),yl=it("rtc");function El(n,e=me){Bi("ec",n,e)}function ct(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&(Gt(),Ie(a,t,8,[n.el,l,n,e]),$t())}}const xl=Symbol(),ds=n=>n?vr(n)?js(n)||n.proxy:ds(n.parent):null,Yt=Ee(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ds(n.parent),$root:n=>ds(n.root),$emit:n=>n.emit,$options:n=>Os(n),$forceUpdate:n=>n.f||(n.f=()=>Ps(n.update)),$nextTick:n=>n.n||(n.n=Ko.bind(n.proxy)),$watch:n=>hl.bind(n)}),Ji=(n,e)=>n!==he&&!n.__isScriptSetup&&se(n,e),Rl={get({_:n},e){const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:l,appContext:a}=n;let h;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(Ji(i,e))return o[e]=1,i[e];if(s!==he&&se(s,e))return o[e]=2,s[e];if((h=n.propsOptions[0])&&se(h,e))return o[e]=3,r[e];if(t!==he&&se(t,e))return o[e]=4,t[e];cs&&(o[e]=0)}}const u=Yt[e];let c,d;if(u)return e==="$attrs"&&Le(n,"get",e),u(n);if((c=l.__cssModules)&&(c=c[e]))return c;if(t!==he&&se(t,e))return o[e]=4,t[e];if(d=a.config.globalProperties,se(d,e))return d[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return Ji(s,e)?(s[e]=t,!0):i!==he&&se(i,e)?(i[e]=t,!0):se(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let l;return!!t[o]||n!==he&&se(n,o)||Ji(e,o)||(l=r[0])&&se(l,o)||se(i,o)||se(Yt,o)||se(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:se(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};let cs=!0;function Tl(n){const e=Os(n),t=n.proxy,i=n.ctx;cs=!1,e.beforeCreate&&an(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:l,provide:a,inject:h,created:u,beforeMount:c,mounted:d,beforeUpdate:p,updated:C,activated:b,deactivated:x,beforeDestroy:w,beforeUnmount:v,destroyed:g,unmounted:y,render:R,renderTracked:k,renderTriggered:O,errorCaptured:D,serverPrefetch:L,expose:H,inheritAttrs:Y,components:K,directives:G,filters:I}=e;if(h&&Ml(h,i,null,n.appContext.config.unwrapInjectedRef),o)for(const _ in o){const F=o[_];Q(F)&&(i[_]=F.bind(t))}if(s){const _=s.call(t,t);de(_)&&(n.data=kt(_))}if(cs=!0,r)for(const _ in r){const F=r[_],V=Q(F)?F.bind(t,t):Q(F.get)?F.get.bind(t,t):$e,Z=!Q(F)&&Q(F.set)?F.set.bind(t):$e,ie=sa({get:V,set:Z});Object.defineProperty(i,_,{enumerable:!0,configurable:!0,get:()=>ie.value,set:q=>ie.value=q})}if(l)for(const _ in l)ar(l[_],i,t,_);if(a){const _=Q(a)?a.call(t):a;Reflect.ownKeys(_).forEach(F=>{al(F,_[F])})}u&&an(u,n,"c");function W(_,F){J(F)?F.forEach(V=>_(V.bind(t))):F&&_(F.bind(t))}if(W(gl,c),W(Ut,d),W(bl,p),W(vl,C),W(fl,b),W(pl,x),W(El,D),W(yl,k),W(Cl,O),W(lr,v),W(oi,y),W(wl,L),J(H))if(H.length){const _=n.exposed||(n.exposed={});H.forEach(F=>{Object.defineProperty(_,F,{get:()=>t[F],set:V=>t[F]=V})})}else n.exposed||(n.exposed={});R&&n.render===$e&&(n.render=R),Y!=null&&(n.inheritAttrs=Y),K&&(n.components=K),G&&(n.directives=G)}function Ml(n,e,t=$e,i=!1){J(n)&&(n=fs(n));for(const s in n){const r=n[s];let o;de(r)?"default"in r?o=xi(r.from||s,r.default,!0):o=xi(r.from||s):o=xi(r),ye(o)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[s]=o}}function an(n,e,t){Ie(J(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function ar(n,e,t,i){const s=i.includes(".")?sr(t,i):()=>t[i];if(be(n)){const r=e[n];Q(r)&&Xi(s,r)}else if(Q(n))Xi(s,n.bind(t));else if(de(n))if(J(n))n.forEach(r=>ar(r,e,t,i));else{const r=Q(n.handler)?n.handler.bind(t):e[n.handler];Q(r)&&Xi(s,r,n)}}function Os(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let a;return l?a=l:!s.length&&!t&&!i?a=e:(a={},s.length&&s.forEach(h=>_i(a,h,o,!0)),_i(a,e,o)),de(e)&&r.set(e,a),a}function _i(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&_i(n,r,t,!0),s&&s.forEach(o=>_i(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const l=kl[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const kl={data:hn,props:mt,emits:mt,methods:mt,computed:mt,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:mt,directives:mt,watch:Sl,provide:hn,inject:Ll};function hn(n,e){return e?n?function(){return Ee(Q(n)?n.call(this,this):n,Q(e)?e.call(this,this):e)}:e:n}function Ll(n,e){return mt(fs(n),fs(e))}function fs(n){if(J(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Re(n,e){return n?[...new Set([].concat(n,e))]:e}function mt(n,e){return n?Ee(Ee(Object.create(null),n),e):e}function Sl(n,e){if(!n)return e;if(!e)return n;const t=Ee(Object.create(null),n);for(const i in e)t[i]=Re(n[i],e[i]);return t}function _l(n,e,t,i=!1){const s={},r={};ki(r,Wi,1),n.propsDefaults=Object.create(null),hr(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:No(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function Dl(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,l=ne(s),[a]=n.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Pi(n.emitsOptions,d))continue;const p=e[d];if(a)if(se(r,d))p!==r[d]&&(r[d]=p,h=!0);else{const C=Pt(d);s[C]=ps(a,l,C,p,n,!1)}else p!==r[d]&&(r[d]=p,h=!0)}}}else{hr(n,e,s,r)&&(h=!0);let u;for(const c in l)(!e||!se(e,c)&&((u=jt(c))===c||!se(e,u)))&&(a?t&&(t[c]!==void 0||t[u]!==void 0)&&(s[c]=ps(a,l,c,void 0,n,!0)):delete s[c]);if(r!==l)for(const c in r)(!e||!se(e,c))&&(delete r[c],h=!0)}h&&tt(n,"set","$attrs")}function hr(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,l;if(e)for(let a in e){if(Ei(a))continue;const h=e[a];let u;s&&se(s,u=Pt(a))?!r||!r.includes(u)?t[u]=h:(l||(l={}))[u]=h:Pi(n.emitsOptions,a)||(!(a in i)||h!==i[a])&&(i[a]=h,o=!0)}if(r){const a=ne(t),h=l||he;for(let u=0;u<r.length;u++){const c=r[u];t[c]=ps(s,a,c,h[c],n,!se(h,c))}}return o}function ps(n,e,t,i,s,r){const o=n[t];if(o!=null){const l=se(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&Q(a)){const{propsDefaults:h}=s;t in h?i=h[t]:(It(s),i=h[t]=a.call(null,e),Ct())}else i=a}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===jt(t))&&(i=!0))}return i}function ur(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},l=[];let a=!1;if(!Q(n)){const u=c=>{a=!0;const[d,p]=ur(c,e,!0);Ee(o,d),p&&l.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!a)return de(n)&&i.set(n,Ft),Ft;if(J(r))for(let u=0;u<r.length;u++){const c=Pt(r[u]);un(c)&&(o[c]=he)}else if(r)for(const u in r){const c=Pt(u);if(un(c)){const d=r[u],p=o[c]=J(d)||Q(d)?{type:d}:Object.assign({},d);if(p){const C=fn(Boolean,p.type),b=fn(String,p.type);p[0]=C>-1,p[1]=b<0||C<b,(C>-1||se(p,"default"))&&l.push(c)}}}const h=[o,l];return de(n)&&i.set(n,h),h}function un(n){return n[0]!=="$"}function dn(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function cn(n,e){return dn(n)===dn(e)}function fn(n,e){return J(e)?e.findIndex(t=>cn(t,n)):Q(e)&&cn(e,n)?0:-1}const dr=n=>n[0]==="_"||n==="$stable",Is=n=>J(n)?n.map(qe):[qe(n)],Fl=(n,e,t)=>{if(e._n)return e;const i=tl((...s)=>Is(e(...s)),t);return i._c=!1,i},cr=(n,e,t)=>{const i=n._ctx;for(const s in n){if(dr(s))continue;const r=n[s];if(Q(r))e[s]=Fl(s,r,i);else if(r!=null){const o=Is(r);e[s]=()=>o}}},fr=(n,e)=>{const t=Is(e);n.slots.default=()=>t},Al=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=ne(e),ki(e,"_",t)):cr(e,n.slots={})}else n.slots={},e&&fr(n,e);ki(n.slots,Wi,1)},zl=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=he;if(i.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:(Ee(s,e),!t&&l===1&&delete s._):(r=!e.$stable,cr(e,s)),o=e}else e&&(fr(n,e),o={default:1});if(r)for(const l in s)!dr(l)&&!(l in o)&&delete s[l]};function pr(){return{app:null,config:{isNativeTag:io,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hl=0;function Pl(n,e){return function(i,s=null){Q(i)||(i=Object.assign({},i)),s!=null&&!de(s)&&(s=null);const r=pr(),o=new Set;let l=!1;const a=r.app={_uid:Hl++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:oa,get config(){return r.config},set config(h){},use(h,...u){return o.has(h)||(h&&Q(h.install)?(o.add(h),h.install(a,...u)):Q(h)&&(o.add(h),h(a,...u))),a},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),a},component(h,u){return u?(r.components[h]=u,a):r.components[h]},directive(h,u){return u?(r.directives[h]=u,a):r.directives[h]},mount(h,u,c){if(!l){const d=Oe(i,s);return d.appContext=r,u&&e?e(d,h):n(d,h,c),l=!0,a._container=h,h.__vue_app__=a,js(d.component)||d.component.proxy}},unmount(){l&&(n(null,a._container),delete a._container.__vue_app__)},provide(h,u){return r.provides[h]=u,a}};return a}}function ms(n,e,t,i,s=!1){if(J(n)){n.forEach((d,p)=>ms(d,e&&(J(e)?e[p]:e),t,i,s));return}if(Ri(i)&&!s)return;const r=i.shapeFlag&4?js(i.component)||i.component.proxy:i.el,o=s?null:r,{i:l,r:a}=n,h=e&&e.r,u=l.refs===he?l.refs={}:l.refs,c=l.setupState;if(h!=null&&h!==a&&(be(h)?(u[h]=null,se(c,h)&&(c[h]=null)):ye(h)&&(h.value=null)),Q(a))lt(a,l,12,[o,u]);else{const d=be(a),p=ye(a);if(d||p){const C=()=>{if(n.f){const b=d?se(c,a)?c[a]:u[a]:a.value;s?J(b)&&Ts(b,r):J(b)?b.includes(r)||b.push(r):d?(u[a]=[r],se(c,a)&&(c[a]=u[a])):(a.value=[r],n.k&&(u[n.k]=a.value))}else d?(u[a]=o,se(c,a)&&(c[a]=o)):p&&(a.value=o,n.k&&(u[n.k]=o))};o?(C.id=-1,Me(C,t)):C()}}}const Me=ll;function Ol(n){return Il(n)}function Il(n,e){const t=ho();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:l,createComment:a,setText:h,setElementText:u,parentNode:c,nextSibling:d,setScopeId:p=$e,insertStaticContent:C}=n,b=(f,m,E,M=null,T=null,z=null,N=!1,A=null,P=!!m.dynamicChildren)=>{if(f===m)return;f&&!bt(f,m)&&(M=xe(f),q(f,T,z,!0),f=null),m.patchFlag===-2&&(P=!1,m.dynamicChildren=null);const{type:S,ref:$,shapeFlag:j}=m;switch(S){case Ni:x(f,m,E,M);break;case et:w(f,m,E,M);break;case Zi:f==null&&v(m,E,M,N);break;case Ae:K(f,m,E,M,T,z,N,A,P);break;default:j&1?R(f,m,E,M,T,z,N,A,P):j&6?G(f,m,E,M,T,z,N,A,P):(j&64||j&128)&&S.process(f,m,E,M,T,z,N,A,P,ae)}$!=null&&T&&ms($,f&&f.ref,z,m||f,!m)},x=(f,m,E,M)=>{if(f==null)i(m.el=l(m.children),E,M);else{const T=m.el=f.el;m.children!==f.children&&h(T,m.children)}},w=(f,m,E,M)=>{f==null?i(m.el=a(m.children||""),E,M):m.el=f.el},v=(f,m,E,M)=>{[f.el,f.anchor]=C(f.children,m,E,M,f.el,f.anchor)},g=({el:f,anchor:m},E,M)=>{let T;for(;f&&f!==m;)T=d(f),i(f,E,M),f=T;i(m,E,M)},y=({el:f,anchor:m})=>{let E;for(;f&&f!==m;)E=d(f),s(f),f=E;s(m)},R=(f,m,E,M,T,z,N,A,P)=>{N=N||m.type==="svg",f==null?k(m,E,M,T,z,N,A,P):L(f,m,T,z,N,A,P)},k=(f,m,E,M,T,z,N,A)=>{let P,S;const{type:$,props:j,shapeFlag:U,transition:X,dirs:te}=f;if(P=f.el=o(f.type,z,j&&j.is,j),U&8?u(P,f.children):U&16&&D(f.children,P,null,M,T,z&&$!=="foreignObject",N,A),te&&ct(f,null,M,"created"),O(P,f,f.scopeId,N,M),j){for(const re in j)re!=="value"&&!Ei(re)&&r(P,re,null,j[re],z,f.children,M,T,fe);"value"in j&&r(P,"value",null,j.value),(S=j.onVnodeBeforeMount)&&Ke(S,M,f)}te&&ct(f,null,M,"beforeMount");const le=(!T||T&&!T.pendingBranch)&&X&&!X.persisted;le&&X.beforeEnter(P),i(P,m,E),((S=j&&j.onVnodeMounted)||le||te)&&Me(()=>{S&&Ke(S,M,f),le&&X.enter(P),te&&ct(f,null,M,"mounted")},T)},O=(f,m,E,M,T)=>{if(E&&p(f,E),M)for(let z=0;z<M.length;z++)p(f,M[z]);if(T){let z=T.subTree;if(m===z){const N=T.vnode;O(f,N,N.scopeId,N.slotScopeIds,T.parent)}}},D=(f,m,E,M,T,z,N,A,P=0)=>{for(let S=P;S<f.length;S++){const $=f[S]=A?nt(f[S]):qe(f[S]);b(null,$,m,E,M,T,z,N,A)}},L=(f,m,E,M,T,z,N)=>{const A=m.el=f.el;let{patchFlag:P,dynamicChildren:S,dirs:$}=m;P|=f.patchFlag&16;const j=f.props||he,U=m.props||he;let X;E&&ft(E,!1),(X=U.onVnodeBeforeUpdate)&&Ke(X,E,m,f),$&&ct(m,f,E,"beforeUpdate"),E&&ft(E,!0);const te=T&&m.type!=="foreignObject";if(S?H(f.dynamicChildren,S,A,E,M,te,z):N||F(f,m,A,null,E,M,te,z,!1),P>0){if(P&16)Y(A,m,j,U,E,M,T);else if(P&2&&j.class!==U.class&&r(A,"class",null,U.class,T),P&4&&r(A,"style",j.style,U.style,T),P&8){const le=m.dynamicProps;for(let re=0;re<le.length;re++){const pe=le[re],Be=j[pe],Lt=U[pe];(Lt!==Be||pe==="value")&&r(A,pe,Be,Lt,T,f.children,E,M,fe)}}P&1&&f.children!==m.children&&u(A,m.children)}else!N&&S==null&&Y(A,m,j,U,E,M,T);((X=U.onVnodeUpdated)||$)&&Me(()=>{X&&Ke(X,E,m,f),$&&ct(m,f,E,"updated")},M)},H=(f,m,E,M,T,z,N)=>{for(let A=0;A<m.length;A++){const P=f[A],S=m[A],$=P.el&&(P.type===Ae||!bt(P,S)||P.shapeFlag&70)?c(P.el):E;b(P,S,$,null,M,T,z,N,!0)}},Y=(f,m,E,M,T,z,N)=>{if(E!==M){if(E!==he)for(const A in E)!Ei(A)&&!(A in M)&&r(f,A,E[A],null,N,m.children,T,z,fe);for(const A in M){if(Ei(A))continue;const P=M[A],S=E[A];P!==S&&A!=="value"&&r(f,A,S,P,N,m.children,T,z,fe)}"value"in M&&r(f,"value",E.value,M.value)}},K=(f,m,E,M,T,z,N,A,P)=>{const S=m.el=f?f.el:l(""),$=m.anchor=f?f.anchor:l("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:X}=m;X&&(A=A?A.concat(X):X),f==null?(i(S,E,M),i($,E,M),D(m.children,E,$,T,z,N,A,P)):j>0&&j&64&&U&&f.dynamicChildren?(H(f.dynamicChildren,U,E,T,z,N,A),(m.key!=null||T&&m===T.subTree)&&Bs(f,m,!0)):F(f,m,E,$,T,z,N,A,P)},G=(f,m,E,M,T,z,N,A,P)=>{m.slotScopeIds=A,f==null?m.shapeFlag&512?T.ctx.activate(m,E,M,N,P):I(m,E,M,T,z,N,P):B(f,m,P)},I=(f,m,E,M,T,z,N)=>{const A=f.component=Yl(f,M,T);if(Ii(f)&&(A.ctx.renderer=ae),Zl(A),A.asyncDep){if(T&&T.registerDep(A,W),!f.el){const P=A.subTree=Oe(et);w(null,P,m,E)}return}W(A,f,m,E,T,z,N)},B=(f,m,E)=>{const M=m.component=f.component;if(nl(f,m,E))if(M.asyncDep&&!M.asyncResolved){_(M,m,E);return}else M.next=m,Xo(M.update),M.update();else m.el=f.el,M.vnode=m},W=(f,m,E,M,T,z,N)=>{const A=()=>{if(f.isMounted){let{next:$,bu:j,u:U,parent:X,vnode:te}=f,le=$,re;ft(f,!1),$?($.el=te.el,_(f,$,N)):$=te,j&&Ki(j),(re=$.props&&$.props.onVnodeBeforeUpdate)&&Ke(re,X,$,te),ft(f,!0);const pe=qi(f),Be=f.subTree;f.subTree=pe,b(Be,pe,c(Be.el),xe(Be),f,T,z),$.el=pe.el,le===null&&rl(f,pe.el),U&&Me(U,T),(re=$.props&&$.props.onVnodeUpdated)&&Me(()=>Ke(re,X,$,te),T)}else{let $;const{el:j,props:U}=m,{bm:X,m:te,parent:le}=f,re=Ri(m);if(ft(f,!1),X&&Ki(X),!re&&($=U&&U.onVnodeBeforeMount)&&Ke($,le,m),ft(f,!0),j&&ze){const pe=()=>{f.subTree=qi(f),ze(j,f.subTree,f,T,null)};re?m.type.__asyncLoader().then(()=>!f.isUnmounted&&pe()):pe()}else{const pe=f.subTree=qi(f);b(null,pe,E,M,f,T,z),m.el=pe.el}if(te&&Me(te,T),!re&&($=U&&U.onVnodeMounted)){const pe=m;Me(()=>Ke($,le,pe),T)}(m.shapeFlag&256||le&&Ri(le.vnode)&&le.vnode.shapeFlag&256)&&f.a&&Me(f.a,T),f.isMounted=!0,m=E=M=null}},P=f.effect=new Ss(A,()=>Ps(S),f.scope),S=f.update=()=>P.run();S.id=f.uid,ft(f,!0),S()},_=(f,m,E)=>{m.component=f;const M=f.vnode.props;f.vnode=m,f.next=null,Dl(f,m.props,M,E),zl(f,m.children,E),Gt(),rn(),$t()},F=(f,m,E,M,T,z,N,A,P=!1)=>{const S=f&&f.children,$=f?f.shapeFlag:0,j=m.children,{patchFlag:U,shapeFlag:X}=m;if(U>0){if(U&128){Z(S,j,E,M,T,z,N,A,P);return}else if(U&256){V(S,j,E,M,T,z,N,A,P);return}}X&8?($&16&&fe(S,T,z),j!==S&&u(E,j)):$&16?X&16?Z(S,j,E,M,T,z,N,A,P):fe(S,T,z,!0):($&8&&u(E,""),X&16&&D(j,E,M,T,z,N,A,P))},V=(f,m,E,M,T,z,N,A,P)=>{f=f||Ft,m=m||Ft;const S=f.length,$=m.length,j=Math.min(S,$);let U;for(U=0;U<j;U++){const X=m[U]=P?nt(m[U]):qe(m[U]);b(f[U],X,E,null,T,z,N,A,P)}S>$?fe(f,T,z,!0,!1,j):D(m,E,M,T,z,N,A,P,j)},Z=(f,m,E,M,T,z,N,A,P)=>{let S=0;const $=m.length;let j=f.length-1,U=$-1;for(;S<=j&&S<=U;){const X=f[S],te=m[S]=P?nt(m[S]):qe(m[S]);if(bt(X,te))b(X,te,E,null,T,z,N,A,P);else break;S++}for(;S<=j&&S<=U;){const X=f[j],te=m[U]=P?nt(m[U]):qe(m[U]);if(bt(X,te))b(X,te,E,null,T,z,N,A,P);else break;j--,U--}if(S>j){if(S<=U){const X=U+1,te=X<$?m[X].el:M;for(;S<=U;)b(null,m[S]=P?nt(m[S]):qe(m[S]),E,te,T,z,N,A,P),S++}}else if(S>U)for(;S<=j;)q(f[S],T,z,!0),S++;else{const X=S,te=S,le=new Map;for(S=te;S<=U;S++){const De=m[S]=P?nt(m[S]):qe(m[S]);De.key!=null&&le.set(De.key,S)}let re,pe=0;const Be=U-te+1;let Lt=!1,Ks=0;const qt=new Array(Be);for(S=0;S<Be;S++)qt[S]=0;for(S=X;S<=j;S++){const De=f[S];if(pe>=Be){q(De,T,z,!0);continue}let Ue;if(De.key!=null)Ue=le.get(De.key);else for(re=te;re<=U;re++)if(qt[re-te]===0&&bt(De,m[re])){Ue=re;break}Ue===void 0?q(De,T,z,!0):(qt[Ue-te]=S+1,Ue>=Ks?Ks=Ue:Lt=!0,b(De,m[Ue],E,null,T,z,N,A,P),pe++)}const qs=Lt?Bl(qt):Ft;for(re=qs.length-1,S=Be-1;S>=0;S--){const De=te+S,Ue=m[De],Xs=De+1<$?m[De+1].el:M;qt[S]===0?b(null,Ue,E,Xs,T,z,N,A,P):Lt&&(re<0||S!==qs[re]?ie(Ue,E,Xs,2):re--)}}},ie=(f,m,E,M,T=null)=>{const{el:z,type:N,transition:A,children:P,shapeFlag:S}=f;if(S&6){ie(f.component.subTree,m,E,M);return}if(S&128){f.suspense.move(m,E,M);return}if(S&64){N.move(f,m,E,ae);return}if(N===Ae){i(z,m,E);for(let j=0;j<P.length;j++)ie(P[j],m,E,M);i(f.anchor,m,E);return}if(N===Zi){g(f,m,E);return}if(M!==2&&S&1&&A)if(M===0)A.beforeEnter(z),i(z,m,E),Me(()=>A.enter(z),T);else{const{leave:j,delayLeave:U,afterLeave:X}=A,te=()=>i(z,m,E),le=()=>{j(z,()=>{te(),X&&X()})};U?U(z,te,le):le()}else i(z,m,E)},q=(f,m,E,M=!1,T=!1)=>{const{type:z,props:N,ref:A,children:P,dynamicChildren:S,shapeFlag:$,patchFlag:j,dirs:U}=f;if(A!=null&&ms(A,null,E,f,!0),$&256){m.ctx.deactivate(f);return}const X=$&1&&U,te=!Ri(f);let le;if(te&&(le=N&&N.onVnodeBeforeUnmount)&&Ke(le,m,f),$&6)ve(f.component,E,M);else{if($&128){f.suspense.unmount(E,M);return}X&&ct(f,null,m,"beforeUnmount"),$&64?f.type.remove(f,m,E,T,ae,M):S&&(z!==Ae||j>0&&j&64)?fe(S,m,E,!1,!0):(z===Ae&&j&384||!T&&$&16)&&fe(P,m,E),M&&ce(f)}(te&&(le=N&&N.onVnodeUnmounted)||X)&&Me(()=>{le&&Ke(le,m,f),X&&ct(f,null,m,"unmounted")},E)},ce=f=>{const{type:m,el:E,anchor:M,transition:T}=f;if(m===Ae){ge(E,M);return}if(m===Zi){y(f);return}const z=()=>{s(E),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(f.shapeFlag&1&&T&&!T.persisted){const{leave:N,delayLeave:A}=T,P=()=>N(E,z);A?A(f.el,z,P):P()}else z()},ge=(f,m)=>{let E;for(;f!==m;)E=d(f),s(f),f=E;s(m)},ve=(f,m,E)=>{const{bum:M,scope:T,update:z,subTree:N,um:A}=f;M&&Ki(M),T.stop(),z&&(z.active=!1,q(N,f,m,E)),A&&Me(A,m),Me(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},fe=(f,m,E,M=!1,T=!1,z=0)=>{for(let N=z;N<f.length;N++)q(f[N],m,E,M,T)},xe=f=>f.shapeFlag&6?xe(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),_e=(f,m,E)=>{f==null?m._vnode&&q(m._vnode,null,null,!0):b(m._vnode||null,f,m,null,null,null,E),rn(),Qn(),m._vnode=f},ae={p:b,um:q,m:ie,r:ce,mt:I,mc:D,pc:F,pbc:H,n:xe,o:n};let we,ze;return e&&([we,ze]=e(ae)),{render:_e,hydrate:we,createApp:Pl(_e,we)}}function ft({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function Bs(n,e,t=!1){const i=n.children,s=e.children;if(J(i)&&J(s))for(let r=0;r<i.length;r++){const o=i[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=nt(s[r]),l.el=o.el),t||Bs(o,l)),l.type===Ni&&(l.el=o.el)}}function Bl(n){const e=n.slice(),t=[0];let i,s,r,o,l;const a=n.length;for(i=0;i<a;i++){const h=n[i];if(h!==0){if(s=t[t.length-1],n[s]<h){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<h?r=l+1:o=l;h<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}const Nl=n=>n.__isTeleport,Jt=n=>n&&(n.disabled||n.disabled===""),pn=n=>typeof SVGElement<"u"&&n instanceof SVGElement,gs=(n,e)=>{const t=n&&n.to;return be(t)?e?e(t):null:t},Wl={__isTeleport:!0,process(n,e,t,i,s,r,o,l,a,h){const{mc:u,pc:c,pbc:d,o:{insert:p,querySelector:C,createText:b,createComment:x}}=h,w=Jt(e.props);let{shapeFlag:v,children:g,dynamicChildren:y}=e;if(n==null){const R=e.el=b(""),k=e.anchor=b("");p(R,t,i),p(k,t,i);const O=e.target=gs(e.props,C),D=e.targetAnchor=b("");O&&(p(D,O),o=o||pn(O));const L=(H,Y)=>{v&16&&u(g,H,Y,s,r,o,l,a)};w?L(t,k):O&&L(O,D)}else{e.el=n.el;const R=e.anchor=n.anchor,k=e.target=n.target,O=e.targetAnchor=n.targetAnchor,D=Jt(n.props),L=D?t:k,H=D?R:O;if(o=o||pn(k),y?(d(n.dynamicChildren,y,L,s,r,o,l),Bs(n,e,!0)):a||c(n,e,L,H,s,r,o,l,!1),w)D||yi(e,t,R,h,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const Y=e.target=gs(e.props,C);Y&&yi(e,Y,null,h,0)}else D&&yi(e,k,O,h,1)}mr(e)},remove(n,e,t,i,{um:s,o:{remove:r}},o){const{shapeFlag:l,children:a,anchor:h,targetAnchor:u,target:c,props:d}=n;if(c&&r(u),(o||!Jt(d))&&(r(h),l&16))for(let p=0;p<a.length;p++){const C=a[p];s(C,e,t,!0,!!C.dynamicChildren)}},move:yi,hydrate:Vl};function yi(n,e,t,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,e,t);const{el:o,anchor:l,shapeFlag:a,children:h,props:u}=n,c=r===2;if(c&&i(o,e,t),(!c||Jt(u))&&a&16)for(let d=0;d<h.length;d++)s(h[d],e,t,2);c&&i(l,e,t)}function Vl(n,e,t,i,s,r,{o:{nextSibling:o,parentNode:l,querySelector:a}},h){const u=e.target=gs(e.props,a);if(u){const c=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Jt(e.props))e.anchor=h(o(n),e,l(n),t,i,s,r),e.targetAnchor=c;else{e.anchor=o(n);let d=c;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}h(c,e,u,t,i,s,r)}mr(e)}return e.anchor&&o(e.anchor)}const Ns=Wl;function mr(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const Ae=Symbol(void 0),Ni=Symbol(void 0),et=Symbol(void 0),Zi=Symbol(void 0),Zt=[];let je=null;function ut(n=!1){Zt.push(je=n?null:[])}function jl(){Zt.pop(),je=Zt[Zt.length-1]||null}let si=1;function mn(n){si+=n}function gr(n){return n.dynamicChildren=si>0?je||Ft:null,jl(),si>0&&je&&je.push(n),n}function li(n,e,t,i,s,r){return gr(oe(n,e,t,i,s,r,!0))}function Ws(n,e,t,i,s){return gr(Oe(n,e,t,i,s,!0))}function Gl(n){return n?n.__v_isVNode===!0:!1}function bt(n,e){return n.type===e.type&&n.key===e.key}const Wi="__vInternal",br=({key:n})=>n??null,Ti=({ref:n,ref_key:e,ref_for:t})=>n!=null?be(n)||ye(n)||Q(n)?{i:Ve,r:n,k:e,f:!!t}:n:null;function oe(n,e=null,t=null,i=0,s=null,r=n===Ae?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&br(e),ref:e&&Ti(e),scopeId:Oi,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ve};return l?(Vs(a,t),r&128&&n.normalize(a)):t&&(a.shapeFlag|=be(t)?8:16),si>0&&!o&&je&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&je.push(a),a}const Oe=$l;function $l(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===xl)&&(n=et),Gl(n)){const l=dt(n,e,!0);return t&&Vs(l,t),si>0&&!r&&je&&(l.shapeFlag&6?je[je.indexOf(n)]=l:je.push(l)),l.patchFlag|=-2,l}if(ia(n)&&(n=n.__vccOpts),e){e=Ul(e);let{class:l,style:a}=e;l&&!be(l)&&(e.class=xs(l)),de(a)&&($n(a)&&!J(a)&&(a=Ee({},a)),e.style=Es(a))}const o=be(n)?1:ol(n)?128:Nl(n)?64:de(n)?4:Q(n)?2:0;return oe(n,e,t,i,s,o,r,!0)}function Ul(n){return n?$n(n)||Wi in n?Ee({},n):n:null}function dt(n,e,t=!1){const{props:i,ref:s,patchFlag:r,children:o}=n,l=e?Kl(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&br(l),ref:e&&e.ref?t&&s?J(s)?s.concat(Ti(e)):[s,Ti(e)]:Ti(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ae?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&dt(n.ssContent),ssFallback:n.ssFallback&&dt(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function xt(n=" ",e=0){return Oe(Ni,null,n,e)}function qe(n){return n==null||typeof n=="boolean"?Oe(et):J(n)?Oe(Ae,null,n.slice()):typeof n=="object"?nt(n):Oe(Ni,null,String(n))}function nt(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:dt(n)}function Vs(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(J(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Vs(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(Wi in e)?e._ctx=Ve:s===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Q(e)?(e={default:e,_ctx:Ve},t=32):(e=String(e),i&64?(t=16,e=[xt(e)]):t=8);n.children=e,n.shapeFlag|=t}function Kl(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=xs([e.class,i.class]));else if(s==="style")e.style=Es([e.style,i.style]);else if(Di(s)){const r=e[s],o=i[s];o&&r!==o&&!(J(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Ke(n,e,t,i=null){Ie(n,e,7,[t,i])}const ql=pr();let Xl=0;function Yl(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||ql,r={uid:Xl++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ur(i,s),emitsOptions:tr(i,s),emit:null,emitted:null,propsDefaults:he,inheritAttrs:i.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Zo.bind(null,r),n.ce&&n.ce(r),r}let me=null;const Jl=()=>me||Ve,It=n=>{me=n,n.scope.on()},Ct=()=>{me&&me.scope.off(),me=null};function vr(n){return n.vnode.shapeFlag&4}let ni=!1;function Zl(n,e=!1){ni=e;const{props:t,children:i}=n.vnode,s=vr(n);_l(n,t,s,e),Al(n,i);const r=s?Ql(n,e):void 0;return ni=!1,r}function Ql(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Un(new Proxy(n.ctx,Rl));const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?ta(n):null;It(n),Gt();const r=lt(i,n,0,[n.props,s]);if($t(),Ct(),_n(r)){if(r.then(Ct,Ct),e)return r.then(o=>{gn(n,o,e)}).catch(o=>{Hi(o,n,0)});n.asyncDep=r}else gn(n,r,e)}else wr(n,e)}function gn(n,e,t){Q(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:de(e)&&(n.setupState=Xn(e)),wr(n,t)}let bn;function wr(n,e,t){const i=n.type;if(!n.render){if(!e&&bn&&!i.render){const s=i.template||Os(n).template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:l,compilerOptions:a}=i,h=Ee(Ee({isCustomElement:r,delimiters:l},o),a);i.render=bn(s,h)}}n.render=i.render||$e}It(n),Gt(),Tl(n),$t(),Ct()}function ea(n){return new Proxy(n.attrs,{get(e,t){return Le(n,"get","$attrs"),e[t]}})}function ta(n){const e=i=>{n.exposed=i||{}};let t;return{get attrs(){return t||(t=ea(n))},slots:n.slots,emit:n.emit,expose:e}}function js(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Xn(Un(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Yt)return Yt[t](n)},has(e,t){return t in e||t in Yt}}))}function ia(n){return Q(n)&&"__vccOpts"in n}const sa=(n,e)=>$o(n,e,ni),na=Symbol(""),ra=()=>xi(na),oa="3.2.47",la="http://www.w3.org/2000/svg",vt=typeof document<"u"?document:null,vn=vt&&vt.createElement("template"),aa={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e?vt.createElementNS(la,n):vt.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>vt.createTextNode(n),createComment:n=>vt.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>vt.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{vn.innerHTML=i?`<svg>${n}</svg>`:n;const l=vn.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function ha(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function ua(n,e,t){const i=n.style,s=be(t);if(t&&!s){if(e&&!be(e))for(const r in e)t[r]==null&&bs(i,r,"");for(const r in t)bs(i,r,t[r])}else{const r=i.display;s?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=r)}}const wn=/\s*!important$/;function bs(n,e,t){if(J(t))t.forEach(i=>bs(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=da(n,e);wn.test(t)?n.setProperty(jt(i),t.replace(wn,""),"important"):n[i]=t}}const Cn=["Webkit","Moz","ms"],Qi={};function da(n,e){const t=Qi[e];if(t)return t;let i=Pt(e);if(i!=="filter"&&i in n)return Qi[e]=i;i=An(i);for(let s=0;s<Cn.length;s++){const r=Cn[s]+i;if(r in n)return Qi[e]=r}return e}const yn="http://www.w3.org/1999/xlink";function ca(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(yn,e.slice(6,e.length)):n.setAttributeNS(yn,e,t);else{const r=eo(e);t==null||r&&!kn(t)?n.removeAttribute(e):n.setAttribute(e,r?"":t)}}function fa(n,e,t,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),n[e]=t??"";return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;const a=t??"";(n.value!==a||n.tagName==="OPTION")&&(n.value=a),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=kn(t):t==null&&a==="string"?(t="",l=!0):a==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function pa(n,e,t,i){n.addEventListener(e,t,i)}function ma(n,e,t,i){n.removeEventListener(e,t,i)}function ga(n,e,t,i,s=null){const r=n._vei||(n._vei={}),o=r[e];if(i&&o)o.value=i;else{const[l,a]=ba(e);if(i){const h=r[e]=Ca(i,s);pa(n,l,h,a)}else o&&(ma(n,l,o,a),r[e]=void 0)}}const En=/(?:Once|Passive|Capture)$/;function ba(n){let e;if(En.test(n)){e={};let i;for(;i=n.match(En);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):jt(n.slice(2)),e]}let es=0;const va=Promise.resolve(),wa=()=>es||(va.then(()=>es=0),es=Date.now());function Ca(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Ie(ya(i,t.value),e,5,[i])};return t.value=n,t.attached=wa(),t}function ya(n,e){if(J(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const xn=/^on[a-z]/,Ea=(n,e,t,i,s=!1,r,o,l,a)=>{e==="class"?ha(n,i,s):e==="style"?ua(n,t,i):Di(e)?Rs(e)||ga(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):xa(n,e,i,s))?fa(n,e,i,r,o,l,a):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),ca(n,e,i,s))};function xa(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&xn.test(e)&&Q(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||xn.test(e)&&be(t)?!1:e in n}const Ra={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};cl.props;const Ta=Ee({patchProp:Ea},aa);let Rn;function Ma(){return Rn||(Rn=Ol(Ta))}const ka=(...n)=>{const e=Ma().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=La(i);if(!s)return;const r=e._component;!Q(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function La(n){return be(n)?document.querySelector(n):n}var vs={},Sa={get exports(){return vs},set exports(n){vs=n}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,o={},l={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function v(g){return g instanceof a?new a(g.type,v(g.content),g.alias):Array.isArray(g)?g.map(v):g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++r}),v.__id},clone:function v(g,y){y=y||{};var R,k;switch(l.util.type(g)){case"Object":if(k=l.util.objId(g),y[k])return y[k];R={},y[k]=R;for(var O in g)g.hasOwnProperty(O)&&(R[O]=v(g[O],y));return R;case"Array":return k=l.util.objId(g),y[k]?y[k]:(R=[],y[k]=R,g.forEach(function(D,L){R[L]=v(D,y)}),R);default:return g}},getLanguage:function(v){for(;v;){var g=s.exec(v.className);if(g)return g[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,g){v.className=v.className.replace(RegExp(s,"gi"),""),v.classList.add("language-"+g)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(R){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(R.stack)||[])[1];if(v){var g=document.getElementsByTagName("script");for(var y in g)if(g[y].src==v)return g[y]}return null}},isActive:function(v,g,y){for(var R="no-"+g;v;){var k=v.classList;if(k.contains(g))return!0;if(k.contains(R))return!1;v=v.parentElement}return!!y}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(v,g){var y=l.util.clone(l.languages[v]);for(var R in g)y[R]=g[R];return y},insertBefore:function(v,g,y,R){R=R||l.languages;var k=R[v],O={};for(var D in k)if(k.hasOwnProperty(D)){if(D==g)for(var L in y)y.hasOwnProperty(L)&&(O[L]=y[L]);y.hasOwnProperty(D)||(O[D]=k[D])}var H=R[v];return R[v]=O,l.languages.DFS(l.languages,function(Y,K){K===H&&Y!=v&&(this[Y]=O)}),O},DFS:function v(g,y,R,k){k=k||{};var O=l.util.objId;for(var D in g)if(g.hasOwnProperty(D)){y.call(g,D,g[D],R||D);var L=g[D],H=l.util.type(L);H==="Object"&&!k[O(L)]?(k[O(L)]=!0,v(L,y,null,k)):H==="Array"&&!k[O(L)]&&(k[O(L)]=!0,v(L,y,D,k))}}},plugins:{},highlightAll:function(v,g){l.highlightAllUnder(document,v,g)},highlightAllUnder:function(v,g,y){var R={callback:y,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",R),R.elements=Array.prototype.slice.apply(R.container.querySelectorAll(R.selector)),l.hooks.run("before-all-elements-highlight",R);for(var k=0,O;O=R.elements[k++];)l.highlightElement(O,g===!0,R.callback)},highlightElement:function(v,g,y){var R=l.util.getLanguage(v),k=l.languages[R];l.util.setLanguage(v,R);var O=v.parentElement;O&&O.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(O,R);var D=v.textContent,L={element:v,language:R,grammar:k,code:D};function H(K){L.highlightedCode=K,l.hooks.run("before-insert",L),L.element.innerHTML=L.highlightedCode,l.hooks.run("after-highlight",L),l.hooks.run("complete",L),y&&y.call(L.element)}if(l.hooks.run("before-sanity-check",L),O=L.element.parentElement,O&&O.nodeName.toLowerCase()==="pre"&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!L.code){l.hooks.run("complete",L),y&&y.call(L.element);return}if(l.hooks.run("before-highlight",L),!L.grammar){H(l.util.encode(L.code));return}if(g&&i.Worker){var Y=new Worker(l.filename);Y.onmessage=function(K){H(K.data)},Y.postMessage(JSON.stringify({language:L.language,code:L.code,immediateClose:!0}))}else H(l.highlight(L.code,L.grammar,L.language))},highlight:function(v,g,y){var R={code:v,grammar:g,language:y};if(l.hooks.run("before-tokenize",R),!R.grammar)throw new Error('The language "'+R.language+'" has no grammar.');return R.tokens=l.tokenize(R.code,R.grammar),l.hooks.run("after-tokenize",R),a.stringify(l.util.encode(R.tokens),R.language)},tokenize:function(v,g){var y=g.rest;if(y){for(var R in y)g[R]=y[R];delete g.rest}var k=new c;return d(k,k.head,v),u(v,k,g,k.head,0),C(k)},hooks:{all:{},add:function(v,g){var y=l.hooks.all;y[v]=y[v]||[],y[v].push(g)},run:function(v,g){var y=l.hooks.all[v];if(!(!y||!y.length))for(var R=0,k;k=y[R++];)k(g)}},Token:a};i.Prism=l;function a(v,g,y,R){this.type=v,this.content=g,this.alias=y,this.length=(R||"").length|0}a.stringify=function v(g,y){if(typeof g=="string")return g;if(Array.isArray(g)){var R="";return g.forEach(function(H){R+=v(H,y)}),R}var k={type:g.type,content:v(g.content,y),tag:"span",classes:["token",g.type],attributes:{},language:y},O=g.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(k.classes,O):k.classes.push(O)),l.hooks.run("wrap",k);var D="";for(var L in k.attributes)D+=" "+L+'="'+(k.attributes[L]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+D+">"+k.content+"</"+k.tag+">"};function h(v,g,y,R){v.lastIndex=g;var k=v.exec(y);if(k&&R&&k[1]){var O=k[1].length;k.index+=O,k[0]=k[0].slice(O)}return k}function u(v,g,y,R,k,O){for(var D in y)if(!(!y.hasOwnProperty(D)||!y[D])){var L=y[D];L=Array.isArray(L)?L:[L];for(var H=0;H<L.length;++H){if(O&&O.cause==D+","+H)return;var Y=L[H],K=Y.inside,G=!!Y.lookbehind,I=!!Y.greedy,B=Y.alias;if(I&&!Y.pattern.global){var W=Y.pattern.toString().match(/[imsuy]*$/)[0];Y.pattern=RegExp(Y.pattern.source,W+"g")}for(var _=Y.pattern||Y,F=R.next,V=k;F!==g.tail&&!(O&&V>=O.reach);V+=F.value.length,F=F.next){var Z=F.value;if(g.length>v.length)return;if(!(Z instanceof a)){var ie=1,q;if(I){if(q=h(_,V,v,G),!q||q.index>=v.length)break;var fe=q.index,ce=q.index+q[0].length,ge=V;for(ge+=F.value.length;fe>=ge;)F=F.next,ge+=F.value.length;if(ge-=F.value.length,V=ge,F.value instanceof a)continue;for(var ve=F;ve!==g.tail&&(ge<ce||typeof ve.value=="string");ve=ve.next)ie++,ge+=ve.value.length;ie--,Z=v.slice(V,ge),q.index-=V}else if(q=h(_,0,Z,G),!q)continue;var fe=q.index,xe=q[0],_e=Z.slice(0,fe),ae=Z.slice(fe+xe.length),we=V+Z.length;O&&we>O.reach&&(O.reach=we);var ze=F.prev;_e&&(ze=d(g,ze,_e),V+=_e.length),p(g,ze,ie);var f=new a(D,K?l.tokenize(xe,K):xe,B,xe);if(F=d(g,ze,f),ae&&d(g,F,ae),ie>1){var m={cause:D+","+H,reach:we};u(v,g,y,F.prev,V,m),O&&m.reach>O.reach&&(O.reach=m.reach)}}}}}}function c(){var v={value:null,prev:null,next:null},g={value:null,prev:v,next:null};v.next=g,this.head=v,this.tail=g,this.length=0}function d(v,g,y){var R=g.next,k={value:y,prev:g,next:R};return g.next=k,R.prev=k,v.length++,k}function p(v,g,y){for(var R=g.next,k=0;k<y&&R!==v.tail;k++)R=R.next;g.next=R,R.prev=g,v.length-=k}function C(v){for(var g=[],y=v.head.next;y!==v.tail;)g.push(y.value),y=y.next;return g}if(!i.document)return i.addEventListener&&(l.disableWorkerMessageHandler||i.addEventListener("message",function(v){var g=JSON.parse(v.data),y=g.language,R=g.code,k=g.immediateClose;i.postMessage(l.highlight(R,l.languages[y],y)),k&&i.close()},!1)),l;var b=l.util.currentScript();b&&(l.filename=b.src,b.hasAttribute("data-manual")&&(l.manual=!0));function x(){l.manual||l.highlightAll()}if(!l.manual){var w=document.readyState;w==="loading"||w==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",x):window.requestAnimationFrame?window.requestAnimationFrame(x):window.setTimeout(x,16)}return l}(e);n.exports&&(n.exports=t),typeof Mi<"u"&&(Mi.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};l["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var a={};a[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var r=i.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading",s=function(b,x){return" Error "+b+" while fetching file: "+x},r=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",h="loaded",u="failed",c="pre[data-src]:not(["+l+'="'+h+'"]):not(['+l+'="'+a+'"])';function d(b,x,w){var v=new XMLHttpRequest;v.open("GET",b,!0),v.onreadystatechange=function(){v.readyState==4&&(v.status<400&&v.responseText?x(v.responseText):v.status>=400?w(s(v.status,v.statusText)):w(r))},v.send(null)}function p(b){var x=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(x){var w=Number(x[1]),v=x[2],g=x[3];return v?g?[w,Number(g)]:[w,void 0]:[w,w]}}t.hooks.add("before-highlightall",function(b){b.selector+=", "+c}),t.hooks.add("before-sanity-check",function(b){var x=b.element;if(x.matches(c)){b.code="",x.setAttribute(l,a);var w=x.appendChild(document.createElement("CODE"));w.textContent=i;var v=x.getAttribute("data-src"),g=b.language;if(g==="none"){var y=(/\.(\w+)$/.exec(v)||[,"none"])[1];g=o[y]||y}t.util.setLanguage(w,g),t.util.setLanguage(x,g);var R=t.plugins.autoloader;R&&R.loadLanguages(g),d(v,function(k){x.setAttribute(l,h);var O=p(x.getAttribute("data-range"));if(O){var D=k.split(/\r\n?|\n/g),L=O[0],H=O[1]==null?D.length:O[1];L<0&&(L+=D.length),L=Math.max(0,Math.min(L-1,D.length)),H<0&&(H+=D.length),H=Math.max(0,Math.min(H,D.length)),k=D.slice(L,H).join(`
`),x.hasAttribute("data-start")||x.setAttribute("data-start",String(L+1))}w.textContent=k,t.highlightElement(w)},function(k){x.setAttribute(l,u),w.textContent=k})}}),t.plugins.fileHighlight={highlight:function(x){for(var w=(x||document).querySelectorAll(c),v=0,g;g=w[v++];)t.highlightElement(g)}};var C=!1;t.fileHighlight=function(){C||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),C=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Sa);const St=vs;class Se{constructor(e){this.table=e}reloadData(e,t,i){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return typeof t<"u"&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t){return this.table.deprecationAdvisor.check(e,t)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class ue{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(e,t,i=[]){var s={}.__proto__,r=[].__proto__;t||(t=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let l=e[o],a,h;l!=null&&typeof l=="object"&&(l.__proto__===s||l.__proto__===r)&&(a=i.findIndex(u=>u.subject===l),a>-1?t[o]=i[a].copy:(h=Object.assign(Array.isArray(l)?[]:{},l),i.unshift({subject:l,copy:h}),t[o]=this.deepClone(l,h,i)))}return t}}class Gs extends Se{constructor(e,t,i){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t?!0:t.parentNode?this._checkContainerIsParent(e,t.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),i=t?e.touches[0].pageX:e.pageX,s=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let r=ue.elOffset(this.container);i-=r.left,s-=r.top}return{x:i,y:s}}elementPositionCoords(e,t="right"){var i=ue.elOffset(e),s,r,o;switch(this.container!==document.body&&(s=ue.elOffset(this.container),i.left-=s.left,i.top-=s.top),t){case"right":r=i.left+e.offsetWidth,o=i.top-1;break;case"bottom":r=i.left,o=i.top+e.offsetHeight;break;case"left":r=i.left,o=i.top-1;break;case"top":r=i.left,o=i.top;break;case"center":r=i.left+e.offsetWidth/2,o=i.top+e.offsetHeight/2;break}return{x:r,y:o,offset:i}}show(e,t){var i,s,r,o,l;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(r=e,l=this.elementPositionCoords(e,t),o=l.offset,i=l.x,s=l.y):typeof e=="number"?(o={top:0,left:0},i=e,s=t):(l=this.containerEventCoords(e),i=l.x,s=l.y,this.reversedX=!1),this.element.style.top=s+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(i,s,r,o,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",a=>{a.stopPropagation()}),this)}_fitToScreen(e,t,i,s,r){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",i?this.element.style.right=this.container.offsetWidth-s.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0),t+this.element.offsetHeight>Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0))if(i)switch(r){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new Gs(this.table,e,this),this.childPopup}}class ee extends Se{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){typeof this.table[e]>"u"?this.table[e]=(...i)=>(this.table.initGuard(e),t(...i)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,i){return this.table.componentFunctionBinder.bind(e,t,i)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t=this.table.rowManager.displayRows.length-1,i;if(this._handler&&(i=this.table.rowManager.displayPipeline.findIndex(s=>s.handler===this._handler),i>-1&&(t=i)),e&&(t=t+e),this._handler)return t>-1?this.table.rowManager.getDisplayRows(t):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new Gs(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var _a={};class Bt extends ee{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(s=>{var r="accessor"+(s.charAt(0).toUpperCase()+s.slice(1)),o;e.definition[r]&&(o=this.lookupAccessor(e.definition[r]),o&&(t=!0,i[r]={accessor:o,params:e.definition[r+"Params"]||{}}))}),t&&(e.modules.accessor=i)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":Bt.accessors[e]?t=Bt.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var i="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),s=e.getComponent(),r=ue.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var l,a,h,u;o.modules.accessor&&(a=o.modules.accessor[i]||o.modules.accessor.accessor||!1,a&&(l=o.getFieldValue(r),l!="undefined"&&(u=o.getComponent(),h=typeof a.params=="function"?a.params(l,r,t,u,s):a.params,o.setFieldValue(r,a.accessor(l,r,t,h,u,s)))))}),r}}Bt.moduleName="accessor";Bt.accessors=_a;var Da={method:"GET"};function ws(n,e){var t=[];if(e=e||"",Array.isArray(n))n.forEach((s,r)=>{t=t.concat(ws(s,e?e+"["+r+"]":r))});else if(typeof n=="object")for(var i in n)t=t.concat(ws(n[i],e?e+"["+i+"]":i));else t.push({key:e,value:n});return t}function Fa(n){var e=ws(n),t=[];return e.forEach(function(i){t.push(encodeURIComponent(i.key)+"="+encodeURIComponent(i.value))}),t.join("&")}function Cr(n,e,t){return n&&t&&Object.keys(t).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",n+=(n.includes("?")?"&":"?")+Fa(t)),n}function Aa(n,e,t){var i;return new Promise((s,r)=>{if(n=this.urlGenerator.call(this.table,n,e,t),e.method.toUpperCase()!="GET")if(i=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],i){for(var o in i.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=i.headers[o]);e.body=i.body.call(this,n,e,t)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);n?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(n,e).then(l=>{l.ok?l.json().then(a=>{s(a)}).catch(a=>{r(a),console.warn("Ajax Load Error - Invalid JSON returned",a)}):(console.error("Ajax Load Error - Connection Error: "+l.status,l.statusText),r(l))}).catch(l=>{console.error("Ajax Load Error - Connection Error: ",l),r(l)})):(console.warn("Ajax Load Error - No URL Set"),s([]))})}function Cs(n,e){var t=[];if(e=e||"",Array.isArray(n))n.forEach((s,r)=>{t=t.concat(Cs(s,e?e+"["+r+"]":r))});else if(typeof n=="object")for(var i in n)t=t.concat(Cs(n[i],e?e+"["+i+"]":i));else t.push({key:e,value:n});return t}var za={json:{headers:{"Content-Type":"application/json"},body:function(n,e,t){return JSON.stringify(t)}},form:{headers:{},body:function(n,e,t){var i=Cs(t),s=new FormData;return i.forEach(function(r){s.append(r.key,r.value)}),s}}};class Ge extends ee{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Ge.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Ge.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Ge.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,i,s){var r=this.table.options.ajaxParams;return r&&(typeof r=="function"&&(r=r.call(this.table)),s=Object.assign(s,r)),s}requestDataCheck(e,t,i,s){return!!(!e&&this.url||typeof e=="string")}requestData(e,t,i,s,r){var o;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(i),this.sendRequest(this.url,t,o)):r}setDefaultConfig(e={}){this.config=Object.assign({},Ge.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return typeof e=="string"?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,i){return this.table.options.ajaxRequesting.call(this.table,e,t)!==!1?this.loaderPromise(e,i,t).then(s=>(this.table.options.ajaxResponse&&(s=this.table.options.ajaxResponse.call(this.table,e,t,s)),s)):Promise.reject()}}Ge.moduleName="ajax";Ge.defaultConfig=Da;Ge.defaultURLGenerator=Cr;Ge.defaultLoaderPromise=Aa;Ge.contentTypeFormatters=za;var Ha={replace:function(n){return this.table.setData(n)},update:function(n){return this.table.updateOrAddData(n)},insert:function(n){return this.table.addData(n)}},Pa={table:function(n){var e=[],t=!0,i=this.table.columnManager.columns,s=[],r=[];return n=n.split(`
`),n.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var l=i.find(function(a){return o&&a.definition.title&&o.trim()&&a.definition.title.trim()===o.trim()});l?s.push(l):t=!1}),t||(t=!0,s=[],e[0].forEach(function(o){var l=i.find(function(a){return o&&a.field&&o.trim()&&a.field.trim()===o.trim()});l?s.push(l):t=!1}),t||(s=this.table.columnManager.columnsByIndex)),t&&e.shift(),e.forEach(function(o){var l={};o.forEach(function(a,h){s[h]&&(l[s[h].field]=a)}),r.push(l)}),r):!1}};class Rt extends ee{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var t,i,s;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(s=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),i=this.table.modules.export.generateHTMLTable(s),t=i?this.generatePlainContent(s):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),i=this.table.options.clipboardCopyFormatter("html",i))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),i&&e.clipboardData.setData("text/html",i)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),i&&e.originalEvent.clipboardData.setData("text/html",i)),this.dispatchExternal("clipboardCopied",t,i),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(i=>{var s=[];i.columns.forEach(r=>{var o="";if(r)if(i.type==="group"&&(r.value=r.component.getKey()),r.value===null)o="";else switch(typeof r.value){case"object":o=JSON.stringify(r.value);break;case"undefined":o="";break;default:o=r.value}s.push(o)}),t.push(s.join("	"))}),t.join(`
`)}copy(e,t){var i,s;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),i=window.getSelection(),i.toString()&&t&&(this.customSelection=i.toString()),i.removeAllRanges(),i.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(s=document.body.createTextRange(),s.moveToElementText(this.table.element),s.select()),document.execCommand("copy"),i&&i.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=Rt.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=Rt.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,i,s;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),i=this.pasteParser.call(this,t),i?(e.preventDefault(),this.table.modExists("mutator")&&(i=this.mutateData(i)),s=this.pasteAction.call(this,i),this.dispatchExternal("clipboardPasted",t,i,s)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(i=>{t.push(this.table.modules.mutator.transformRow(i,"clipboard"))}):t=e,t}checkPaseOrigin(e){var t=!0;return(e.target.tagName!="DIV"||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}Rt.moduleName="clipboard";Rt.pasteActions=Ha;Rt.pasteParsers=Pa;class Oa{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,s){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}_getSelf(){return this._row}}class yr{constructor(e){return this._cell=e,new Proxy(this,{get:function(t,i,s){return typeof t[i]<"u"?t[i]:t._cell.table.componentFunctionBinder.handle("cell",t._cell,i)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){typeof t>"u"&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class ai extends Se{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,t=this.column.getField(),i={top:"flex-start",bottom:"flex-end",middle:"center"},s={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=i[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=s[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var r=this.column.definition.cssClass.split(" ");r.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,i){var s=this.setValueProcessData(e,t,i);s&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,i){var s=!1;return(this.value!==e||i)&&(s=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),s&&this.dispatch("cell-value-changed",this),s}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new yr(this)),this.component}}class Er{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(t,i,s){return typeof t[i]<"u"?t[i]:t._column.table.componentFunctionBinder.handle("column",t._column,i)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(t){e.push(t.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(t){e.push(t.getComponent())}),e}getParentColumn(){return this._column.parent instanceof Ye?this._column.parent.getComponent():!1}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(e,t){var i=this._column.table.columnManager.findColumn(e);i?this._column.table.columnManager.moveColumn(this._column,i,t):console.warn("Move Error - No matching column found:",i)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return e===!0?t=this._column.reinitializeWidth(!0):t=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var xr={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class Ye extends Se{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((i,s)=>{var r=new Ye(i,this);this.attachColumn(r)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)typeof this.definition[t]>"u"&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(Ye.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{Ye.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach(i=>{this.element.classList.add(i)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",s=>{s.stopPropagation(),i.focus()}),i.addEventListener("change",()=>{e.title=i.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(i),e.field?this.langBind("columns|"+e.field,s=>{i.value=s||e.title||"&nbsp;"}):i.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,s=>{this._formatColumnHeaderTitle(t,s||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var i=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof i){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=i}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(t=>{this.element.classList.add(t)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t=e,i=this.fieldStructure,s=i.length,r;for(let o=0;o<s&&(t=t[i[o]],r=t,!!t);o++);return r}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var i=e,s=this.fieldStructure,r=s.length;for(let o=0;o<r;o++)if(o==r-1)i[s[o]]=t;else{if(!i[s[o]])if(typeof t<"u")i[s[o]]={};else break;i=i[s[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var i=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=i+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=i-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(s){s.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var t=[];return e?this.columns.forEach(i=>{t.push(i),t=t.concat(i.getColumns(!0))}):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(i){t.push(i.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(t.row.getElement().offsetParent!==null?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(s){s.delete()}),this.dispatch("column-delete",this);var i=this.cells.length;for(let s=0;s<i;s++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new ai(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(s=>{s.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(s=>{var r=s.getWidth();r>t&&(t=r)}),t)){var i=t+1;this.maxInitialWidth&&!e&&(i=Math.min(i,this.maxInitialWidth)),this.setWidthActual(i)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(i=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>i.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new Er(this)),this.component}}Ye.defaultOptionList=xr;class Vi{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,s){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class Te extends Se{constructor(e,t,i="row"){super(t.table),this.parent=t,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t=0,i;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(i=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach(function(s){var r=s.getHeight();r>t&&(t=r)}),e?this.height=Math.max(t,i):this.height=this.manualHeight?this.height:Math.max(t,i)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t=this.element&&ue.elVisible(this.element),i={},s;return new Promise((r,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,e)),s=this.chain("row-data-changing",[this,i,e],null,e);for(let l in s)this.data[l]=s[l];this.dispatch("row-data-save-after",this);for(let l in e)this.table.columnManager.getColumnsByFieldRoot(l).forEach(h=>{let u=this.getCell(h.getField());if(u){let c=h.getFieldValue(s);u.getValue()!==c&&(u.setValueProcessData(c),t&&u.cellRendered())}});t?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,t,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),t=this.cells.find(function(i){return i.column===e}),t}getCellIndex(e){return this.cells.findIndex(function(t){return t===e})}findCell(e){return this.cells.find(t=>t.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var i=this.table.rowManager.findRow(e);i?(this.table.rowManager.moveRowActual(this,i,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(t=>{t(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Vi(this)),this.component}}var Ia={avg:function(n,e,t){var i=0,s=typeof t.precision<"u"?t.precision:2;return n.length&&(i=n.reduce(function(r,o){return Number(r)+Number(o)}),i=i/n.length,i=s!==!1?i.toFixed(s):i),parseFloat(i).toString()},max:function(n,e,t){var i=null,s=typeof t.precision<"u"?t.precision:!1;return n.forEach(function(r){r=Number(r),(r>i||i===null)&&(i=r)}),i!==null?s!==!1?i.toFixed(s):i:""},min:function(n,e,t){var i=null,s=typeof t.precision<"u"?t.precision:!1;return n.forEach(function(r){r=Number(r),(r<i||i===null)&&(i=r)}),i!==null?s!==!1?i.toFixed(s):i:""},sum:function(n,e,t){var i=0,s=typeof t.precision<"u"?t.precision:!1;return n.length&&n.forEach(function(r){r=Number(r),i+=isNaN(r)?0:Number(r)}),s!==!1?i.toFixed(s):i},concat:function(n,e,t){var i=0;return n.length&&(i=n.reduce(function(s,r){return String(s)+String(r)})),i},count:function(n,e,t){var i=0;return n.length&&n.forEach(function(s){s&&i++}),i}};class rt extends ee{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new Ye({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,i={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":rt.calculations[t.topCalc]?i.topCalc=rt.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":i.topCalc=t.topCalc;break}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":rt.calculations[t.bottomCalc]?i.botCalc=rt.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":i.botCalc=t.bottomCalc;break}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,i;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),i=this.generateRow("top",t),this.topRow=i;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(i.getElement()),i.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),i=this.generateRow("bottom",t),this.botRow=i;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(i.getElement()),i.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(t=>{this.recalcGroup(t)})}}recalcGroup(e){var t,i;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),i=this.generateRowData("bottom",t),e.calcs.bottom.updateData(i),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),i=this.generateRowData("top",t),e.calcs.top.updateData(i),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach(i=>{if(t.push(i.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&i.modules.dataTree&&i.modules.dataTree.open){var s=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(i));t=t.concat(s)}}),t}generateRow(e,t){var i=this.generateRowData(e,t),s;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),s=new Te(i,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),s.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),s.component=!1,s.getComponent=()=>(s.component||(s.component=new Oa(s)),s.component),s.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var l=new ai(this.genColumn,s);l.getElement(),l.column=o,l.setWidth(),o.cells.push(l),r.push(l),o.visible||l.hide()}),s.cells=r},s}generateRowData(e,t){var i={},s=e=="top"?this.topCalcs:this.botCalcs,r=e=="top"?"topCalc":"botCalc",o,l;return s.forEach(function(a){var h=[];a.modules.columnCalcs&&a.modules.columnCalcs[r]&&(t.forEach(function(u){h.push(a.getFieldValue(u))}),l=r+"Params",o=typeof a.modules.columnCalcs[l]=="function"?a.modules.columnCalcs[l](h,t):a.modules.columnCalcs[l],a.setFieldValue(i,a.modules.columnCalcs[r](h,t,o)))}),i}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},t;return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach(i=>{e[i.getKey()]=this.getGroupResults(i)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),i=e.getSubGroups(),s={},r={};return i.forEach(o=>{s[o.getKey()]=this.getGroupResults(o)}),r={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:s},r}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}rt.moduleName="columnCalcs";rt.calculations=Ia;class Rr extends ee{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement&&(t.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof t.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement),t.dataTreeCollapseElement?typeof t.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?typeof t.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(i,s){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(i,s){return t.dataTreeStartExpanded[s]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach(i=>{this.reinitializeRowChildren(i)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,i){this.redrawNeeded(i)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],i=Array.isArray(t),s=i||!i&&typeof t=="object"&&t!==null;!s&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!s&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:s?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&s?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&s?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:s}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach(function(i){i.reinitialize(!0)})}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],i=t.getElement(),s=e.modules.dataTree;s.branchEl&&(s.branchEl.parentNode&&s.branchEl.parentNode.removeChild(s.branchEl),s.branchEl=!1),s.controlEl&&(s.controlEl.parentNode&&s.controlEl.parentNode.removeChild(s.controlEl),s.controlEl=!1),this.generateControlElement(e,i),e.getElement().classList.add("tabulator-tree-level-"+s.index),s.index&&(this.branchEl?(s.branchEl=this.branchEl.cloneNode(!0),i.insertBefore(s.branchEl,i.firstChild),this.table.rtl?s.branchEl.style.marginRight=(s.branchEl.offsetWidth+s.branchEl.style.marginLeft)*(s.index-1)+s.index*this.indent+"px":s.branchEl.style.marginLeft=(s.branchEl.offsetWidth+s.branchEl.style.marginRight)*(s.index-1)+s.index*this.indent+"px"):this.table.rtl?i.style.paddingRight=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right"))+s.index*this.indent+"px":i.style.paddingLeft=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left"))+s.index*this.indent+"px")}generateControlElement(e,t){var i=e.modules.dataTree,s=i.controlEl;t=t||e.getCells()[0].getElement(),i.children!==!1&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(e)})):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(e)})),i.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),s&&s.parentNode===t?s.parentNode.replaceChild(i.controlEl,s):t.insertBefore(i.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach((i,s)=>{var r,o;t.push(i),i instanceof Te&&(i.create(),r=i.modules.dataTree.children,!r.index&&r.children!==!1&&(o=this.getChildren(i),o.forEach(l=>{l.create(),t.push(l)})))}),t}getChildren(e,t){var i=e.modules.dataTree,s=[],r=[];return i.children!==!1&&(i.open||t)&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(i.children):s=i.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(s),s.forEach(o=>{r.push(o);var l=this.getChildren(o);l.forEach(a=>{r.push(a)})})),r}generateChildren(e){var t=[],i=e.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach(s=>{var r=new Te(s||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),t.push(r)}),t}expandRow(e,t){var i=e.modules.dataTree;i.children!==!1&&(i.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t=e.modules.dataTree,i=[],s;return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(t.children):s=t.children,s.forEach(r=>{r instanceof Te&&i.push(r)})),i}rowDelete(e){var t=e.modules.dataTree.parent,i;t&&(i=this.findChildIndex(e,t),i!==!1&&t.data[this.field].splice(i,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,i,s){var r=!1;typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof s<"u"&&(r=this.findChildIndex(s,e),r!==!1&&e.data[this.field].splice(i?r:r+1,0,t)),r===!1&&(i?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var i=!1;return typeof e=="object"?e instanceof Te?i=e.data:e instanceof Vi?i=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?t.modules.dataTree&&(i=t.modules.dataTree.children.find(s=>s instanceof Te?s.element===e:!1),i&&(i=i.data)):e===null&&(i=!1):typeof e>"u"?i=!1:i=t.data[this.field].find(s=>s.data[this.table.options.index]==e),i&&(Array.isArray(t.data[this.field])&&(i=t.data[this.field].indexOf(i)),i==-1&&(i=!1)),i}getTreeChildren(e,t,i){var s=e.modules.dataTree,r=[];return s.children&&(Array.isArray(s.children)||(s.children=this.generateChildren(e)),s.children.forEach(o=>{o instanceof Te&&(r.push(t?o.getComponent():o),i&&(r=r.concat(this.getTreeChildren(o,t,i))))})),r}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}Rr.moduleName="dataTree";function Ba(n,e={},t){var i=e.delimiter?e.delimiter:",",s=[],r=[];n.forEach(o=>{var l=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((a,h)=>{a&&a.depth===1&&(r[h]=typeof a.value>"u"||a.value===null?"":'"'+String(a.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(a=>{if(a){switch(typeof a.value){case"object":a.value=a.value!==null?JSON.stringify(a.value):"";break;case"undefined":a.value="";break}l.push('"'+String(a.value).split('"').join('""')+'"')}}),s.push(l.join(i));break}}),r.length&&s.unshift(r.join(i)),s=s.join(`
`),e.bom&&(s="\uFEFF"+s),t(s,"text/csv")}function Na(n,e,t){var i=[];n.forEach(s=>{var r={};switch(s.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":s.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(r);break}}),i=JSON.stringify(i,null,"	"),t(i,"application/json")}function Wa(n,e={},t){var i=[],s=[],r={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},a=e.jsPDF||{},h=e.title?e.title:"";a.orientation||(a.orientation=e.orientation||"landscape"),a.unit||(a.unit="pt"),n.forEach(d=>{switch(d.type){case"header":i.push(u(d));break;case"group":s.push(u(d,o));break;case"calc":s.push(u(d,l));break;case"row":s.push(u(d));break}});function u(d,p){var C=[];return d.columns.forEach(b=>{var x;if(b){switch(typeof b.value){case"object":b.value=b.value!==null?JSON.stringify(b.value):"";break;case"undefined":b.value="";break}x={content:b.value,colSpan:b.width,rowSpan:b.height},p&&(x.styles=p),C.push(x)}}),C}var c=new jspdf.jsPDF(a);e.autoTable&&(typeof e.autoTable=="function"?r=e.autoTable(c)||{}:r=e.autoTable),h&&(r.didDrawPage=function(d){c.text(h,40,30)}),r.head=i,r.body=s,c.autoTable(r),e.documentProcessing&&e.documentProcessing(c),t(c.output("arraybuffer"),"application/pdf")}function Va(n,e,t){var i=this,s=e.sheetName||"Sheet1",r=XLSX.utils.book_new(),o=new Se(this),l="compress"in e?e.compress:!0,a;r.SheetNames=[],r.Sheets={};function h(){var d=[],p=[],C={},b={s:{c:0,r:0},e:{c:n[0]?n[0].columns.reduce((x,w)=>x+(w&&w.width?w.width:1),0):0,r:n.length}};return n.forEach((x,w)=>{var v=[];x.columns.forEach(function(g,y){g?(v.push(!(g.value instanceof Date)&&typeof g.value=="object"?JSON.stringify(g.value):g.value),(g.width>1||g.height>-1)&&(g.height>1||g.width>1)&&p.push({s:{r:w,c:y},e:{r:w+g.height-1,c:y+g.width-1}})):v.push("")}),d.push(v)}),XLSX.utils.sheet_add_aoa(C,d),C["!ref"]=XLSX.utils.encode_range(b),p.length&&(C["!merges"]=p),C}if(e.sheetOnly){t(h());return}if(e.sheets)for(var u in e.sheets)e.sheets[u]===!0?(r.SheetNames.push(u),r.Sheets[u]=h()):(r.SheetNames.push(u),o.commsSend(e.sheets[u],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:i.active,intercept:function(d){r.Sheets[u]=d}}));else r.SheetNames.push(s),r.Sheets[s]=h();e.documentProcessing&&(r=e.documentProcessing(r));function c(d){for(var p=new ArrayBuffer(d.length),C=new Uint8Array(p),b=0;b!=d.length;++b)C[b]=d.charCodeAt(b)&255;return p}a=XLSX.write(r,{bookType:"xlsx",bookSST:!0,type:"binary",compression:l}),t(c(a),"application/octet-stream")}function ja(n,e,t){this.modExists("export",!0)&&t(this.modules.export.generateHTMLTable(n),"text/html")}function Ga(n,e,t){const i=[];n.forEach(s=>{const r={};switch(s.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":s.columns.forEach(o=>{o&&(r[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(JSON.stringify(r));break}}),t(i.join(`
`),"application/x-ndjson")}var $a={csv:Ba,json:Na,jsonLines:Ga,pdf:Wa,xlsx:Va,html:ja};class Nt extends ee{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(t,i){return new Blob([t],{type:i})}),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,t,i,s){this.download(e,t,i,s,!0)}download(e,t,i,s,r){var o=!1;function l(h,u){r?r===!0?this.triggerDownload(h,u,e,t,!0):r(h):this.triggerDownload(h,u,e,t)}if(typeof e=="function"?o=e:Nt.downloaders[e]?o=Nt.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var a=this.generateExportList(s);o.call(this.table,a,i||{},l.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),i=this.table.options.groupHeaderDownload;return i&&!Array.isArray(i)&&(i=[i]),t.forEach(s=>{var r;s.type==="group"&&(r=s.columns[0],i&&i[s.indent]&&(r.value=i[s.indent](r.value,s.component._group.getRowCount(),s.component._group.getData(),s.component)))}),t}triggerDownload(e,t,i,s,r){var o=document.createElement("a"),l=this.table.options.downloadEncoder(e,t);l&&(r?window.open(window.URL.createObjectURL(l)):(s=s||"Tabulator."+(typeof i=="function"?"txt":i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(l,s):(o.setAttribute("href",window.URL.createObjectURL(l)),o.setAttribute("download",s),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,i){switch(t){case"intercept":this.download(i.type,"",i.options,i.active,i.intercept);break}}}Nt.moduleName="download";Nt.downloaders=$a;function ji(n,e){var t=e.mask,i=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",s=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",r=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(l){var a=t[l];typeof a<"u"&&a!==r&&a!==i&&a!==s&&(n.value=n.value+""+a,o(l+1))}n.addEventListener("keydown",l=>{var a=n.value.length,h=l.key;if(l.keyCode>46&&!l.ctrlKey&&!l.metaKey){if(a>=t.length)return l.preventDefault(),l.stopPropagation(),!1;switch(t[a]){case i:if(h.toUpperCase()==h.toLowerCase())return l.preventDefault(),l.stopPropagation(),!1;break;case s:if(isNaN(h))return l.preventDefault(),l.stopPropagation(),!1;break;case r:break;default:if(h!==t[a])return l.preventDefault(),l.stopPropagation(),!1}}}),n.addEventListener("keyup",l=>{l.keyCode>46&&e.maskAutoFill&&o(n.value.length)}),n.placeholder||(n.placeholder=t),e.maskAutoFill&&o(n.value.length)}function Ua(n,e,t,i,s){var r=n.getValue(),o=document.createElement("input");if(o.setAttribute("type",s.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let a in s.elementAttributes)a.charAt(0)=="+"?(a=a.slice(1),o.setAttribute(a,o.getAttribute(a)+s.elementAttributes["+"+a])):o.setAttribute(a,s.elementAttributes[a]);o.value=typeof r<"u"?r:"",e(function(){n._getSelf&&(o.focus({preventScroll:!0}),o.style.height="100%",s.selectContents&&o.select())});function l(a){(r===null||typeof r>"u")&&o.value!==""||o.value!==r?t(o.value)&&(r=o.value):i()}return o.addEventListener("change",l),o.addEventListener("blur",l),o.addEventListener("keydown",function(a){switch(a.keyCode){case 13:l();break;case 27:i();break;case 35:case 36:a.stopPropagation();break}}),s.mask&&ji(o,s),o}function Ka(n,e,t,i,s){var r=n.getValue(),o=s.verticalNavigation||"hybrid",l=String(r!==null&&typeof r<"u"?r:""),a=document.createElement("textarea"),h=0;if(a.style.display="block",a.style.padding="2px",a.style.height="100%",a.style.width="100%",a.style.boxSizing="border-box",a.style.whiteSpace="pre-wrap",a.style.resize="none",s.elementAttributes&&typeof s.elementAttributes=="object")for(let c in s.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),a.setAttribute(c,a.getAttribute(c)+s.elementAttributes["+"+c])):a.setAttribute(c,s.elementAttributes[c]);a.value=l,e(function(){n._getSelf&&(a.focus({preventScroll:!0}),a.style.height="100%",a.scrollHeight,a.style.height=a.scrollHeight+"px",n.getRow().normalizeHeight(),s.selectContents&&a.select())});function u(c){(r===null||typeof r>"u")&&a.value!==""||a.value!==r?(t(a.value)&&(r=a.value),setTimeout(function(){n.getRow().normalizeHeight()},300)):i()}return a.addEventListener("change",u),a.addEventListener("blur",u),a.addEventListener("keyup",function(){a.style.height="";var c=a.scrollHeight;a.style.height=c+"px",c!=h&&(h=c,n.getRow().normalizeHeight())}),a.addEventListener("keydown",function(c){switch(c.keyCode){case 13:c.shiftKey&&s.shiftEnterSubmit&&u();break;case 27:i();break;case 38:(o=="editor"||o=="hybrid"&&a.selectionStart)&&(c.stopImmediatePropagation(),c.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&a.selectionStart!==a.value.length)&&(c.stopImmediatePropagation(),c.stopPropagation());break;case 35:case 36:c.stopPropagation();break}}),s.mask&&ji(a,s),a}function qa(n,e,t,i,s){var r=n.getValue(),o=s.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),typeof s.max<"u"&&l.setAttribute("max",s.max),typeof s.min<"u"&&l.setAttribute("min",s.min),typeof s.step<"u"&&l.setAttribute("step",s.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let u in s.elementAttributes)u.charAt(0)=="+"?(u=u.slice(1),l.setAttribute(u,l.getAttribute(u)+s.elementAttributes["+"+u])):l.setAttribute(u,s.elementAttributes[u]);l.value=r;var a=function(u){h()};e(function(){n._getSelf&&(l.removeEventListener("blur",a),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",a),s.selectContents&&l.select())});function h(){var u=l.value;!isNaN(u)&&u!==""&&(u=Number(u)),u!==r?t(u)&&(r=u):i()}return l.addEventListener("keydown",function(u){switch(u.keyCode){case 13:h();break;case 27:i();break;case 38:case 40:o=="editor"&&(u.stopImmediatePropagation(),u.stopPropagation());break;case 35:case 36:u.stopPropagation();break}}),s.mask&&ji(l,s),l}function Xa(n,e,t,i,s){var r=n.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof s.max<"u"&&o.setAttribute("max",s.max),typeof s.min<"u"&&o.setAttribute("min",s.min),typeof s.step<"u"&&o.setAttribute("step",s.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let a in s.elementAttributes)a.charAt(0)=="+"?(a=a.slice(1),o.setAttribute(a,o.getAttribute(a)+s.elementAttributes["+"+a])):o.setAttribute(a,s.elementAttributes[a]);o.value=r,e(function(){n._getSelf&&(o.focus({preventScroll:!0}),o.style.height="100%")});function l(){var a=o.value;!isNaN(a)&&a!==""&&(a=Number(a)),a!=r?t(a)&&(r=a):i()}return o.addEventListener("blur",function(a){l()}),o.addEventListener("keydown",function(a){switch(a.keyCode){case 13:l();break;case 27:i();break}}),o}function Ya(n,e,t,i,s){var r=s.format,o=s.verticalNavigation||"editor",l=r?window.DateTime||luxon.DateTime:null,a=n.getValue(),h=document.createElement("input");function u(d){var p;return l.isDateTime(d)?p=d:r==="iso"?p=l.fromISO(String(d)):p=l.fromFormat(String(d),r),p.toFormat("yyyy-MM-dd")}if(h.type="date",h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",s.max&&h.setAttribute("max",r?u(s.max):s.max),s.min&&h.setAttribute("min",r?u(s.min):s.min),s.elementAttributes&&typeof s.elementAttributes=="object")for(let d in s.elementAttributes)d.charAt(0)=="+"?(d=d.slice(1),h.setAttribute(d,h.getAttribute(d)+s.elementAttributes["+"+d])):h.setAttribute(d,s.elementAttributes[d]);a=typeof a<"u"?a:"",r&&(l?a=u(a):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),h.value=a,e(function(){n._getSelf&&(h.focus({preventScroll:!0}),h.style.height="100%",s.selectContents&&h.select())});function c(){var d=h.value,p;if((a===null||typeof a>"u")&&d!==""||d!==a){if(d&&r)switch(p=l.fromFormat(String(d),"yyyy-MM-dd"),r){case!0:d=p;break;case"iso":d=p.toISO();break;default:d=p.toFormat(r)}t(d)&&(a=h.value)}else i()}return h.addEventListener("blur",function(d){(d.relatedTarget||d.rangeParent||d.explicitOriginalTarget!==h)&&c()}),h.addEventListener("keydown",function(d){switch(d.keyCode){case 13:c();break;case 27:i();break;case 35:case 36:d.stopPropagation();break;case 38:case 40:o=="editor"&&(d.stopImmediatePropagation(),d.stopPropagation());break}}),h}function Ja(n,e,t,i,s){var r=s.format,o=s.verticalNavigation||"editor",l=r?window.DateTime||luxon.DateTime:null,a,h=n.getValue(),u=document.createElement("input");if(u.type="time",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let d in s.elementAttributes)d.charAt(0)=="+"?(d=d.slice(1),u.setAttribute(d,u.getAttribute(d)+s.elementAttributes["+"+d])):u.setAttribute(d,s.elementAttributes[d]);h=typeof h<"u"?h:"",r&&(l?(l.isDateTime(h)?a=h:r==="iso"?a=l.fromISO(String(h)):a=l.fromFormat(String(h),r),h=a.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=h,e(function(){n._getSelf&&(u.focus({preventScroll:!0}),u.style.height="100%",s.selectContents&&u.select())});function c(){var d=u.value,p;if((h===null||typeof h>"u")&&d!==""||d!==h){if(d&&r)switch(p=l.fromFormat(String(d),"hh:mm"),r){case!0:d=p;break;case"iso":d=p.toISO();break;default:d=p.toFormat(r)}t(d)&&(h=u.value)}else i()}return u.addEventListener("blur",function(d){(d.relatedTarget||d.rangeParent||d.explicitOriginalTarget!==u)&&c()}),u.addEventListener("keydown",function(d){switch(d.keyCode){case 13:c();break;case 27:i();break;case 35:case 36:d.stopPropagation();break;case 38:case 40:o=="editor"&&(d.stopImmediatePropagation(),d.stopPropagation());break}}),u}function Za(n,e,t,i,s){var r=s.format,o=s.verticalNavigation||"editor",l=r?window.DateTime||luxon.DateTime:null,a,h=n.getValue(),u=document.createElement("input");if(u.type="datetime-local",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let d in s.elementAttributes)d.charAt(0)=="+"?(d=d.slice(1),u.setAttribute(d,u.getAttribute(d)+s.elementAttributes["+"+d])):u.setAttribute(d,s.elementAttributes[d]);h=typeof h<"u"?h:"",r&&(l?(l.isDateTime(h)?a=h:r==="iso"?a=l.fromISO(String(h)):a=l.fromFormat(String(h),r),h=a.toFormat("yyyy-MM-dd")+"T"+a.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=h,e(function(){n._getSelf&&(u.focus({preventScroll:!0}),u.style.height="100%",s.selectContents&&u.select())});function c(){var d=u.value,p;if((h===null||typeof h>"u")&&d!==""||d!==h){if(d&&r)switch(p=l.fromISO(String(d)),r){case!0:d=p;break;case"iso":d=p.toISO();break;default:d=p.toFormat(r)}t(d)&&(h=u.value)}else i()}return u.addEventListener("blur",function(d){(d.relatedTarget||d.rangeParent||d.explicitOriginalTarget!==u)&&c()}),u.addEventListener("keydown",function(d){switch(d.keyCode){case 13:c();break;case 27:i();break;case 35:case 36:d.stopPropagation();break;case 38:case 40:o=="editor"&&(d.stopImmediatePropagation(),d.stopPropagation());break}}),u}class $s{constructor(e,t,i,s,r,o){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=!t._getSelf,this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:s,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(i){i.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout(()=>{e.removeEventListener("click",t)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&typeof e=="object")for(let i in e)i.charAt(0)=="+"?(i=i.slice(1),t.setAttribute(i,t.getAttribute(i)+e["+"+i])):t.setAttribute(i,e[i]);return this.params.mask&&ji(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t=["values","valuesURL","valuesLookup"],i;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",i=Object.keys(e).filter(s=>t.includes(s)).length,i?i>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(t==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var i=this.displayItems.find(s=>typeof s.label<"u"&&s.label.toLowerCase().startsWith(this.filterTerm));i&&this._focusItem(i),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],i=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then(s=>this.listIteration===i?this._parseList(s):Promise.reject(i))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var i=this.params.filterRemote?{term:t}:{};return e=Cr(e,{},i),fetch(e).then(s=>s.ok?s.json().catch(r=>(console.warn("List Ajax Load Error - Invalid JSON returned",r),Promise.reject(r))):(console.error("List Ajax Load Error - Connection Error: "+s.status,s.statusText),Promise.reject(s))).catch(s=>(console.error("List Ajax Load Error - Connection Error: ",s),Promise.reject(s)))}_uniqueColumnValues(e){var t={},i=this.table.getData(this.params.valuesLookup),s;return e?s=this.table.columnManager.getColumnByField(e):s=this.cell.getColumn()._getSelf(),s?i.forEach(r=>{var o=s.getFieldValue(r);o!==null&&typeof o<"u"&&o!==""&&(t[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),t=[]),Object.keys(t)}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map(([i,s])=>({label:s,value:i}))),e.forEach(i=>{typeof i!="object"&&(i={label:i,value:i}),this._parseListItem(i,t,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,i){var s={};e.options?s=this._parseListGroup(e,i+1):(s={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(s,!0)),t.push(s)}_parseListGroup(e,t){var i={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach(s=>{this._parseListItem(s,i.options,t)}),i}_sortOptions(e){var t;return this.params.sort&&(t=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort((i,s)=>e(i.label,s.label,i.value,s.value,i.original,s.original)),t.forEach(i=>{i.group&&this._sortGroup(e,i.options)})}_defaultSortFunction(e,t){var i,s,r,o,l=0,a,h=/(\d+)|(\D+)/g,u=/\d/,c=0;if(this.params.sort==="desc"&&([e,t]=[t,e]),!e&&e!==0)c=!t&&t!==0?0:-1;else if(!t&&t!==0)c=1;else{if(isFinite(e)&&isFinite(t))return e-t;if(i=String(e).toLowerCase(),s=String(t).toLowerCase(),i===s)return 0;if(!(u.test(i)&&u.test(s)))return i>s?1:-1;for(i=i.match(h),s=s.match(h),a=i.length>s.length?s.length:i.length;l<a;)if(r=i[l],o=s[l++],r!==o)return isFinite(r)&&isFinite(o)?(r.charAt(0)==="0"&&(r="."+r),o.charAt(0)==="0"&&(o="."+o),r-o):r>o?1:-1;return i.length>s.length}return c}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach(i=>{this._filterItem(e,t,i)})):this.filtered=!1,this.data}_filterItem(e,t,i){var s=!1;return i.group?(i.options.forEach(r=>{this._filterItem(e,t,r)&&(s=!0)}),i.visible=s):i.visible=e(t,i.label,i.value,i.original),i.visible}_defaultFilterFunc(e,t,i,s){return e=String(e).toLowerCase(),t!==null&&typeof t<"u"&&(String(t).toLowerCase().indexOf(e)>-1||String(i).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(t=>{this._buildItem(t)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t=e.element,i;if(!this.filtered||e.visible){if(!t){if(t=document.createElement("div"),t.tabIndex=0,i=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,t):e.label,i instanceof HTMLElement?t.appendChild(i):t.innerHTML=i,e.group?t.classList.add("tabulator-edit-list-group"):t.classList.add("tabulator-edit-list-item"),t.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let s in e.elementAttributes)s.charAt(0)=="+"?(s=s.slice(1),t.setAttribute(s,this.input.getAttribute(s)+e.elementAttributes["+"+s])):t.setAttribute(s,e.elementAttributes[s]);e.group?t.addEventListener("click",this._groupClick.bind(this,e)):t.addEventListener("click",this._itemClick.bind(this,e)),t.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=t}this._styleItem(e),this.listEl.appendChild(t),e.group?e.options.forEach(s=>{this._buildItem(s)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var i;this.typing=!1,this.params.multiselect?(i=this.currentItems.indexOf(e),i>-1?(this.currentItems.splice(i,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(s=>s.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map(s=>s.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")t=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?t=this.currentItems[0].value:(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,i===null||typeof i>"u"||i===""?t=i:t=this.params.emptyValue);t===""&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}}function Qa(n,e,t,i,s){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var r=new $s(this,n,e,t,i,s);return r.input}function eh(n,e,t,i,s){var r=new $s(this,n,e,t,i,s);return r.input}function th(n,e,t,i,s){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),s.autocomplete=!0;var r=new $s(this,n,e,t,i,s);return r.input}function ih(n,e,t,i,s){var r=this,o=n.getElement(),l=n.getValue(),a=o.getElementsByTagName("svg").length||5,h=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,u=[],c=document.createElement("div"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(w){u.forEach(function(v,g){g<w?(r.table.browser=="ie"?v.setAttribute("class","tabulator-star-active"):v.classList.replace("tabulator-star-inactive","tabulator-star-active"),v.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(r.table.browser=="ie"?v.setAttribute("class","tabulator-star-inactive"):v.classList.replace("tabulator-star-active","tabulator-star-inactive"),v.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function C(w){var v=document.createElement("span"),g=d.cloneNode(!0);u.push(g),v.addEventListener("mouseenter",function(y){y.stopPropagation(),y.stopImmediatePropagation(),p(w)}),v.addEventListener("mousemove",function(y){y.stopPropagation(),y.stopImmediatePropagation()}),v.addEventListener("click",function(y){y.stopPropagation(),y.stopImmediatePropagation(),t(w),o.blur()}),v.appendChild(g),c.appendChild(v)}function b(w){l=w,p(w)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",c.style.verticalAlign="middle",c.style.display="inline-block",c.style.padding="4px",d.setAttribute("width",h),d.setAttribute("height",h),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",s.elementAttributes&&typeof s.elementAttributes=="object")for(let w in s.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),c.setAttribute(w,c.getAttribute(w)+s.elementAttributes["+"+w])):c.setAttribute(w,s.elementAttributes[w]);for(var x=1;x<=a;x++)C(x);return l=Math.min(parseInt(l),a),p(l),c.addEventListener("mousemove",function(w){p(0)}),c.addEventListener("click",function(w){t(0)}),o.addEventListener("blur",function(w){i()}),o.addEventListener("keydown",function(w){switch(w.keyCode){case 39:b(l+1);break;case 37:b(l-1);break;case 13:t(l);break;case 27:i();break}}),c}function sh(n,e,t,i,s){var r=n.getElement(),o=typeof s.max>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:s.max,l=typeof s.min>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:s.min,a=(o-l)/100,h=n.getValue()||0,u=document.createElement("div"),c=document.createElement("div"),d,p;function C(){var b=window.getComputedStyle(r,null),x=a*Math.round(c.offsetWidth/((r.clientWidth-parseInt(b.getPropertyValue("padding-left"))-parseInt(b.getPropertyValue("padding-right")))/100))+l;t(x),r.setAttribute("aria-valuenow",x),r.setAttribute("aria-label",h)}if(u.style.position="absolute",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.width="5px",u.classList.add("tabulator-progress-handle"),c.style.display="inline-block",c.style.position="relative",c.style.height="100%",c.style.backgroundColor="#488CE9",c.style.maxWidth="100%",c.style.minWidth="0%",s.elementAttributes&&typeof s.elementAttributes=="object")for(let b in s.elementAttributes)b.charAt(0)=="+"?(b=b.slice(1),c.setAttribute(b,c.getAttribute(b)+s.elementAttributes["+"+b])):c.setAttribute(b,s.elementAttributes[b]);return r.style.padding="4px 4px",h=Math.min(parseFloat(h),o),h=Math.max(parseFloat(h),l),h=Math.round((h-l)/a),c.style.width=h+"%",r.setAttribute("aria-valuemin",l),r.setAttribute("aria-valuemax",o),c.appendChild(u),u.addEventListener("mousedown",function(b){d=b.screenX,p=c.offsetWidth}),u.addEventListener("mouseover",function(){u.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(b){d&&(c.style.width=p+b.screenX-d+"px")}),r.addEventListener("mouseup",function(b){d&&(b.stopPropagation(),b.stopImmediatePropagation(),d=!1,p=!1,C())}),r.addEventListener("keydown",function(b){switch(b.keyCode){case 39:b.preventDefault(),c.style.width=c.clientWidth+r.clientWidth/100+"px";break;case 37:b.preventDefault(),c.style.width=c.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:C();break;case 27:i();break}}),r.addEventListener("blur",function(){i()}),c}function nh(n,e,t,i,s){var r=n.getValue(),o=document.createElement("input"),l=s.tristate,a=typeof s.indeterminateValue>"u"?null:s.indeterminateValue,h=!1,u=Object.keys(s).includes("trueValue"),c=Object.keys(s).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",s.elementAttributes&&typeof s.elementAttributes=="object")for(let p in s.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),o.setAttribute(p,o.getAttribute(p)+s.elementAttributes["+"+p])):o.setAttribute(p,s.elementAttributes[p]);o.value=r,l&&(typeof r>"u"||r===a||r==="")&&(h=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){n._getSelf&&o.focus({preventScroll:!0})}),o.checked=u?r===s.trueValue:r===!0||r==="true"||r==="True"||r===1;function d(p){var C=o.checked;return u&&C?C=s.trueValue:c&&!C&&(C=s.falseValue),l?p?h?a:C:o.checked&&!h?(o.checked=!1,o.indeterminate=!0,h=!0,a):(h=!1,C):C}return o.addEventListener("change",function(p){t(d())}),o.addEventListener("blur",function(p){t(d(!0))}),o.addEventListener("keydown",function(p){p.keyCode==13&&t(d()),p.keyCode==27&&i()}),o}var rh={input:Ua,textarea:Ka,number:qa,range:Xa,date:Ya,time:Ja,datetime:Za,select:Qa,list:eh,autocomplete:th,star:ih,progress:sh,tickCross:nh};class hi extends ee{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=hi.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,i=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||i&&(t.getElement().firstChild.blur(),i===!0?i=this.table.addRow({}):typeof i=="function"?i=this.table.addRow(i(t.row.getComponent())):i=this.table.addRow(Object.assign({},i)),i.then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})})))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var i,s;if(e){if(t&&t.preventDefault(),i=this.navigateLeft(),i)return!0;if(s=this.table.rowManager.prevDisplayRow(e.row,!0),s&&(i=this.findPrevEditableCell(s,s.cells.length),i))return i.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var i,s;if(e){if(t&&t.preventDefault(),i=this.navigateRight(),i)return!0;if(s=this.table.rowManager.nextDisplayRow(e.row,!0),s&&(i=this.findNextEditableCell(s,-1),i))return i.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var i,s;return e&&(t&&t.preventDefault(),i=e.getIndex(),s=this.findPrevEditableCell(e.row,i),s)?(s.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,t){var i,s;return e&&(t&&t.preventDefault(),i=e.getIndex(),s=this.findNextEditableCell(e.row,i),s)?(s.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,t){var i,s;return e&&(t&&t.preventDefault(),i=e.getIndex(),s=this.table.rowManager.prevDisplayRow(e.row,!0),s)?(s.cells[i].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,t){var i,s;return e&&(t&&t.preventDefault(),i=e.getIndex(),s=this.table.rowManager.nextDisplayRow(e.row,!0),s)?(s.cells[i].getComponent().edit(),!0):!1}findNextEditableCell(e,t){var i=!1;if(t<e.cells.length-1)for(var s=t+1;s<e.cells.length;s++){let r=e.cells[s];if(r.column.modules.edit&&ue.elVisible(r.getElement())&&this.allowEdit(r)){i=r;break}}return i}findPrevEditableCell(e,t){var i=!1;if(t>0)for(var s=t-1;s>=0;s--){let r=e.cells[s];if(r.column.modules.edit&&ue.elVisible(r.getElement())&&this.allowEdit(r)){i=r;break}}return i}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(t=>{t.column.modules.edit&&typeof t.column.modules.edit.check=="function"&&this.updateCellClass(t)})}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":e.definition.editor===!0&&(typeof e.definition.formatter!="function"?this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}t.editor&&(e.modules.edit=t)}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var t=this.currentCell,i;if(this.invalidEdit=!1,t){for(this.currentCell=!1,i=t.getElement(),this.dispatch("edit-editor-clear",t,e),i.classList.remove("tabulator-editing");i.firstChild;)i.removeChild(i.firstChild);t.row.getElement().classList.remove("tabulator-editing"),t.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,i=e.getElement(!0);this.updateCellClass(e),i.setAttribute("tabindex",0),i.addEventListener("click",function(s){i.classList.contains("tabulator-editing")||i.focus({preventScroll:!0})}),i.addEventListener("mousedown",function(s){s.button===2?s.preventDefault():t.mouseClick=!0}),i.addEventListener("focus",function(s){t.recursionBlock||t.edit(e,s,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var t=this.table.rowManager.element.scrollTop,i=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,s=e.row.getElement();s.offsetTop<t?this.table.rowManager.element.scrollTop-=t-s.offsetTop:s.offsetTop+s.offsetHeight>i&&(this.table.rowManager.element.scrollTop+=s.offsetTop+s.offsetHeight-i);var r=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,l=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin),o-=parseInt(this.table.modules.frozenColumns.rightMargin)),this.table.options.renderHorizontal==="virtual"&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),l.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-l.offsetLeft:l.offsetLeft+l.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=l.offsetLeft+l.offsetWidth-o)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,i){var s=this,r=!0,o=function(){},l=e.getElement(),a,h,u;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function c(x){if(s.currentCell===e){var w=s.chain("edit-success",[e,x],!0,!0);return w===!0||s.table.options.validationMode==="highlight"?(s.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,s.editedCells.indexOf(e)==-1&&s.editedCells.push(e),e.setValue(x,!0),w===!0):(s.invalidEdit=!0,s.focusCellNoEvent(e,!0),o(),!1)}}function d(){s.currentCell===e&&s.cancelEdit()}function p(x){o=x}if(e.column.modules.edit.blocked)return this.mouseClick=!1,l.blur(),!1;if(t&&t.stopPropagation(),r=this.allowEdit(e),r||i){if(s.cancelEdit(),s.currentCell=e,this.focusScrollAdjust(e),h=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,h)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,h),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",h),u=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(h):e.column.modules.edit.params,a=e.column.modules.edit.editor.call(s,h,p,c,d,u),this.currentCell&&a!==!1)if(a instanceof Node){for(l.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);l.appendChild(a),o();for(var C=l.children,b=0;b<C.length;b++)C[b].addEventListener("click",function(x){x.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",a),l.blur(),!1;else return l.blur(),!1;return!0}else return this.mouseClick=!1,l.blur(),!1}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}}hi.moduleName="edit";hi.editors=rh;class Tn{constructor(e,t,i,s){this.type=e,this.columns=t,this.component=i||!1,this.indent=s||0}}class ts{constructor(e,t,i,s,r){this.value=e,this.component=t||!1,this.width=i,this.height=s,this.depth=r}}class Tr extends ee{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,i,s){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=s;var r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders()):[],o=this.bodyToExportRows(this.rowLookup(i));return r.concat(o)}generateTable(e,t,i,s){var r=this.generateExportList(e,t,i,s);return this.generateTableElement(r)}rowLookup(e){var t=[];if(typeof e=="function")e.call(this.table).forEach(i=>{i=this.table.rowManager.findRow(i),i&&t.push(i)});else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;case"active":default:this.table.options.pagination?t=this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):t=this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[],t=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return t.forEach(i=>{var s=this.processColumnGroup(i);s&&e.push(s)}),e}processColumnGroup(e){var t=e.columns,i=0,s=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,r={title:s,column:e,depth:1};if(t.length){if(r.subGroups=[],r.width=0,t.forEach(o=>{var l=this.processColumnGroup(o);l&&(r.width+=l.width,r.subGroups.push(l),l.depth>i&&(i=l.depth))}),r.depth+=i,!r.width)return!1}else if(this.columnVisCheck(e))r.width=1;else return!1;return r}columnVisCheck(e){var t=e.definition[this.colVisProp];return typeof t=="function"&&(t=t.call(this.table,e.getComponent())),t!==!1&&(e.visible||!e.visible&&t)}headersToExportRows(e){var t=[],i=0,s=[];function r(o,l){var a=i-l;if(typeof t[l]>"u"&&(t[l]=[]),o.height=o.subGroups?1:a-o.depth+1,t[l].push(o),o.height>1)for(let h=1;h<o.height;h++)typeof t[l+h]>"u"&&(t[l+h]=[]),t[l+h].push(!1);if(o.width>1)for(let h=1;h<o.width;h++)t[l].push(!1);o.subGroups&&o.subGroups.forEach(function(h){r(h,l+1)})}return e.forEach(function(o){o.depth>i&&(i=o.depth)}),e.forEach(function(o){r(o,0)}),t.forEach(o=>{var l=[];o.forEach(a=>{if(a){let h=typeof a.title>"u"?"":a.title;l.push(new ts(h,a.column.getComponent(),a.width,a.height,a.depth))}else l.push(null)}),s.push(new Tn("header",l))}),s}bodyToExportRows(e){var t=[],i=[];return this.table.columnManager.columnsByIndex.forEach(s=>{this.columnVisCheck(s)&&t.push(s.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(s=>{switch(s.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&s.modules.dataTree.parent)}return!0}),e.forEach((s,r)=>{var o=s.getData(this.colVisProp),l=[],a=0;switch(s.type){case"group":a=s.level,l.push(new ts(s.key,s.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(h=>{l.push(new ts(h._column.getFieldValue(o),h,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(a=s.modules.dataTree.index);break}i.push(new Tn(s.type,l,s.getComponent(),a))}),i}generateTableElement(e){var t=document.createElement("table"),i=document.createElement("thead"),s=document.createElement("tbody"),r=this.lookupTableStyles(),o=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l={};return l.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(l.treeElementField=this.table.modules.dataTree.elementField),l.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l.groupHeader&&!Array.isArray(l.groupHeader)&&(l.groupHeader=[l.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((a,h)=>{let u;switch(a.type){case"header":i.appendChild(this.generateHeaderElement(a,l,r));break;case"group":s.appendChild(this.generateGroupElement(a,l,r));break;case"calc":s.appendChild(this.generateCalcElement(a,l,r));break;case"row":u=this.generateRowElement(a,l,r),this.mapElementStyles(h%2&&r.evenRow?r.evenRow:r.oddRow,u,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),s.appendChild(u);break}}),i.innerHTML&&t.appendChild(i),t.appendChild(s),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,i){var s=document.createElement("tr");return e.columns.forEach(r=>{if(r){var o=document.createElement("th"),l=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];o.colSpan=r.width,o.rowSpan=r.height,o.innerHTML=r.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),l.forEach(function(a){o.classList.add(a)}),this.mapElementStyles(r.component.getElement(),o,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),o,["width"]):r.component._column.definition.width&&(o.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&this.mapElementStyles(r.component._column.parent.groupElement,o,["border-top"]),s.appendChild(o)}}),s}generateGroupElement(e,t,i){var s=document.createElement("tr"),r=document.createElement("td"),o=e.columns[0];return s.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?o.value=t.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):t.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),r.colSpan=o.width,r.innerHTML=o.value,s.classList.add("tabulator-print-table-group"),s.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&s.classList.add("tabulator-group-visible"),this.mapElementStyles(i.firstGroup,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(i.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),s.appendChild(r),s}generateCalcElement(e,t,i){var s=this.generateRowElement(e,t,i);return s.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(i.calcRow,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),s}generateRowElement(e,t,i){var s=document.createElement("tr");if(s.classList.add("tabulator-print-table-row"),e.columns.forEach((r,o)=>{if(r){var l=document.createElement("td"),a=r.component._column,h=this.table.columnManager.findColumnIndex(a),u=r.value,c,d={modules:{},getValue:function(){return u},getField:function(){return a.definition.field},getElement:function(){return l},getColumn:function(){return a.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return d},column:a},p=a.definition.cssClass?a.definition.cssClass.split(" "):[];if(p.forEach(function(C){l.classList.add(C)}),this.table.modExists("format")&&this.config.formatCells!==!1)u=this.table.modules.format.formatExportValue(d,this.colVisProp);else switch(typeof u){case"object":u=u!==null?JSON.stringify(u):"";break;case"undefined":u="";break}u instanceof Node?l.appendChild(u):l.innerHTML=u,c=i.styleCells&&i.styleCells[h]?i.styleCells[h]:i.firstCell,c&&(this.mapElementStyles(c,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),a.definition.align&&(l.style.textAlign=a.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(t.treeElementField&&t.treeElementField==a.field||!t.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&l.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),e.component._row.modules.dataTree.branchEl&&l.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),s.appendChild(l),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback()}}),t.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let r=Object.assign(e.component);r.getElement=function(){return s},t.rowFormatter(e.component)}return s}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,i,s){var r=this.generateExportList(i||this.table.options.htmlOutputConfig,t,e,s||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(e,t,i){if(this.cloneTableStyle&&e&&t){var s={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);i.forEach(function(o){t.style[s[o]]||(t.style[s[o]]=r.getPropertyValue(o))})}}}}Tr.moduleName="export";var oh={"=":function(n,e,t,i){return e==n},"<":function(n,e,t,i){return e<n},"<=":function(n,e,t,i){return e<=n},">":function(n,e,t,i){return e>n},">=":function(n,e,t,i){return e>=n},"!=":function(n,e,t,i){return e!=n},regex:function(n,e,t,i){return typeof n=="string"&&(n=new RegExp(n)),n.test(e)},like:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(n.toLowerCase())>-1:!1},keywords:function(n,e,t,i){var s=n.toLowerCase().split(typeof i.separator>"u"?" ":i.separator),r=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return s.forEach(l=>{r.includes(l)&&o.push(!0)}),i.matchAll?o.length===s.length:!!o.length},starts:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(n.toLowerCase()):!1},ends:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(n.toLowerCase()):!1},in:function(n,e,t,i){return Array.isArray(n)?n.length?n.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",n),!1)}};class Ze extends ee{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(t)this.setHeaderFilterValue(t,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,t,i,s){return s.filter=this.getFilters(!0,!0),s}userSetFilter(e,t,i,s){this.setFilter(e,t,i,s),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,i,s){this.addFilter(e,t,i,s),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(t)this.setHeaderFilterFocus(t);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterValue(i,t);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,t,i){this.removeFilter(e,t,i),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,i){return this.search("rows",e,t,i)}searchData(e,t,i){return this.search("data",e,t,i)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var i=this,s=e.getField();function r(o){var l=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",a="",h="",u;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete i.headerFilters[s];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":Ze.filters[e.definition.headerFilterFunc]?(a=e.definition.headerFilterFunc,u=function(c){var d=e.definition.headerFilterFuncParams||{},p=e.getFieldValue(c);return d=typeof d=="function"?d(o,p,c):d,Ze.filters[e.definition.headerFilterFunc](o,p,c,d)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":u=function(c){var d=e.definition.headerFilterFuncParams||{},p=e.getFieldValue(c);return d=typeof d=="function"?d(o,p,c):d,e.definition.headerFilterFunc(o,p,c,d)},a=u;break}if(!u)switch(l){case"partial":u=function(c){var d=e.getFieldValue(c);return typeof d<"u"&&d!==null?String(d).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},a="like";break;default:u=function(c){return e.getFieldValue(c)==o},a="="}i.headerFilters[s]={value:o,func:u,type:a}}e.modules.filter.value=o,h=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==h&&(i.prevHeaderFilterChangeCheck=h,i.trackChanges(),i.refreshFilter())}return!0}e.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,i){var s=this,r=e.modules.filter.success,o=e.getField(),l,a,h,u,c,d,p,C;e.modules.filter.value=t;function b(){}function x(w){C=w}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(w){return!w&&w!==0},l=document.createElement("div"),l.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":s.table.modules.edit.editors[e.definition.headerFilter]?(a=s.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(w){return w!==!0&&w!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":a=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?a=e.modules.edit.editor:e.definition.formatter&&s.table.modules.edit.editors[e.definition.formatter]?(a=s.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(w){return w!==!0&&w!==!1})):a=s.table.modules.edit.editors.input;break}if(a){if(u={getValue:function(){return typeof t<"u"?t:""},getField:function(){return e.definition.field},getElement:function(){return l},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getRow:function(){return{normalizeHeight:function(){}}}},p=e.definition.headerFilterParams||{},p=typeof p=="function"?p.call(s.table,u):p,h=a.call(this.table.modules.edit,u,x,r,b,p),!h){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(h instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",h);return}s.langBind("headerFilters|columns|"+e.definition.field,function(w){h.setAttribute("placeholder",typeof w<"u"&&w?w:e.definition.headerFilterPlaceholder||s.langText("headerFilters|default"))}),h.addEventListener("click",function(w){w.stopPropagation(),h.focus()}),h.addEventListener("focus",w=>{var v=this.table.columnManager.contentsElement.scrollLeft,g=this.table.rowManager.element.scrollLeft;v!==g&&(this.table.rowManager.scrollHorizontal(v),this.table.columnManager.scrollHorizontal(v))}),c=!1,d=function(w){c&&clearTimeout(c),c=setTimeout(function(){r(h.value)},s.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=h,e.modules.filter.attrType=h.hasAttribute("type")?h.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=h.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(h.addEventListener("keyup",d),h.addEventListener("search",d),e.modules.filter.attrType=="number"&&h.addEventListener("change",function(w){r(h.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&h.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&h.addEventListener("mousedown",function(w){w.stopPropagation()})),l.appendChild(h),e.contentElement.appendChild(l),i||s.headerFilterColumns.push(e),C&&C()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,i,s){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:i,params:s}]),this.addFilter(e)}addFilter(e,t,i,s){var r=!1;Array.isArray(e)||(e=[{field:e,type:t,value:i,params:s}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),r=!0)}),r&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return typeof e.field=="function"?i=function(s){return e.field(s,e.type||{})}:Ze.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),t?i=function(s){return Ze.filters[e.type](e.value,t.getFieldValue(s),s,e.params||{})}:i=function(s){return Ze.filters[e.type](e.value,s[e.field],s,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,e.func?e:!1}findSubFilters(e){var t=[];return e.forEach(i=>{i=this.findFilter(i),i&&t.push(i)}),t.length?t:!1}getFilters(e,t){var i=[];return e&&(i=this.getHeaderFilters()),t&&i.forEach(function(s){typeof s.type=="function"&&(s.type="function")}),i=i.concat(this.filtersToArray(this.filterList,t)),i}filtersToArray(e,t){var i=[];return e.forEach(s=>{var r;Array.isArray(s)?i.push(this.filtersToArray(s,t)):(r={field:s.field,type:s.type,value:s.value},t&&typeof r.type=="function"&&(r.type="function"),i.push(r))}),i}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,i){Array.isArray(e)||(e=[{field:e,type:t,value:i}]),e.forEach(s=>{var r=-1;typeof s.field=="object"?r=this.filterList.findIndex(o=>s===o):r=this.filterList.findIndex(o=>s.field===o.field&&s.type===o.type&&s.value===o.value),r>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",s.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,i,s){var r=[],o=[];return Array.isArray(t)||(t=[{field:t,type:i,value:s}]),t.forEach(l=>{l=this.findFilter(l),l&&o.push(l)}),this.table.rowManager.rows.forEach(l=>{var a=!0;o.forEach(h=>{this.filterRecurse(h,l.getData())||(a=!1)}),a&&r.push(e==="data"?l.getData("data"):l.getComponent())}),r}filter(e,t){var i=[],s=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&i.push(r)}):i=e.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach(r=>{s.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),s)),i}filterRow(e,t){var i=!0,s=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,s)||(i=!1)});for(var r in this.headerFilters)this.headerFilters[r].func(s)||(i=!1);return i}filterRecurse(e,t){var i=!1;return Array.isArray(e)?e.forEach(s=>{this.filterRecurse(s,t)&&(i=!0)}):i=e.func(t),i}}Ze.moduleName="filter";Ze.filters=oh;function lh(n,e,t){return this.emptyToSpace(this.sanitizeHTML(n.getValue()))}function ah(n,e,t){return n.getValue()}function hh(n,e,t){return n.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(n.getValue()))}function uh(n,e,t){var i=parseFloat(n.getValue()),s="",r,o,l,a,h=e.decimal||".",u=e.thousand||",",c=e.negativeSign||"-",d=e.symbol||"",p=!!e.symbolAfter,C=typeof e.precision<"u"?e.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(n.getValue()));if(i<0&&(i=Math.abs(i),s=c),r=C!==!1?i.toFixed(C):i,r=String(r).split("."),o=r[0],l=r.length>1?h+r[1]:"",e.thousand!==!1)for(a=/(\d+)(\d{3})/;a.test(o);)o=o.replace(a,"$1"+u+"$2");return p?s+o+l+d:s+d+o+l}function dh(n,e,t){var i=n.getValue(),s=e.urlPrefix||"",r=e.download,o=i,l=document.createElement("a"),a;function h(u,c){var d=u.shift(),p=c[d];return u.length&&typeof p=="object"?h(u,p):p}if(e.labelField&&(a=n.getData(),o=h(e.labelField.split(this.table.options.nestedFieldSeparator),a)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(n);break}if(o){if(e.urlField&&(a=n.getData(),i=a[e.urlField]),e.url)switch(typeof e.url){case"string":i=e.url;break;case"function":i=e.url(n);break}return l.setAttribute("href",s+i),e.target&&l.setAttribute("target",e.target),e.download&&(typeof r=="function"?r=r(n):r=r===!0?"":r,l.setAttribute("download",r)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),l}else return"&nbsp;"}function ch(n,e,t){var i=document.createElement("img"),s=n.getValue();switch(e.urlPrefix&&(s=e.urlPrefix+n.getValue()),e.urlSuffix&&(s=s+e.urlSuffix),i.setAttribute("src",s),typeof e.height){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height;break}switch(typeof e.width){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width;break}return i.addEventListener("load",function(){n.getRow().normalizeHeight()}),i}function fh(n,e,t){var i=n.getValue(),s=n.getElement(),r=e.allowEmpty,o=e.allowTruthy,l=Object.keys(e).includes("trueValue"),a=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',h=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return l&&i===e.trueValue||!l&&(o&&i||i===!0||i==="true"||i==="True"||i===1||i==="1")?(s.setAttribute("aria-checked",!0),a||""):r&&(i==="null"||i===""||i===null||typeof i>"u")?(s.setAttribute("aria-checked","mixed"),""):(s.setAttribute("aria-checked",!1),h||"")}function ph(n,e,t){var i=window.DateTime||luxon.DateTime,s=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",l=n.getValue();if(typeof i<"u"){var a;return i.isDateTime(l)?a=l:s==="iso"?a=i.fromISO(String(l)):a=i.fromFormat(String(l),s),a.isValid?(e.timezone&&(a=a.setZone(e.timezone)),a.toFormat(r)):o===!0||!l?l:typeof o=="function"?o(l):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function mh(n,e,t){var i=window.DateTime||luxon.DateTime,s=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,l=typeof e.unit<"u"?e.unit:"days",a=typeof e.humanize<"u"?e.humanize:!1,h=typeof e.date<"u"?e.date:i.now(),u=n.getValue();if(typeof i<"u"){var c;return i.isDateTime(u)?c=u:s==="iso"?c=i.fromISO(String(u)):c=i.fromFormat(String(u),s),c.isValid?a?c.diff(h,l).toHuman()+(o?" "+o:""):parseInt(c.diff(h,l)[l])+(o?" "+o:""):r===!0?u:typeof r=="function"?r(u):r}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function gh(n,e,t){var i=n.getValue();return typeof e[i]>"u"?(console.warn("Missing display value for "+i),i):e[i]}function bh(n,e,t){var i=n.getValue(),s=n.getElement(),r=e&&e.stars?e.stars:5,o=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg"),a='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',h='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",l.setAttribute("width","14"),l.setAttribute("height","14"),l.setAttribute("viewBox","0 0 512 512"),l.setAttribute("xml:space","preserve"),l.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,r));for(var u=1;u<=r;u++){var c=l.cloneNode(!0);c.innerHTML=u<=i?a:h,o.appendChild(c)}return s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.setAttribute("aria-label",i),o}function vh(n,e,t){var i=this.sanitizeHTML(n.getValue())||0,s=document.createElement("span"),r=e&&e.max?e.max:100,o=e&&e.min?e.min:0,l=e&&typeof e.color<"u"?e.color:["red","orange","green"],a="#666666",h,u;if(!(isNaN(i)||typeof n.getValue()>"u")){switch(s.classList.add("tabulator-traffic-light"),u=parseFloat(i)<=r?parseFloat(i):r,u=parseFloat(u)>=o?parseFloat(u):o,h=(r-o)/100,u=Math.round((u-o)/h),typeof l){case"string":a=l;break;case"function":a=l(i);break;case"object":if(Array.isArray(l)){var c=100/l.length,d=Math.floor(u/c);d=Math.min(d,l.length-1),d=Math.max(d,0),a=l[d];break}}return s.style.backgroundColor=a,s}}function wh(n,e={},t){var i=this.sanitizeHTML(n.getValue())||0,s=n.getElement(),r=e.max?e.max:100,o=e.min?e.min:0,l=e.legendAlign?e.legendAlign:"center",a,h,u,c,d;switch(h=parseFloat(i)<=r?parseFloat(i):r,h=parseFloat(h)>=o?parseFloat(h):o,a=(r-o)/100,h=Math.round((h-o)/a),typeof e.color){case"string":u=e.color;break;case"function":u=e.color(i);break;case"object":if(Array.isArray(e.color)){let x=100/e.color.length,w=Math.floor(h/x);w=Math.min(w,e.color.length-1),w=Math.max(w,0),u=e.color[w];break}default:u="#2DC214"}switch(typeof e.legend){case"string":c=e.legend;break;case"function":c=e.legend(i);break;case"boolean":c=i;break;default:c=!1}switch(typeof e.legendColor){case"string":d=e.legendColor;break;case"function":d=e.legendColor(i);break;case"object":if(Array.isArray(e.legendColor)){let x=100/e.legendColor.length,w=Math.floor(h/x);w=Math.min(w,e.legendColor.length-1),w=Math.max(w,0),d=e.legendColor[w]}break;default:d="#000"}s.style.minWidth="30px",s.style.position="relative",s.setAttribute("aria-label",h);var p=document.createElement("div");p.style.display="inline-block",p.style.width=h+"%",p.style.backgroundColor=u,p.style.height="100%",p.setAttribute("data-max",r),p.setAttribute("data-min",o);var C=document.createElement("div");if(C.style.position="relative",C.style.width="100%",C.style.height="100%",c){var b=document.createElement("div");b.style.position="absolute",b.style.top=0,b.style.left=0,b.style.textAlign=l,b.style.width="100%",b.style.color=d,b.innerHTML=c}return t(function(){if(!(n instanceof yr)){var x=document.createElement("div");x.style.position="absolute",x.style.top="4px",x.style.bottom="4px",x.style.left="4px",x.style.right="4px",s.appendChild(x),s=x}s.appendChild(C),C.appendChild(p),c&&C.appendChild(b)}),""}function Ch(n,e,t){return n.getElement().style.backgroundColor=this.sanitizeHTML(n.getValue()),""}function yh(n,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function Eh(n,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function xh(n,e,t){var i=document.createElement("span"),s=n.getRow();return s.watchPosition(r=>{i.innerText=r}),i}function Rh(n,e,t){return n.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function Th(n,e,t){var i=document.createElement("div"),s=n.getRow()._row.modules.responsiveLayout;i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,n.getElement().classList.add("tabulator-row-handle");function r(o){var l=s.element;s.open=o,l&&(s.open?(i.classList.add("open"),l.style.display=""):(i.classList.remove("open"),l.style.display="none"))}return i.addEventListener("click",function(o){o.stopImmediatePropagation(),r(!s.open),n.getTable().rowManager.adjustTableSize()}),r(s.open),i}function Mh(n,e,t){var i=document.createElement("input"),s=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",o=>{o.stopPropagation()}),typeof n.getRow=="function"){var r=n.getRow();r instanceof Vi?(i.addEventListener("change",o=>{this.table.options.selectableRangeMode==="click"&&s?s=!1:r.toggleSelect()}),this.table.options.selectableRangeMode==="click"&&i.addEventListener("click",o=>{s=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,o)}),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i=""}else i.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}var kh={plaintext:lh,html:ah,textarea:hh,money:uh,link:dh,image:ch,tickCross:fh,datetime:ph,datetimediff:mh,lookup:gh,star:bh,traffic:vh,progress:wh,color:Ch,buttonTick:yh,buttonCross:Eh,rownum:xh,handle:Rh,responsiveCollapse:Th,rowSelection:Mh};class Pe extends ee{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var i={params:e.definition["formatter"+t+"Params"]||{}},s=e.definition["formatter"+t];switch(typeof s){case"string":Pe.formatters[s]?i.formatter=Pe.formatters[s]:(console.warn("Formatter Error - No such formatter found: ",s),i.formatter=Pe.formatters.plaintext);break;case"function":i.formatter=s;break;default:i.formatter=Pe.formatters.plaintext;break}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,i){var s,r,o,l;return e.definition.titleFormatter?(s=this.getFormatter(e.definition.titleFormatter),o=a=>{e.titleFormatterRendered=a},l={getValue:function(){return t},getElement:function(){return i},getColumn:function(){return e.getComponent()},getTable:()=>this.table},r=e.definition.titleFormatterParams||{},r=typeof r=="function"?r():r,s.call(this,l,r,o)):t}formatValue(e){var t=e.getComponent(),i=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(t):e.column.modules.format.params;function s(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,i,s)}formatExportValue(e,t){var i=e.column.modules.format[t],s;if(i){let o=function(l){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=l,e.modules.format.rendered=!1};var r=o;return s=typeof i.params=="function"?i.params(e.getComponent()):i.params,i.formatter.call(this,e.getComponent(),s,o)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(i){return t[i]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":Pe.formatters[e]?e=Pe.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=Pe.formatters.plaintext);break;case"function":break;default:e=Pe.formatters.plaintext;break}return e}}Pe.moduleName="format";Pe.formatters=kh;class Mr extends ee{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-delete",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)})}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)})}layoutColumnPosition(e){var t=[],i=0,s=0;this.leftColumns.forEach((r,o)=>{if(r.modules.frozen.marginValue=i,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(i+=r.getWidth()),o==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var l=this.getColGroupParentElement(r);t.includes(l)||(this.layoutElement(l,r),t.push(l)),r.modules.frozen.edge&&l.classList.add("tabulator-frozen-"+r.modules.frozen.position)}else this.layoutElement(r.getElement(),r);e&&r.cells.forEach(a=>{this.layoutElement(a.getElement(!0),r)})}),this.rightColumns.forEach((r,o)=>{r.modules.frozen.marginValue=s,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(s+=r.getWidth()),o==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),e&&r.cells.forEach(l=>{this.layoutElement(l.getElement(!0),r)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));t.forEach(i=>{i.deinitialize()}),e.forEach(i=>{i.type==="row"&&this.layoutRow(i)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)}),this.rightColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)})}layoutElement(e,t){var i;t.modules.frozen&&(e.style.position="sticky",this.table.rtl?i=t.modules.frozen.position==="left"?"right":"left":i=t.modules.frozen.position,e.style[i]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,t){var i=0;for(let s=0;s<t;s++)e[s].visible&&(i+=e[s].getWidth());return i}}Mr.moduleName="frozenColumns";class kr extends ee{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var t=this.table.options.frozenRows,i=typeof t;i==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):i==="function"?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(i=>{t.push(i)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(i){var s=t.indexOf(i);s>-1&&t.splice(s,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var i=e.getElement();i.parentNode&&i.parentNode.removeChild(i),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,i)=>{this.table.rowManager.styleRow(t,i)})}}kr.moduleName="frozenRows";class Lh{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(t,i,s){return typeof t[i]<"u"?t[i]:t._group.groupManager.table.componentFunctionBinder.handle("group",t._group,i)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Dt{constructor(e,t,i,s,r,o,l){this.groupManager=e,this.parent=t,this.key=s,this.level=i,this.field=r,this.hasSubGroups=i<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=l,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=l?l.visible:typeof e.startOpen[i]<"u"?e.startOpen[i]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(t){t.wipe()}):this.rows.forEach(t=>{t.modules&&delete t.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(t=>{this._createGroup(t,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",t=>{t.stopPropagation(),t.stopImmediatePropagation(),this.toggleVisibility()}))}_createGroup(e,t){var i=t+"_"+e,s=new Dt(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],this.old?this.old.groups[i]:!1);this.groups[i]=s,this.groupList.push(s)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[t].func(e.getData()),s=t+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[s]&&this.groups[s].addRow(e):(this.groups[s]||this._createGroup(i,t),this.groups[s].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,i){var s=this.conformRowData({});e.updateData(s);var r=this.rows.indexOf(t);r>-1?i?this.rows.splice(r+1,0,e):this.rows.splice(r,0,e):i?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(t){t.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),i=e.getElement();t>-1&&this.rows.splice(t,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var i=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(s=>{i.push(s.getData(t||"data"))}),i}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(t=>{e+=t.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var t=e.getHeadersAndRows();t.forEach(i=>{i.detachElement()})}):this.rows.forEach(e=>{var t=e.getElement();t.parentNode.removeChild(t)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(t=>{var i=t.getHeadersAndRows();i.forEach(s=>{var r=s.getElement();e.parentNode.insertBefore(r,e.nextSibling),s.initialize(),e=r})}):this.rows.forEach(t=>{var i=t.getElement();e.parentNode.insertBefore(i,e.nextSibling),t.initialize(),e=i}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach(function(i){var s=i.getRowGroup(e);s&&(t=s)}):this.rows.find(function(i){return i===e})&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getRows(e){var t=[];return this.rows.forEach(function(i){t.push(e?i.getComponent():i)}),t}generateGroupHeaderContents(){var e=[];for(this.rows.forEach(function(t){e.push(t.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,ue.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Lh(this)),this.component}}class Lr extends ee{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(i)&&e.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,o)=>{this.headerGenerator[0]=(l,a,h)=>(typeof l>"u"?"":l)+"<span>("+a+" "+(a===1?r:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var s=this.table.columnManager.getRealColumns();s.forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((r,o)=>{var l,a;typeof r=="function"?l=r:(a=this.table.columnManager.getColumnByField(r),a?l=function(h){return a.getFieldValue(h)}:l=function(h){return h[r]}),this.groupIDLookups.push({field:typeof r=="function"?!1:r,func:l,values:this.allowedValues?this.allowedValues[o]:!1})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(r=>{}),this.startOpen=t),i&&(this.headerGenerator=Array.isArray(i)?i:[i])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var i=this.getGroups(!1)[0];t.push(i.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)t=t.filter(i=>i.type!=="group"),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px";else return t}rowAddingIndex(e,t,i){if(this.table.options.groupBy){this.assignRowToGroup(e);var s=e.modules.group.rows;return s.length>1&&(!t||t&&s.indexOf(t)==-1?i?s[0]!==e&&(t=s[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):s[s.length-1]!==e&&(t=s[s.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,t,i){if(this.table.options.groupBy){!i&&t instanceof Dt&&(t=this.table.rowManager.prevDisplayRow(e)||t);var s=t instanceof Dt?t:t.modules.group,r=e instanceof Dt?e:e.modules.group;s===r?this.table.rowManager.moveRowInArray(s.rows,e,t,i):(r&&r.removeRow(e),s.insertRow(e,t,i))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(i=>{i.groupList.length?t=t.concat(this.getChildGroups(i)):t.push(i)}),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach(i=>{var s={};s.level=0,s.rowCount=0,s.headerContent="";var r=[];i.hasSubGroups?(r=this.pullGroupListData(i.groupList),s.level=i.level,s.rowCount=r.length-i.groupList.length,s.headerContent=i.generator(i.key,s.rowCount,i.rows,i),t.push(s),t=t.concat(r)):(s.level=i.level,s.headerContent=i.generator(i.key,i.rows.length,i.rows,i),s.rowCount=i.getRows().length,t.push(s),i.getRows().forEach(o=>{t.push(o.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(i=>{var s=i.getRowGroup(e);s&&(t=s)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(i=>{this.createGroup(i,0,t)}),e.forEach(i=>{this.assignRowToExistingGroup(i,t)})):e.forEach(i=>{this.assignRowToGroup(i,t)}),Object.values(t).forEach(i=>{i.wipe(!0)})}createGroup(e,t,i){var s=t+"_"+e,r;i=i||[],r=new Dt(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],i[s]),this.groups[s]=r,this.groupList.push(r)}assignRowToExistingGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),s="0_"+i;this.groups[s]&&this.groups[s].addRow(e)}assignRowToGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),s=!this.groups["0_"+i];return s&&this.createGroup(i,0,t),this.groups["0_"+i].addRow(e),!s}reassignRowToGroup(e){if(e.type==="row"){var t=e.modules.group,i=t.getPath(),s=this.getExpectedPath(e),r;r=i.length==s.length&&i.every((o,l)=>o===s[l]),r||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],i=e.getData();return this.groupIDLookups.forEach(s=>{t.push(s.func(i))}),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach(i=>{t=t.concat(i.getHeadersAndRows())}),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(t=>{t.scrollHeader(e)}))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach((i,s)=>{this.table.rowManager.styleRow(i,s),e.appendChild(i.getElement()),i.initialize(!0),i.type!=="group"&&(t=!1)}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}Lr.moduleName="groupRows";var Sh={cellEdit:function(n){n.component.setValueProcessData(n.data.oldValue),n.component.cellRendered()},rowAdd:function(n){n.component.deleteActual()},rowDelete:function(n){var e=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,e)},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.rows[n.data.posFrom],!n.data.after),this.table.rowManager.redraw()}},_h={cellEdit:function(n){n.component.setValueProcessData(n.data.newValue),n.component.cellRendered()},rowAdd:function(n){var e=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,e)},rowDelete:function(n){n.component.deleteActual()},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.rows[n.data.posTo],n.data.after),this.table.rowManager.redraw()}};class Tt extends ee{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,i){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:i})}rowAdded(e,t,i,s){this.action("rowAdd",e,{data:t,pos:i,index:s})}rowDeleted(e){var t,i;this.table.options.groupBy?(i=e.getComponent().getGroup()._getSelf().rows,t=i.indexOf(e),t&&(t=i[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,i){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:i}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(i){return i.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Tt.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Tt.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach(function(i){if(i.component instanceof Te)i.component===e&&(i.component=t);else if(i.component instanceof ai&&i.component.row===e){var s=i.component.column.getField();s&&(i.component=t.getCell(s))}})}}Tt.moduleName="history";Tt.undoers=Sh;Tt.redoers=_h;class Sr extends ee{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,i=e.getElementsByTagName("th"),s=e.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),s=s?s.getElementsByTagName("tr"):[],this._extractOptions(e,t),i.length?this._extractHeaders(i,s):this._generateBlankHeaders(i,s);for(var o=0;o<s.length;o++){var l=s[o],a=l.getElementsByTagName("td"),h={};this.hasIndex||(h[t.index]=o);for(var u=0;u<a.length;u++){var c=a[u];typeof this.fieldIndex[u]<"u"&&(h[this.fieldIndex[u]]=c.innerHTML)}r.push(h)}t.data=r,this.dispatchExternal("htmlImported")}_extractOptions(e,t,i){var s=e.attributes,r=Object.keys(i||t),o={};r.forEach(u=>{o[u.toLowerCase()]=u});for(var l in s){var a=s[l],h;a&&typeof a=="object"&&a.name&&a.name.indexOf("tabulator-")===0&&(h=a.name.replace("tabulator-",""),typeof o[h]<"u"&&(t[o[h]]=this._attribValue(a.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var t=this.table.options.columns.find(i=>i.title===e);return t||!1}_extractHeaders(e,t){for(var i=0;i<e.length;i++){var s=e[i],r=!1,o=this._findCol(s.textContent),l;o?r=!0:o={title:s.textContent.trim()},o.field||(o.field=s.textContent.trim().toLowerCase().replace(" ","_")),l=s.getAttribute("width"),l&&!o.width&&(o.width=l),this._extractOptions(s,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[i]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(o)}}_generateBlankHeaders(e,t){for(var i=0;i<e.length;i++){var s=e[i],r={title:"",field:"col"+i};this.fieldIndex[i]=r.field;var o=s.getAttribute("width");o&&(r.width=o),this.table.options.columns.push(r)}}}Sr.moduleName="htmlTableImport";function Dh(n){var e=[],t=0,i=0,s=!1;for(let r=0;r<n.length;r++){let o=n[r],l=n[r+1];if(e[t]||(e[t]=[]),e[t][i]||(e[t][i]=""),o=='"'&&s&&l=='"'){e[t][i]+=o,r++;continue}if(o=='"'){s=!s;continue}if(o==","&&!s){i++;continue}if(o=="\r"&&l==`
`&&!s){i=0,t++,r++;continue}if((o=="\r"||o==`
`)&&!s){i=0,t++;continue}e[t][i]+=o}return e}function Fh(n){try{return JSON.parse(n)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function Ah(n){return n}var zh={csv:Dh,json:Fh,array:Ah};class ui extends ee{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,i,s,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),typeof e=="string"?t=ui.importers[e]:t=e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var i=this.lookupImporter(e);if(i)return this.pickFile(t).then(this.importData.bind(this,i)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(s=>(console.error("Import Error:",s||"Unable to import file"),Promise.reject(s)))}pickFile(e){return new Promise((t,i)=>{var s=document.createElement("input");s.type="file",s.accept=e,s.addEventListener("change",r=>{var o=s.files[0],l=new FileReader;switch(this.table.options.importReader){case"buffer":l.readAsArrayBuffer(o);break;case"binary":l.readAsBinaryString(o);break;case"url":l.readAsDataURL(o);break;case"text":default:l.readAsText(o)}l.onload=a=>{t(l.result)},l.onerror=a=>{console.warn("File Load Error - Unable to read file"),i()}}),s.click()})}importData(e,t){var i=e.call(this.table,t);return i instanceof Promise?i:i?Promise.resolve(i):Promise.reject()}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?t=this.structureArrayToObject(e):t=this.structureArrayToColumns(e),t):e}structureArrayToObject(e){var t=e.shift(),i=e.map(s=>{var r={};return t.forEach((o,l)=>{r[o]=s[l]}),r});return i}structureArrayToColumns(e){var t=[],i=this.table.getColumns();return i[0]&&e[0][0]&&i[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(s=>{var r={};s.forEach((o,l)=>{var a=i[l];a&&(r[a.getField()]=o)}),t.push(r)}),t}setData(e){return this.table.setData(e)}}ui.moduleName="import";ui.importers=zh;class _r extends ee{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,t){var i;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===t)){e.preventDefault();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(t.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,i=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let s in this.eventMap)this.eventMap[s]===i&&this.subscribers[s]&&(t=!1);t&&(this.unsubscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.unsubscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"]),delete this.touchSubscribers[i+"-touchstart"],delete this.touchSubscribers[i+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let i in this.eventMap)t[i]&&(this.subscriptionChanged(i,!0),this.columnSubscribers[i]||(this.columnSubscribers[i]=[]),this.columnSubscribers[i].push(e))}handle(e,t,i){this.dispatchEvent(e,t,i)}handleTouch(e,t,i,s){var r=this.touchWatchers[e];switch(e==="column"&&(e="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",i,s)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",i,s)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",i,s)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null;break}}dispatchEvent(e,t,i){var s=i.getComponent(),r;this.columnSubscribers[e]&&(i instanceof ai?r=i.column.definition[e]:i instanceof Ye&&(r=i.definition[e]),r&&r(t,s)),this.dispatchExternal(e,t,s)}}_r.moduleName="interaction";var Hh={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 89"]},Ph={keyBlock:function(n){n.stopPropagation(),n.preventDefault()},scrollPageUp:function(n){var e=this.table.rowManager,t=e.scrollTop-e.element.clientHeight;n.preventDefault(),e.displayRowsCount&&(t>=0?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(n){var e=this.table.rowManager,t=e.scrollTop+e.element.clientHeight,i=e.element.scrollHeight;n.preventDefault(),e.displayRowsCount&&(t<=i?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(n){var e=this.table.rowManager;n.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(n){var e=this.table.rowManager;n.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(n){this.dispatch("keybinding-nav-prev",n)},navNext:function(n){this.dispatch("keybinding-nav-next",n)},navLeft:function(n){this.dispatch("keybinding-nav-left",n)},navRight:function(n){this.dispatch("keybinding-nav-right",n)},navUp:function(n){this.dispatch("keybinding-nav-up",n)},navDown:function(n){this.dispatch("keybinding-nav-down",n)},undo:function(n){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(n.preventDefault(),this.table.modules.history.undo()))},redo:function(n){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(n.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(n){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class at extends ee{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(t,at.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)at.actions[t]?e[t]&&(typeof e[t]!="object"&&(e[t]=[e[t]]),e[t].forEach(i=>{var s=Array.isArray(i)?i:[i];s.forEach(r=>{this.mapBinding(t,r)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var i={action:at.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},s=t.toString().toLowerCase().split(" ").join("").split("+");s.forEach(r=>{switch(r){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),i.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(i)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var i=t.keyCode,s=e.watchKeys[i];s&&(e.pressedKeys.push(i),s.forEach(function(r){e.checkBinding(t,r)}))},this.keydownBinding=function(t){var i=t.keyCode,s=e.watchKeys[i];if(s){var r=e.pressedKeys.indexOf(i);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var i=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta?(t.keys.forEach(s=>{var r=this.pressedKeys.indexOf(s);r==-1&&(i=!1)}),i&&t.action.call(this,e),!0):!1}}at.moduleName="keybindings";at.bindings=Hh;at.actions=Ph;class Dr extends ee{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t=e.definition.headerMenuIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,s,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadMenuEvent(i.column.definition[e],t,i)}loadMenuTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadMenuEvent(i.definition[e],t,i)}loadMenuEvent(e,t,i){i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent()):e,this.loadMenu(t,i,e)}loadMenu(e,t,i,s,r){var o=!(e instanceof MouseEvent),l=document.createElement("div"),a;if(l.classList.add("tabulator-menu"),o||e.preventDefault(),!(!i||!i.length)){if(s)a=r.child(l);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=a=this.popup(l)}i.forEach(h=>{var u=document.createElement("div"),c=h.label,d=h.disabled;h.separator?u.classList.add("tabulator-menu-separator"):(u.classList.add("tabulator-menu-item"),typeof c=="function"&&(c=c.call(this.table,t.getComponent())),c instanceof Node?u.appendChild(c):u.innerHTML=c,typeof d=="function"&&(d=d.call(this.table,t.getComponent())),d?(u.classList.add("tabulator-menu-item-disabled"),u.addEventListener("click",p=>{p.stopPropagation()})):h.menu&&h.menu.length?u.addEventListener("click",p=>{p.stopPropagation(),this.loadMenu(p,t,h.menu,u,a)}):h.action&&u.addEventListener("click",p=>{h.action(p,t.getComponent())}),h.menu&&h.menu.length&&u.classList.add("tabulator-menu-item-submenu")),l.appendChild(u)}),l.addEventListener("click",h=>{this.rootPopup&&this.rootPopup.hide()}),a.show(s||e),a===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent()))}}}Dr.moduleName="menu";class Fr extends ee{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var t=this,i={},s;!e.modules.frozen&&!e.isGroup&&(s=e.getElement(),i.mousemove=function(r){e.parent===t.moving.parent&&((t.touchMove?r.touches[0].pageX:r.pageX)-ue.elOffset(s).left+t.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(s.parentNode.insertBefore(t.placeholderElement,s.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(s.parentNode.insertBefore(t.placeholderElement,s),t.moveColumn(e,!1)))}.bind(t),s.addEventListener("mousedown",function(r){t.touchMove=!1,r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),s.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=i}bindTouchEvents(e){var t=e.getElement(),i=!1,s,r,o,l,a,h;t.addEventListener("touchstart",u=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,s=e.nextColumn(),o=s?s.getWidth()/2:0,r=e.prevColumn(),l=r?r.getWidth()/2:0,a=0,h=0,i=!1,this.startMove(u,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",u=>{var c,d;this.moving&&(this.moveHover(u),i||(i=u.touches[0].pageX),c=u.touches[0].pageX-i,c>0?s&&c-a>o&&(d=s,d!==e&&(i=u.touches[0].pageX,d.getElement().parentNode.insertBefore(this.placeholderElement,d.getElement().nextSibling),this.moveColumn(d,!0))):r&&-c-h>l&&(d=r,d!==e&&(i=u.touches[0].pageX,d.getElement().parentNode.insertBefore(this.placeholderElement,d.getElement()),this.moveColumn(d,!1))),d&&(s=d.nextColumn(),a=o,o=s?s.getWidth()/2:0,r=d.prevColumn(),h=l,l=r?r.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",u=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(u)})}startMove(e,t){var i=t.getElement(),s=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-ue.elOffset(i).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),s.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=s.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var i=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(s,r){var o=s.getElement(!0);o.parentNode&&i[r]&&o.parentNode.insertBefore(i[r].getElement(),o.nextSibling)}):e.getCells().forEach(function(s,r){var o=s.getElement(!0);o.parentNode&&i[r]&&o.parentNode.insertBefore(i[r].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t=this.table.columnManager.getContentsElement(),i=t.scrollLeft,s=(this.touchMove?e.touches[0].pageX:e.pageX)-ue.elOffset(t).left+i,r;this.hoverElement.style.left=s-this.startX+"px",s-i<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,i-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),i+t.clientWidth-s<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(t.clientWidth,i+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}Fr.moduleName="moveColumn";class Gi extends ee{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,i={};i.mouseup=function(s){t.tableRowDrop(s,e)}.bind(t),i.mousemove=function(s){var r;s.pageY-ue.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(r=e.getElement(),r.parentNode.insertBefore(t.placeholderElement,r.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(r=e.getElement(),r.previousSibling&&(r.parentNode.insertBefore(t.placeholderElement,r),t.moveRow(e,!1)))}.bind(t),e.modules.moveRow=i}initializeRow(e){var t=this,i={},s;i.mouseup=function(r){t.tableRowDrop(r,e)}.bind(t),i.mousemove=function(r){var o=e.getElement();r.pageY-ue.elOffset(o).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveRow(e,!1))}.bind(t),this.hasHandle||(s=e.getElement(),s.addEventListener("mousedown",function(r){r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e)},t.checkPeriod))}),s.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var t=this,i=e.getElement(!0);i.addEventListener("mousedown",function(s){s.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(s,e.row)},t.checkPeriod))}),i.addEventListener("mouseup",function(s){s.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e.row,i)}}bindTouchEvents(e,t){var i=!1,s,r,o,l,a,h;t.addEventListener("touchstart",u=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,s=e.nextRow(),o=s?s.getHeight()/2:0,r=e.prevRow(),l=r?r.getHeight()/2:0,a=0,h=0,i=!1,this.startMove(u,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",u=>{var c,d;this.moving&&(u.preventDefault(),this.moveHover(u),i||(i=u.touches[0].pageY),c=u.touches[0].pageY-i,c>0?s&&c-a>o&&(d=s,d!==e&&(i=u.touches[0].pageY,d.getElement().parentNode.insertBefore(this.placeholderElement,d.getElement().nextSibling),this.moveRow(d,!0))):r&&-c-h>l&&(d=r,d!==e&&(i=u.touches[0].pageY,d.getElement().parentNode.insertBefore(this.placeholderElement,d.getElement()),this.moveRow(d,!1))),d&&(s=d.nextRow(),a=o,o=s?s.getHeight()/2:0,r=d.prevRow(),h=l,l=r?r.getHeight()/2:0))}),t.addEventListener("touchend",u=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(u),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,t){var i=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i)),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var i=this.touchMove?e.touches[0].pageX:e.pageX,s=this.touchMove?e.touches[0].pageY:e.pageY,r,o;r=t.getElement(),this.connection?(o=r.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-s+window.pageYOffset):this.startY=s-r.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),i=t.scrollTop,s=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+i;this.hoverElement.style.top=Math.min(s-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,i){this.dispatchExternal("movableRowsElementDrop",e,t,i?i.getComponent():!1)}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(i=>{typeof i=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(i))):this.connectionElements.push(i)}),this.connectionElements.forEach(i=>{var s=r=>{this.elementRowDrop(r,i,this.moving)};i.addEventListener("mouseup",s),i.tabulatorElementDropEvent=s,i.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(t=>{t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent})}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().addEventListener("mouseup",i.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{t.type==="row"&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,i){var s=!1;if(i){switch(typeof this.table.options.movableRowsSender){case"string":s=this.senders[this.table.options.movableRowsSender];break;case"function":s=this.table.options.movableRowsSender;break}s?s.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var i=!1,s=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":i=this.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver;break}i?s=i.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),s?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:s})}commsReceived(e,t,i){switch(t){case"connect":return this.connect(e,i.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,i.row,i.success)}}}Gi.prototype.receivers={insert:function(n,e,t){return this.table.addRow(n.getData(),void 0,e),!0},add:function(n,e,t){return this.table.addRow(n.getData()),!0},update:function(n,e,t){return e?(e.update(n.getData()),!0):!1},replace:function(n,e,t){return e?(this.table.addRow(n.getData(),void 0,e),e.delete(),!0):!1}};Gi.prototype.senders={delete:function(n,e,t){n.delete()}};Gi.moduleName="moveRow";var Oh={};class Wt extends ee{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,i){return this.transformRow(t,"data",i)}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(s=>{var r="mutator"+(s.charAt(0).toUpperCase()+s.slice(1)),o;e.definition[r]&&(o=this.lookupMutator(e.definition[r]),o&&(t=!0,i[r]={mutator:o,params:e.definition[r+"Params"]||{}}))}),t&&(e.modules.mutate=i)}lookupMutator(e){var t=!1;switch(typeof e){case"string":Wt.mutators[e]?t=Wt.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,i){var s="mutator"+(t.charAt(0).toUpperCase()+t.slice(1)),r;return this.enabled&&this.table.columnManager.traverse(o=>{var l,a,h;o.modules.mutate&&(l=o.modules.mutate[s]||o.modules.mutate.mutator||!1,l&&(r=o.getFieldValue(typeof i<"u"?i:e),(t=="data"&&!i||typeof r<"u")&&(h=o.getComponent(),a=typeof l.params=="function"?l.params(r,e,t,h):l.params,o.setFieldValue(e,l.mutator(r,e,t,a,h)))))}),e}transformCell(e,t){if(e.column.modules.mutate){var i=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,s={};if(i)return s=Object.assign(s,e.row.getData()),e.column.setFieldValue(s,t),i.mutator(t,s,"edit",i.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach(i=>{var s=e.row.getCell(i);s&&s.setValue(s.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}}Wt.moduleName="mutator";Wt.mutators=Oh;function Ih(n,e,t,i,s){var r=document.createElement("span"),o=document.createElement("span"),l=document.createElement("span"),a=document.createElement("span"),h=document.createElement("span"),u=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",c=>{o.innerHTML=c}),this.table.modules.localize.langBind("pagination|counter|of",c=>{a.innerHTML=c}),this.table.modules.localize.langBind("pagination|counter|rows",c=>{u.innerHTML=c}),i?(l.innerHTML=" "+e+"-"+Math.min(e+n-1,i)+" ",h.innerHTML=" "+i+" ",r.appendChild(o),r.appendChild(l),r.appendChild(a),r.appendChild(h),r.appendChild(u)):(l.innerHTML=" 0 ",r.appendChild(o),r.appendChild(l),r.appendChild(u)),r}function Bh(n,e,t,i,s){var r=document.createElement("span"),o=document.createElement("span"),l=document.createElement("span"),a=document.createElement("span"),h=document.createElement("span"),u=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",c=>{o.innerHTML=c}),l.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|of",c=>{a.innerHTML=c}),h.innerHTML=" "+s+" ",this.table.modules.localize.langBind("pagination|counter|pages",c=>{u.innerHTML=c}),r.appendChild(o),r.appendChild(l),r.appendChild(a),r.appendChild(h),r.appendChild(u),r}var Nh={rows:Ih,pages:Bh};class di extends ee{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var i=this.table.rowManager,s=i.getDisplayRows(),r;return t?s.length?r=s[0]:i.activeRows.length&&(r=i.activeRows[i.activeRows.length-1],t=!1):s.length&&(r=s[s.length-1],t=!(s.length<this.size)),{index:r,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,i,s){return this.initialLoad||(this.progressiveLoad&&!i||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),s.page=this.page,this.size&&(s.size=this.size),s}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,t){var i,s,r;!t&&!this.table.dataLoader.loading&&(i=this.table.rowManager.getElement(),s=i.scrollHeight-i.clientHeight-e,r=this.table.options.progressiveLoadScrollMargin||i.clientHeight*2,s<r&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,t){return t||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var i=document.createElement("option");i.value=t,t===!0?this.langBind("pagination|all",function(s){i.innerHTML=s}):i.innerHTML=t,this.pageSizeSelect.appendChild(i)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(typeof e=="function"?t=e:t=di.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,i;e||(this.langBind("pagination|first",s=>{this.firstBut.innerHTML=s}),this.langBind("pagination|first_title",s=>{this.firstBut.setAttribute("aria-label",s),this.firstBut.setAttribute("title",s)}),this.langBind("pagination|prev",s=>{this.prevBut.innerHTML=s}),this.langBind("pagination|prev_title",s=>{this.prevBut.setAttribute("aria-label",s),this.prevBut.setAttribute("title",s)}),this.langBind("pagination|next",s=>{this.nextBut.innerHTML=s}),this.langBind("pagination|next_title",s=>{this.nextBut.setAttribute("aria-label",s),this.nextBut.setAttribute("title",s)}),this.langBind("pagination|last",s=>{this.lastBut.innerHTML=s}),this.langBind("pagination|last_title",s=>{this.lastBut.setAttribute("aria-label",s),this.lastBut.setAttribute("title",s)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",s=>{this.pageSizeSelect.setAttribute("aria-label",s),this.pageSizeSelect.setAttribute("title",s),t.innerHTML=s}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",s=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(i=document.querySelector(this.table.options.paginationCounterElement),i?i.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),i=t.indexOf(e);if(i>-1){var s=this.size===!0?1:Math.ceil((i+1)/this.size);return this.setPage(s)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,i){var s;if(this.pageCounter)switch(this.mode==="remote"&&(t=this.size,i=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),s=this.pageCounter.call(this,t,i,this.page,e,this.max),typeof s){case"object":if(s instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(s)}else this.pageCounterElement.innerHTML="",s!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",s);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=s}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),s=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=i;r<=s;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",i=>{t.setAttribute("aria-label",i+" "+e),t.setAttribute("title",i+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",i=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t=0,i,s,r,o,l=e.filter(a=>a.type==="row");if(this.mode=="local"){i=[],this.setMaxRows(e.length),this.size===!0?(s=0,r=e.length):(s=this.size*(this.page-1),r=s+parseInt(this.size)),this._setPageButtons();for(let a=s;a<r;a++){let h=e[a];h&&(i.push(h),h.type==="row"&&(o||(o=h),t++))}return this._setPageCounter(l.length,t,o?l.indexOf(o)+1:0),i}else return this._setPageButtons(),this._setPageCounter(l.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),t=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else this.dispatchExternal("pageLoaded",this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}di.moduleName="page";di.pageCounters=Nh;var Wh={local:function(n,e){var t=localStorage.getItem(n+"-"+e);return t?JSON.parse(t):!1},cookie:function(n,e){var t=document.cookie,i=n+"-"+e,s=t.indexOf(i+"="),r,o;return s>-1&&(t=t.slice(s),r=t.indexOf(";"),r>-1&&(t=t.slice(0,r)),o=t.replace(i+"=","")),o?JSON.parse(o):!1}},Vh={local:function(n,e,t){localStorage.setItem(n+"-"+e,JSON.stringify(t))},cookie:function(n,e,t){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=n+"-"+e+"="+JSON.stringify(t)+"; expires="+i.toUTCString()}};class ke extends ee{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,t=this.table.options.persistenceID,i;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:ke.readers[this.table.options.persistenceReaderFunc]?this.readFunc=ke.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):ke.readers[this.mode]?this.readFunc=ke.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:ke.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=ke.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):ke.writers[this.mode]?this.writeFunc=ke.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(i=this.retrieveData("page"),i&&(typeof i.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=i.paginationSize),typeof i.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=i.paginationInitialPage))),this.config.group&&(i=this.retrieveData("group"),i&&(typeof i.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=i.groupBy),typeof i.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=i.groupStartOpen),typeof i.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=i.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),t&&(this.table.options.initialFilter=t))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t,i;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),i=this.config.columns===!0?Object.keys(t):this.config.columns,i.forEach(s=>{var r=Object.getOwnPropertyDescriptor(t,s),o=t[s];r&&Object.defineProperty(t,s,{set:l=>{o=l,this.defWatcherBlock||this.save("columns"),r.set&&r.set(l)},get:()=>(r.get&&r.get(),o)})}),this.defWatcherBlock=!1)}load(e,t){var i=this.retrieveData(e);return t&&(i=i?this.mergeDefinition(t,i):t),i}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,t){var i=[];return t=t||[],t.forEach((s,r)=>{var o=this._findColumn(e,s),l;o&&(this.config.columns===!0||this.config.columns==null?(l=Object.keys(o),l.push("width")):l=this.config.columns,l.forEach(a=>{a!=="columns"&&typeof s[a]<"u"&&(o[a]=s[a])}),o.columns&&(o.columns=this.mergeDefinition(o.columns,s.columns)),i.push(o))}),e.forEach((s,r)=>{var o=this._findColumn(t,s);o||(i.length>r?i.splice(r,0,s):i.push(s))}),i}_findColumn(e,t){var i=t.columns?"group":t.field?"field":"object";return e.find(function(s){switch(i){case"group":return s.title===t.title&&s.columns.length===t.columns.length;case"field":return s.field===t.field;case"object":return s===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(s=>{var r={},o=s.getDefinition(),l;s.isGroup?(r.title=o.title,r.columns=this.parseColumns(s.getColumns())):(r.field=s.getField(),this.config.columns===!0||this.config.columns==null?(l=Object.keys(o),l.push("width"),l.push("visible")):l=this.config.columns,l.forEach(a=>{switch(a){case"width":r.width=s.getWidth();break;case"visible":r.visible=s.visible;break;default:typeof o[a]!="function"&&i.indexOf(a)===-1&&(r[a]=o[a])}})),t.push(r)}),t}}ke.moduleName="persistence";ke.moduleInitOrder=-10;ke.readers=Wh;ke.writers=Vh;class Ar extends ee{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,i){this.loadPopupEvent(t,null,e,i)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t=e.definition.headerPopupIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,s,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadPopupEvent(i.column.definition[e],t,i)}loadPopupTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadPopupEvent(i.definition[e],t,i)}loadPopupEvent(e,t,i,s){var r;function o(l){r=l}i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent(),o):e,this.loadPopup(t,i,e,r,s)}loadPopup(e,t,i,s,r){var o=!(e instanceof MouseEvent),l,a;i instanceof HTMLElement?l=i:(l=document.createElement("div"),l.innerHTML=i),l.classList.add("tabulator-popup"),l.addEventListener("click",h=>{h.stopPropagation()}),o||e.preventDefault(),a=this.popup(l),typeof s=="function"&&a.renderCallback(s),e?a.show(e):a.show(t.getElement(),r||"center"),a.hideOnBlur(()=>{this.dispatchExternal("popupClosed",t.getComponent())}),this.dispatchExternal("popupOpened",t.getComponent())}}Ar.moduleName="popup";class zr extends ee{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,i){var s=window.scrollX,r=window.scrollY,o=document.createElement("div"),l=document.createElement("div"),a=this.table.modules.export.generateTable(typeof i<"u"?i:this.table.options.printConfig,typeof t<"u"?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),h,u;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),h=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof h=="string"?o.innerHTML=h:o.appendChild(h),this.element.appendChild(o)),this.element.appendChild(a),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),u=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof u=="string"?l.innerHTML=u:l.appendChild(u),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,a),window.print(),this.cleanup(),window.scrollTo(s,r),this.manualBlock=!1}}zr.moduleName="print";class Hr extends ee{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t=this,i;this.currentVersion++,i=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r;return!t.blocked&&i===t.currentVersion&&(t.block("data-push"),s.forEach(o=>{t.table.rowManager.addRowActual(o,!1)}),r=t.origFuncs.push.apply(e,arguments),t.unblock("data-push")),r}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r;return!t.blocked&&i===t.currentVersion&&(t.block("data-unshift"),s.forEach(o=>{t.table.rowManager.addRowActual(o,!0)}),r=t.origFuncs.unshift.apply(e,arguments),t.unblock("data-unshift")),r}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var s,r;return!t.blocked&&i===t.currentVersion&&(t.block("data-shift"),t.data.length&&(s=t.table.rowManager.getRowFromDataObject(t.data[0]),s&&s.deleteActual()),r=t.origFuncs.shift.call(e),t.unblock("data-shift")),r}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var s,r;return!t.blocked&&i===t.currentVersion&&(t.block("data-pop"),t.data.length&&(s=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]),s&&s.deleteActual()),r=t.origFuncs.pop.call(e),t.unblock("data-pop")),r}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var s=Array.from(arguments),r=s[0]<0?e.length+s[0]:s[0],o=s[1],l=s[2]?s.slice(2):!1,a,h;if(!t.blocked&&i===t.currentVersion){if(t.block("data-splice"),l&&(a=e[r]?t.table.rowManager.getRowFromDataObject(e[r]):!1,a?l.forEach(c=>{t.table.rowManager.addRowActual(c,!0,a,!0)}):(l=l.slice().reverse(),l.forEach(c=>{t.table.rowManager.addRowActual(c,!0,!1,!0)}))),o!==0){var u=e.slice(r,typeof s[1]>"u"?s[1]:r+o);u.forEach((c,d)=>{var p=t.table.rowManager.getRowFromDataObject(c);p&&p.deleteActual(d!==u.length-1)})}(l||o!==0)&&t.table.rowManager.reRenderInPosition(),h=t.origFuncs.splice.apply(e,arguments),t.unblock("data-splice")}return h}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var i in t)this.watchKey(e,t,i);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,i=e.getData()[this.table.options.dataTreeChildField],s={};i&&(s.push=i.push,Object.defineProperty(i,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var r=s.push.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-push")}return r}}),s.unshift=i.unshift,Object.defineProperty(i,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var r=s.unshift.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return r}}),s.shift=i.shift,Object.defineProperty(i,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var r=s.shift.call(i);this.rebuildTree(e),t.unblock("tree-shift")}return r}}),s.pop=i.pop,Object.defineProperty(i,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var r=s.pop.call(i);this.rebuildTree(e),t.unblock("tree-pop")}return r}}),s.splice=i.splice,Object.defineProperty(i,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var r=s.splice.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return r}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,i){var s=this,r=Object.getOwnPropertyDescriptor(t,i),o=t[i],l=this.currentVersion;Object.defineProperty(t,i,{set:a=>{if(o=a,!s.blocked&&l===s.currentVersion){s.block("key");var h={};h[i]=a,e.updateData(h),s.unblock("key")}r.set&&r.set(a)},get:()=>(r.get&&r.get(),o)})}unwatchRow(e){var t=e.getData();for(var i in t)Object.defineProperty(t,i,{value:t[i]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}Hr.moduleName="reactiveData";class Pr extends ee{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.reinitializeColumn(t)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.reinitializeColumn(t)}))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?t+=e.getWidth()-3:t&&(t-=3)),t!==!1?t+"px":!1}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach(i=>{i.modules.resize&&i.modules.resize.handleEl&&(t&&(i.modules.resize.handleEl.style[e.modules.frozen.position]=t),i.element.after(i.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,i,s){var r=this,o=!1,l=i.definition.resizable,a={},h=i.getLastColumn();if(e==="header"&&(o=i.definition.formatter=="textarea"||i.definition.variableHeight,a={variableHeight:o}),(l===!0||l==e)&&this._checkResizability(h)){var u=document.createElement("span");u.className="tabulator-col-resize-handle",u.addEventListener("click",function(d){d.stopPropagation()});var c=function(d){r.startColumn=i,r.initialNextColumn=r.nextColumn=h.nextColumn(),r._mouseDown(d,h,u)};u.addEventListener("mousedown",c),u.addEventListener("touchstart",c,{passive:!0}),u.addEventListener("dblclick",d=>{var p=h.getWidth();d.stopPropagation(),h.reinitializeWidth(!0),p!==h.getWidth()&&(r.dispatch("column-resized",h),r.table.externalEvents.dispatch("columnResized",h.getComponent()))}),i.modules.frozen&&(u.style.position="sticky",u.style[i.modules.frozen.position]=this.frozenColumnOffset(i)),a.handleEl=u,s.parentNode&&i.visible&&s.after(u)}t.modules.resize=a}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(t=>{this.deInitializeComponent(t)})}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,i){var s=this;s.table.element.classList.add("tabulator-block-select");function r(l){var a=typeof l.screenX>"u"?l.touches[0].screenX:l.screenX,h=a-s.startX,u=a-s.latestX,c,d;if(s.latestX=a,s.table.rtl&&(h=-h,u=-u),c=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(s.startWidth+h),d=t.width==t.minWidth||t.width==t.maxWidth,u<0&&(s.nextColumn=s.initialNextColumn),s.table.options.resizableColumnFit&&s.nextColumn&&!(c&&d)){let p=s.nextColumn.getWidth();u>0&&p<=s.nextColumn.minWidth&&(s.nextColumn=s.nextColumn.nextColumn()),s.nextColumn&&s.nextColumn.setWidth(s.nextColumn.getWidth()-u)}s.table.columnManager.rerenderColumns(!0),!s.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function o(l){s.startColumn.modules.edit&&(s.startColumn.modules.edit.blocked=!1),s.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o),s.table.element.classList.remove("tabulator-block-select"),s.startWidth!==t.getWidth()&&(s.table.columnManager.verticalAlignHeaders(),s.dispatch("column-resized",t),s.table.externalEvents.dispatch("columnResized",t.getComponent()))}e.stopPropagation(),s.startColumn.modules.edit&&(s.startColumn.modules.edit.blocked=!0),s.startX=typeof e.screenX>"u"?e.touches[0].screenX:e.screenX,s.latestX=s.startX,s.startWidth=t.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",o)}}Pr.moduleName="resizeColumns";class Or extends ee{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,i=e.getElement(),s=document.createElement("div");s.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",s.addEventListener("click",function(a){a.stopPropagation()});var o=function(a){t.startRow=e,t._mouseDown(a,e,s)};s.addEventListener("mousedown",o),s.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("click",function(a){a.stopPropagation()});var l=function(a){var h=t.table.rowManager.prevDisplayRow(e);h&&(t.startRow=h,t._mouseDown(a,h,r))};r.addEventListener("mousedown",l),r.addEventListener("touchstart",l,{passive:!0}),i.appendChild(s),i.appendChild(r)}_mouseDown(e,t,i){var s=this;s.table.element.classList.add("tabulator-block-select");function r(l){t.setHeight(s.startHeight+((typeof l.screenY>"u"?l.touches[0].screenY:l.screenY)-s.startY))}function o(l){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o),s.table.element.classList.remove("tabulator-block-select"),s.dispatchExternal("rowResized",t.getComponent())}e.stopPropagation(),s.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,s.startHeight=t.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),i.addEventListener("touchmove",r,{passive:!0}),i.addEventListener("touchend",o)}}Or.moduleName="resizeRows";class Ir extends ee{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,t;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var s=Math.floor(i[0].contentRect.height),r=Math.floor(i[0].contentRect.width);(this.tableHeight!=s||this.tableWidth!=r)&&(this.tableHeight=s,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell){var s=Math.floor(i[0].contentRect.height),r=Math.floor(i[0].contentRect.width);(this.containerHeight!=s||this.containerWidth!=r)&&(this.containerHeight=s,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&!e.modules.edit.currentCell)&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}Ir.moduleName="resizeTable";class Br extends ee{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((t,i)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=i,e.push(t),!t.visible&&this.mode==="collapse"&&this.hiddenColumns.push(t))}),e=e.reverse(),e=e.sort((t,i)=>{var s=i.modules.responsive.order-t.modules.responsive.order;return s||i.modules.responsive.index-t.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if(t.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:typeof t.responsive>"u"?1:t.responsive,visible:t.visible!==!1}}initializeRow(e){var t;e.type!=="calc"&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let t=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),i=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(i<0){let s=this.columns[this.index];s?(this.hideColumn(s),this.index++):e=!1}else{let s=this.columns[this.index-1];s&&i>0&&i>=s.getWidth()?(this.showColumn(s),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(t=>{this.generateCollapsedRowContent(t)})}generateCollapsedRowContent(e){var t,i;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);i=this.collapseFormatter(this.generateCollapsedRowData(e)),i&&t.appendChild(i)}}generateCollapsedRowData(e){var t=e.getData(),i=[],s;return this.hiddenColumns.forEach(r=>{var o=r.getFieldValue(t);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let a=function(h){h()};var l=a;s={value:!1,data:{},getValue:function(){return o},getData:function(){return t},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},i.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,s,r.modules.format.params,a)})}else i.push({field:r.field,title:r.definition.title,value:o})}),i}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(function(i){var s=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),l,a=document.createElement("strong");r.appendChild(a),this.langBind("columns|"+i.field,function(h){a.innerHTML=h||i.title}),i.value instanceof Node?(l=document.createElement("div"),l.appendChild(i.value),o.appendChild(l)):o.innerHTML=i.value,s.appendChild(r),s.appendChild(o),t.appendChild(s)},this),Object.keys(e).length?t:""}}Br.moduleName="responsiveLayout";class Nr extends ee{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(t,i){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.table.options.selectable!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return e==="selected"?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var t=this,i=e.getElement(),s=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",s)};e.modules.select={selected:!1},t.checkRowSelectability(e)?(i.classList.add("tabulator-selectable"),i.classList.remove("tabulator-unselectable"),t.table.options.selectable&&t.table.options.selectable!="highlight"&&(t.table.options.selectableRangeMode==="click"?i.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(i.addEventListener("click",function(r){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),i.addEventListener("mousedown",function(r){if(r.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",s),document.body.addEventListener("keyup",s),t.toggleRow(e),!1}),i.addEventListener("mouseenter",function(r){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),i.addEventListener("mouseout",function(r){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))):(i.classList.add("tabulator-unselectable"),i.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var i=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),s=this.table.rowManager.getDisplayRowIndex(e),r=i<=s?i:s,o=i>=s?i:s,l=this.table.rowManager.getDisplayRows().slice(0),a=l.splice(r,o-r+1);t.ctrlKey||t.metaKey?(a.forEach(h=>{h!==this.lastClickedRow&&(this.table.options.selectable!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectable&&this.toggleRow(h):this.toggleRow(h))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectable!==!0&&a.length>this.table.options.selectable&&(a=a.slice(0,this.table.options.selectable)),this.selectRows(a)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e.type==="row"?this.table.options.selectableCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach(i=>{this._selectRow(i,!0,!0)}),this._rowSelectionChanged();break;case"string":t=this.table.rowManager.findRow(e),t?(this._selectRow(t,!0,!0),this._rowSelectionChanged()):(t=this.table.rowManager.getRows(e),t.forEach(i=>{this._selectRow(i,!0,!0)}),t.length&&this._rowSelectionChanged());break;default:Array.isArray(e)?(e.forEach(i=>{this._selectRow(i,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0);break}}_selectRow(e,t,i){if(!isNaN(this.table.options.selectable)&&this.table.options.selectable!==!0&&!i&&this.selectedRows.length>=this.table.options.selectable)if(this.table.options.selectableRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var s=this.table.rowManager.findRow(e);s?this.selectedRows.indexOf(s)==-1&&(s.getElement().classList.add("tabulator-selected"),s.modules.select||(s.modules.select={}),s.modules.select.selected=!0,s.modules.select.checkboxEl&&(s.modules.select.checkboxEl.checked=!0),this.selectedRows.push(s),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(s,!0),this.dispatchExternal("rowSelected",s.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,t){var i=this,s;if(typeof e>"u"){s=i.selectedRows.length;for(let r=0;r<s;r++)i._deselectRow(i.selectedRows[0],!0);s&&i._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach(function(r){i._deselectRow(r,!0)}),i._rowSelectionChanged(t)):i._deselectRow(e,t)}_deselectRow(e,t){var i=this,s=i.table.rowManager.findRow(e),r;s?(r=i.selectedRows.findIndex(function(o){return o==s}),r>-1&&(s.getElement().classList.remove("tabulator-selected"),s.modules.select||(s.modules.select={}),s.modules.select.selected=!1,s.modules.select.checkboxEl&&(s.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(s,!1),this.dispatchExternal("rowDeselected",s.getComponent()),i._rowSelectionChanged(t))):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var i=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let s of i)this._selectRow(s,!0);else for(let s of i)this._deselectRow(s,!0)}}Nr.moduleName="selectRow";function jh(n,e,t,i,s,r,o){var l=o.alignEmptyValues,a=o.decimalSeparator,h=o.thousandSeparator,u=0;if(n=String(n),e=String(e),h&&(n=n.split(h).join(""),e=e.split(h).join("")),a&&(n=n.split(a).join("."),e=e.split(a).join(".")),n=parseFloat(n),e=parseFloat(e),isNaN(n))u=isNaN(e)?0:-1;else if(isNaN(e))u=1;else return n-e;return(l==="top"&&r==="desc"||l==="bottom"&&r==="asc")&&(u*=-1),u}function Gh(n,e,t,i,s,r,o){var l=o.alignEmptyValues,a=0,h;if(!n)a=e?-1:0;else if(!e)a=1;else{switch(typeof o.locale){case"boolean":o.locale&&(h=this.langLocale());break;case"string":h=o.locale;break}return String(n).toLowerCase().localeCompare(String(e).toLowerCase(),h)}return(l==="top"&&r==="desc"||l==="bottom"&&r==="asc")&&(a*=-1),a}function Us(n,e,t,i,s,r,o){var l=window.DateTime||luxon.DateTime,a=o.format||"dd/MM/yyyy HH:mm:ss",h=o.alignEmptyValues,u=0;if(typeof l<"u"){if(l.isDateTime(n)||(a==="iso"?n=l.fromISO(String(n)):n=l.fromFormat(String(n),a)),l.isDateTime(e)||(a==="iso"?e=l.fromISO(String(e)):e=l.fromFormat(String(e),a)),!n.isValid)u=e.isValid?-1:0;else if(!e.isValid)u=1;else return n-e;return(h==="top"&&r==="desc"||h==="bottom"&&r==="asc")&&(u*=-1),u}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function $h(n,e,t,i,s,r,o){return o.format||(o.format="dd/MM/yyyy"),Us.call(this,n,e,t,i,s,r,o)}function Uh(n,e,t,i,s,r,o){return o.format||(o.format="HH:mm"),Us.call(this,n,e,t,i,s,r,o)}function Kh(n,e,t,i,s,r,o){var l=n===!0||n==="true"||n==="True"||n===1?1:0,a=e===!0||e==="true"||e==="True"||e===1?1:0;return l-a}function qh(n,e,t,i,s,r,o){var l=o.type||"length",a=o.alignEmptyValues,h=0;function u(c){var d;switch(l){case"length":d=c.length;break;case"sum":d=c.reduce(function(p,C){return p+C});break;case"max":d=Math.max.apply(null,c);break;case"min":d=Math.min.apply(null,c);break;case"avg":d=c.reduce(function(p,C){return p+C})/c.length;break}return d}if(!Array.isArray(n))h=Array.isArray(e)?-1:0;else if(!Array.isArray(e))h=1;else return u(e)-u(n);return(a==="top"&&r==="desc"||a==="bottom"&&r==="asc")&&(h*=-1),h}function Xh(n,e,t,i,s,r,o){var l=typeof n>"u"?0:1,a=typeof e>"u"?0:1;return l-a}function Yh(n,e,t,i,s,r,o){var l,a,h,u,c=0,d,p=/(\d+)|(\D+)/g,C=/\d/,b=o.alignEmptyValues,x=0;if(!n&&n!==0)x=!e&&e!==0?0:-1;else if(!e&&e!==0)x=1;else{if(isFinite(n)&&isFinite(e))return n-e;if(l=String(n).toLowerCase(),a=String(e).toLowerCase(),l===a)return 0;if(!(C.test(l)&&C.test(a)))return l>a?1:-1;for(l=l.match(p),a=a.match(p),d=l.length>a.length?a.length:l.length;c<d;)if(h=l[c],u=a[c++],h!==u)return isFinite(h)&&isFinite(u)?(h.charAt(0)==="0"&&(h="."+h),u.charAt(0)==="0"&&(u="."+u),h-u):h>u?1:-1;return l.length>a.length}return(b==="top"&&r==="desc"||b==="bottom"&&r==="asc")&&(x*=-1),x}var Jh={number:jh,string:Gh,date:$h,time:Uh,datetime:Us,boolean:Kh,array:qh,exists:Xh,alphanum:Yh};class yt extends ee{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,i,s){var r=this.getSort();return r.forEach(o=>{delete o.column}),s.sort=r,s}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t=!1,i,s;switch(typeof e.definition.sorter){case"string":yt.sorters[e.definition.sorter]?t=yt.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter;break}if(e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(i=e.getElement(),i.classList.add("tabulator-sortable"),s=document.createElement("div"),s.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":s.classList.add("tabulator-col-sorter-element");break;case"header":i.classList.add("tabulator-col-sorter-element");break;default:i.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":s.appendChild(this.table.options.headerSortElement);break;default:s.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(s),e.modules.sort.element=s,this.setColumnHeaderSortIcon(e,"none"),(this.table.options.headerSortClickElement==="icon"?s:i).addEventListener("click",r=>{var o="",l=[],a=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?(l=this.getSort(),a=l.findIndex(h=>h.field===e.getField()),a>-1?(l[a].dir=o,a=l.splice(a,1)[0],o!="none"&&l.push(a)):o!="none"&&l.push({column:e,dir:o}),this.setSort(l)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach(function(i){i.column&&t.push({column:i.column.getComponent(),field:i.column.getField(),dir:i.dir})}),t}setSort(e,t){var i=this,s=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(r){var o;o=i.table.columnManager.findColumn(r.column),o?(r.column=o,s.push(r),i.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),i.sortList=s,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t=this.table.rowManager.activeRows[0],i="string",s,r;if(t&&(t=t.getData(),s=e.getField(),s))switch(r=e.getFieldValue(t),typeof r){case"undefined":i="string";break;case"boolean":i="boolean";break;default:!isNaN(r)&&r!==""?i="number":r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum");break}return yt.sorters[i]}sort(e){var t=this,i=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,s=[],r=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(i.forEach(function(o,l){var a;o.column&&(a=o.column.modules.sort,a&&(a.sorter||(a.sorter=t.findSorter(o.column)),o.params=typeof a.params=="function"?a.params(o.column.getComponent(),o.dir):a.params,s.push(o)),t.setColumnHeader(o.column,o.dir))}),s.length&&t._sortItems(e,s)):i.forEach(function(o,l){t.setColumnHeader(o.column,o.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(o=>{r.push(o.getComponent())}),this.dispatchExternal("dataSorted",t.getSort(),r)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var i=e.modules.sort.element,s;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;i.firstChild;)i.removeChild(i.firstChild);s=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),typeof s=="object"?i.appendChild(s):i.innerHTML=s}}_sortItems(e,t){var i=t.length-1;e.sort((s,r)=>{for(var o,l=i;l>=0;l--){let a=t[l];if(o=this._sortRow(s,r,a.column,a.dir,a.params),o!==0)break}return o})}_sortRow(e,t,i,s,r){var o,l,a=s=="asc"?e:t,h=s=="asc"?t:e;return e=i.getFieldValue(a.getData()),t=i.getFieldValue(h.getData()),e=typeof e<"u"?e:"",t=typeof t<"u"?t:"",o=a.getComponent(),l=h.getComponent(),i.modules.sort.sorter.call(this,e,t,o,l,i.getComponent(),s,r)}}yt.moduleName="sort";yt.sorters=Jh;class Wr extends ee{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,i){var s=e==="tooltip"?i.column.definition.tooltip:i.definition.headerTooltip;s&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,i,s),this.table.options.tooltipDelay))}mouseoutCheck(e,t,i){this.popupInstance||this.clearPopup()}clearPopup(e,t,i){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,i){var s,r,o;function l(a){r=a}typeof i=="function"&&(i=i(e,t.getComponent(),l)),i instanceof HTMLElement?s=i:(s=document.createElement("div"),i===!0&&(t instanceof ai?i=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,a=>{s.innerHTML=i=a||t.definition.title}):i=t.definition.title),s.innerHTML=i),(i||i===0||i===!1)&&(s.classList.add("tabulator-tooltip"),s.addEventListener("mousemove",a=>a.preventDefault()),this.popupInstance=this.popup(s),typeof r=="function"&&this.popupInstance.renderCallback(r),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",t.getComponent()))}}Wr.moduleName="tooltip";var Zh={integer:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},max:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=t},min:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=t},starts:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(t).toLowerCase())},ends:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(t).toLowerCase())},minLength:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length>=t},maxLength:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length<=t},in:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(typeof t=="string"&&(t=t.split("|")),t.indexOf(e)>-1)},regex:function(n,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(t);return i.test(e)},unique:function(n,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=!0,s=n.getData(),r=n.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var l=o.getData();l!==s&&e==r.getFieldValue(l)&&(i=!1)}),i},required:function(n,e,t){return e!==""&&e!==null&&typeof e<"u"}};class ci extends ee{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,i){var s=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,t):!0;return s!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,s)}),s}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}rowValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(i=>{i=i.getComponent();var s=i.validate();s!==!0&&(t=t.concat(s))}),t.length?t:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var t=this,i=[],s;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{s=t._extractValidator(r),s&&i.push(s)}):(s=this._extractValidator(e.definition.validator),s&&i.push(s)),e.modules.validate=i.length?i:!1)}_extractValidator(e){var t,i,s;switch(typeof e){case"string":return s=e.indexOf(":"),s>-1?(t=e.substring(0,s),i=e.substring(s+1)):t=e,this._buildValidator(t,i);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var i=typeof e=="function"?e:ci.validators[e];return i?{type:typeof e=="function"?"function":e,func:i,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,i){var s=this,r=[],o=this.invalidCells.indexOf(t);return e&&e.forEach(l=>{l.func.call(s,t.getComponent(),i,l.params)||r.push({type:l.type,parameters:l.params})}),t.modules.validate||(t.modules.validate={}),r.length?(t.modules.validate.invalid=r,this.table.options.validationMode!=="manual"&&t.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),r.length?r:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}}ci.moduleName="validate";ci.validators=Zh;var Qh=Object.freeze({__proto__:null,AccessorModule:Bt,AjaxModule:Ge,ClipboardModule:Rt,ColumnCalcsModule:rt,DataTreeModule:Rr,DownloadModule:Nt,EditModule:hi,ExportModule:Tr,FilterModule:Ze,FormatModule:Pe,FrozenColumnsModule:Mr,FrozenRowsModule:kr,GroupRowsModule:Lr,HistoryModule:Tt,HtmlTableImportModule:Sr,ImportModule:ui,InteractionModule:_r,KeybindingsModule:at,MenuModule:Dr,MoveColumnsModule:Fr,MoveRowsModule:Gi,MutatorModule:Wt,PageModule:di,PersistenceModule:ke,PopupModule:Ar,PrintModule:zr,ReactiveDataModule:Hr,ResizeColumnsModule:Pr,ResizeRowsModule:Or,ResizeTableModule:Ir,ResponsiveLayoutModule:Br,SelectRowModule:Nr,SortModule:yt,TooltipModule:Wr,ValidateModule:ci}),eu={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class Vr{constructor(e,t,i={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},i)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var i=Object.assign({},this.registeredDefaults),s=this.table.options.debugInvalidOptions||t.debugInvalidOptions===!0;Object.assign(i,e);for(let r in t)i.hasOwnProperty(r)||(s&&console.warn("Invalid "+this.msgType+" option:",r),i[r]=t.key);for(let r in i)r in t?i[r]=t[r]:Array.isArray(i[r])?i[r]=Object.assign([],i[r]):typeof i[r]=="object"&&i[r]!==null?i[r]=Object.assign({},i[r]):typeof i[r]>"u"&&delete i[r];return i}}class $i extends Se{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,i){var s=this.rows().indexOf(e),r=e.getElement(),o=0;return new Promise((l,a)=>{if(s>-1){if(typeof i>"u"&&(i=this.table.options.scrollToRowIfVisible),!i&&ue.elVisible(r)&&(o=ue.elOffset(r).top-ue.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-r.offsetHeight))return l(),!1;switch(typeof t>"u"&&(t=this.table.options.scrollToRowPosition),t==="nearest"&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}l()}else console.warn("Scroll Error - Row not visible"),a("Scroll Error - Row not visible")})}}class tu extends $i{constructor(e){super(e)}renderRowCells(e){e.cells.forEach(t=>{e.element.appendChild(t.getElement()),t.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(t){t.reinitializeWidth()})}}class iu extends $i{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(t=>{if(t.visible){var i=t.getWidth();i>e&&(e=i)}}),this.windowBuffer=e*2}rerenderColumns(e,t){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},s=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(r=>{var o={},l;r.visible&&(r.modules.frozen||(l=r.getWidth(),o.leftPos=s,o.rightPos=s+l,o.width=l,this.isFitData&&(o.fitDataCheck=r.modules.vdomHoz?r.modules.vdomHoz.fitDataCheck:!0),s+l>this.vDomScrollPosLeft&&s<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=s),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=l),this.columns.push(r),r.modules.vdomHoz=o,s+=l))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||(!e||this.reinitChanged(i))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){this.initialized?this.initializeRow(e):e.cells.forEach(t=>{e.element.appendChild(t.getElement()),t.cellRendered()})}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,t,i;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(s=>{!s.definition.width&&s.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],t)){i=t.getElement(),t.generateCells(),this.tableElement.appendChild(i);for(let s=0;s<t.cells.length;s++){let r=t.cells[s];i.appendChild(r.getElement()),r.column.reinitializeWidth()}i.parentNode.removeChild(i),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((i,s)=>{i!==this.columns[s]&&(t=!1)}),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));e.forEach(i=>{this.reinitializeRow(i,!0)}),t.forEach(i=>{i.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,i){for(let s=e;s<t;s++){let r=this.columns[s];r.modules.vdomHoz.leftPos+=i,r.modules.vdomHoz.rightPos+=i}}addColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(i);s.getElement().insertBefore(r.getElement(),s.getCell(this.columns[this.rightCol]).getElement().nextSibling),r.cellRendered()}}),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(i);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let s=this.fitDataColActualWidthCheck(i);s&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+s,this.vDomPadRight-=s)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(i);try{s.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.rightCol=this.rightCol)})):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var r=s.getCell(i);try{s.getElement().removeChild(r.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.leftCol=this.leftCol)})):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,i;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),i=t-e.modules.vdomHoz.width,i&&(e.modules.vdomHoz.rightPos+=i,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,i)),e.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.appendCell(e,t)});for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.appendCell(e,t)})}}appendCell(e,t){if(t&&t.visible){let i=e.getCell(t);e.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(e,t){if(e.type!=="group"&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=e.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(e)}}}class su extends Se{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Vr(this.table,"column definition",xr),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:iu,basic:tu};typeof this.table.options.renderHorizontal=="string"?e=t[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}generateColumnsFromRowData(e){var t=[],i=this.table.options.autoColumnsDefinitions,s,r;if(e&&e.length){s=e[0];for(var o in s){let l={field:o,title:o},a=s[o];switch(typeof a){case"undefined":r="string";break;case"boolean":r="boolean";break;case"object":Array.isArray(a)?r="array":r="string";break;default:!isNaN(a)&&a!==""?r="number":a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?r="alphanum":r="string";break}l.sorter=r,t.push(l)}if(i)switch(typeof i){case"function":this.table.options.columns=i.call(this.table,t);break;case"object":Array.isArray(i)?t.forEach(l=>{var a=i.find(h=>h.field===l.field);a&&Object.assign(l,a)}):t.forEach(l=>{i[l.field]&&Object.assign(l,i[l.field])}),this.table.options.columns=t;break}else this.table.options.columns=t;this.setColumns(this.table.options.columns)}}setColumns(e,t){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach((i,s)=>{this._addColumn(i)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,i){var s=new Ye(e,this),r=s.getElement(),o=i&&this.findColumnIndex(i);if(i&&o>-1){var l=i.getTopColumn(),a=this.columns.indexOf(l),h=l.getElement();t?(this.columns.splice(a,0,s),h.parentNode.insertBefore(r,h)):(this.columns.splice(a+1,0,s),h.parentNode.insertBefore(r,h.nextSibling))}else t?(this.columns.unshift(s),this.headersElement.insertBefore(s.getElement(),this.headersElement.firstChild)):(this.columns.push(s),this.headersElement.appendChild(s.getElement()));return s.columnRendered(),s}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(t=>{t.clearVerticalAlign()}),this.columns.forEach(t=>{var i=t.getHeight();i>e&&(e=i)}),this.headersElement.style.height=e+"px",this.columns.forEach(t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if(typeof e=="object"){if(e instanceof Ye)return e;if(e instanceof Er)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return t=[],this.columns.forEach(s=>{t.push(s),t=t.concat(s.getColumns(!0))}),t.find(s=>s.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach(i=>{var s=i.split(".")[0];s===e&&t.push(this.columnsByField[i])}),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(t=>t.visible);return e>-1?this.columnsByIndex[e]:!1}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(t=>e===t)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((t,i)=>{e(t,i)})}getDefinitions(e){var t=[];return this.columnsByIndex.forEach(i=>{(!e||e&&i.visible)&&t.push(i.getDefinition())}),t}getDefinitionTree(){var e=[];return this.columns.forEach(t=>{e.push(t.getDefinition(!0))}),e}getComponents(e){var t=[],i=e?this.columns:this.columnsByIndex;return i.forEach(s=>{t.push(s.getComponent())}),t}getWidth(){var e=0;return this.columnsByIndex.forEach(t=>{t.visible&&(e+=t.getWidth())}),e}moveColumn(e,t,i){t.element.parentNode.insertBefore(e.element,t.element),i&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,i){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,i):this._moveColumnInArray(this.columns,e,t,i),this._moveColumnInArray(this.columnsByIndex,e,t,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,i,s,r){var o=e.indexOf(t),l,a=[];o>-1&&(e.splice(o,1),l=e.indexOf(i),l>-1?s&&(l=l+1):l=o,e.splice(l,0,t),r&&(a=this.chain("column-moving-rows",[t,i,s],null,[])||[],a=a.concat(this.table.rowManager.rows),a.forEach(function(h){if(h.cells.length){var u=h.cells.splice(o,1)[0];h.cells.splice(l,0,u)}})))}scrollToColumn(e,t,i){var s=0,r=e.getLeftOffset(),o=0,l=e.getElement();return new Promise((a,h)=>{if(typeof t>"u"&&(t=this.table.options.scrollToColumnPosition),typeof i>"u"&&(i=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=l.clientWidth-this.headersElement.clientWidth;break}if(!i&&r>0&&r+l.offsetWidth<this.element.clientWidth)return!1;s=r+o,s=Math.max(Math.min(s,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(s),this.scrollHorizontal(s),a()}else console.warn("Scroll Error - Column not visible"),h("Scroll Error - Column not visible")})}generateCells(e){var t=[];return this.columnsByIndex.forEach(i=>{t.push(i.generateCell(e))}),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var s,r,o;i.visible&&(s=i.definition.width||0,r=parseInt(i.minWidth),typeof s=="string"?s.indexOf("%")>-1?o=e/100*parseInt(s):o=parseInt(s):o=s,t+=o>r?o:r)}),t}addColumn(e,t,i){return new Promise((s,r)=>{var o=this._addColumn(e,t,i);this._reIndexColumns(),this.dispatch("column-add",e,t,i),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),s(o)})}deregisterColumn(e){var t=e.getField(),i;t&&delete this.columnsByField[t],i=this.columnsByIndex.indexOf(e),i>-1&&this.columnsByIndex.splice(i,1),i=this.columns.indexOf(e),i>-1&&this.columns.splice(i,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){ue.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class nu extends $i{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0;this.rows().forEach((i,s)=>{this.styleRow(i,s),e.appendChild(i.getElement()),i.initialize(!0),i.type!=="group"&&(t=!1)}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows()}scrollToRowNearestTop(e){var t=ue.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=ue.elOffset(t).top-ue.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class ru extends $i{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,i=!1,s=!1,r=this.table.rowManager.scrollLeft,o=this.rows(),l=this.vDomTop;l<=this.vDomBottom;l++)if(o[l]){var a=t-o[l].getElement().offsetTop;if(s===!1||Math.abs(a)<s)s=a,i=l;else break}o.forEach(h=>{h.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(i===!1?this.rows.length-1:i,!0,s||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var i=e-this.vDomScrollPosTop,s=e-this.vDomScrollPosBottom,r=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-i>r||s>r){var l=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(l)}else t?(i<0&&this._addTopRow(o,-i),s<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-s):this.vDomScrollPosBottom=this.scrollTop)):(s>=0&&this._addBottomRow(o,s),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+t,s=!1,r=0,o=0,l=this.rows();if(e)r=this.vDomTop,o=this.vDomBottom;else for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(l[a])if(s)if(i-l[a].getElement().offsetTop>=0)o=a;else break;else if(t-l[a].getElement().offsetTop>=0)r=a;else if(s=!0,i-l[a].getElement().offsetTop>=0)o=a;else break;return l.slice(r,o+1)}_virtualRenderFill(e,t,i){var s=this.tableElement,r=this.elementVertical,o=0,l=0,a=0,h=0,u=0,c=this.rows(),d=c.length,p=this.elementVertical.clientHeight;if(e=e||0,i=i||0,!e)this.clear();else{for(;s.firstChild;)s.removeChild(s.firstChild);a=(d-e+1)*this.vDomRowHeight,a<p&&(e-=Math.ceil((p-a)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(d&&ue.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1;(l<=p+this.vDomWindowBuffer||u<this.vDomWindowMinTotalRows)&&this.vDomBottom<d-1;){var C=this.vDomBottom+1,b=c[C],x=0;this.styleRow(b,C),s.appendChild(b.getElement()),b.initialize(),b.heightInitialized||b.normalizeHeight(!0),x=b.getHeight(),u<o?h+=x:l+=x,x>this.vDomWindowBuffer&&(this.vDomWindowBuffer=x*2),this.vDomBottom++,u++}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-h,this.vDomBottomPad=this.vDomBottom==d-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-l-h,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((l+h)/u),this.vDomBottomPad=this.vDomRowHeight*(d-this.vDomBottom-1),this.vDomScrollHeight=h+l+this.vDomBottomPad-p),s.style.paddingTop=this.vDomTopPad+"px",s.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+h+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-p:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-p),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-p),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){for(var i=this.tableElement,s=[],r=0,o=this.vDomTop-1,l=0,a=!0;a;)if(this.vDomTop){let h=e[o],u,c;h&&l<this.vDomMaxRenderChain?(u=h.getHeight()||this.vDomRowHeight,c=h.initialized,t>=u?(this.styleRow(h,o),i.insertBefore(h.getElement(),i.firstChild),(!h.initialized||!h.heightInitialized)&&s.push(h),h.initialize(),c||(u=h.getElement().offsetHeight,u>this.vDomWindowBuffer&&(this.vDomWindowBuffer=u*2)),t-=u,r+=u,this.vDomTop--,o--,l++):a=!1):a=!1}else a=!1;for(let h of s)h.clearCellHeight();this._quickNormalizeRowHeight(s),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(e,t){for(var i=[],s=0,r=0,o=!0;o;){let l=e[this.vDomTop],a;l&&r<this.vDomMaxRenderChain?(a=l.getHeight()||this.vDomRowHeight,t>=a?(this.vDomTop++,t-=a,s+=a,i.push(l),r++):o=!1):o=!1}for(let l of i){let a=l.getElement();a.parentNode&&a.parentNode.removeChild(a)}s&&(this.vDomTopPad+=s,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?s:s+this.vDomWindowBuffer)}_addBottomRow(e,t){for(var i=this.tableElement,s=[],r=0,o=this.vDomBottom+1,l=0,a=!0;a;){let h=e[o],u,c;h&&l<this.vDomMaxRenderChain?(u=h.getHeight()||this.vDomRowHeight,c=h.initialized,t>=u?(this.styleRow(h,o),i.appendChild(h.getElement()),(!h.initialized||!h.heightInitialized)&&s.push(h),h.initialize(),c||(u=h.getElement().offsetHeight,u>this.vDomWindowBuffer&&(this.vDomWindowBuffer=u*2)),t-=u,r+=u,this.vDomBottom++,o++,l++):a=!1):a=!1}for(let h of s)h.clearCellHeight();this._quickNormalizeRowHeight(s),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(e,t){for(var i=[],s=0,r=0,o=!0;o;){let l=e[this.vDomBottom],a;l&&r<this.vDomMaxRenderChain?(a=l.getHeight()||this.vDomRowHeight,t>=a?(this.vDomBottom--,t-=a,s+=a,i.push(l),r++):o=!1):o=!1}for(let l of i){let a=l.getElement();a.parentNode&&a.parentNode.removeChild(a)}s&&(this.vDomBottomPad+=s,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=s)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class ou extends Se{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),typeof e=="string"){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=e,t.appendChild(i),this.placeholderContents=i}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,i=this.element.scrollTop,s=this.scrollTop>i;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,s),this.dispatch("scroll-vertical",i,s),this.dispatchExternal("scrollVertical",i,s))})}findRow(e){if(typeof e=="object"){if(e instanceof Te)return e;if(e instanceof Vi)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(i=>i.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(i=>i.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var t=this.rows.find(i=>i.data===e);return t||!1}getRowFromPosition(e){return this.getDisplayRows().find(t=>t.getPosition()===e&&t.isDisplayed())}scrollToRow(e,t,i){return this.renderer.scrollToRowPosition(e,t,i)}setData(e,t,i){return new Promise((s,r)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),s()})}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((i,s)=>{if(i&&typeof i=="object"){var r=new Te(i,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",i)}),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var i=this.rows.indexOf(e),s=this.activeRows.indexOf(e);s>-1&&this.activeRows.splice(s,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var o=r.indexOf(e);o>-1&&r.splice(o,1)}),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,i,s){var r=this.addRowActual(e,t,i,s);return r}addRows(e,t,i,s){var r=[];return new Promise((o,l)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),(typeof i>"u"&&t||typeof i<"u"&&!t)&&e.reverse(),e.forEach((a,h)=>{var u=this.addRow(a,t,i,!0);r.push(u),this.dispatch("row-added",u,a,t,i)}),this.refreshActiveData(s?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),r.length&&this._clearPlaceholder(),o(r)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,t,i,s){var r=e instanceof Te?e:new Te(e||{},this),o=this.findAddRowPos(t),l=-1,a,h;return i||(h=this.chain("row-adding-position",[r,o],null,{index:i,top:o}),i=h.index,o=h.top),typeof i<"u"&&(i=this.findRow(i)),i=this.chain("row-adding-index",[r,i,o],null,i),i&&(l=this.rows.indexOf(i)),i&&l>-1?(a=this.activeRows.indexOf(i),this.displayRowIterator(function(u){var c=u.indexOf(i);c>-1&&u.splice(o?c:c+1,0,r)}),a>-1&&this.activeRows.splice(o?a:a+1,0,r),this.rows.splice(o?l:l+1,0,r)):o?(this.displayRowIterator(function(u){u.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(u){u.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),s||this.reRenderInPosition(),r}moveRow(e,t,i){this.dispatch("row-move",e,t,i),this.moveRowActual(e,t,i),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,i),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,i){this.moveRowInArray(this.rows,e,t,i),this.moveRowInArray(this.activeRows,e,t,i),this.displayRowIterator(s=>{this.moveRowInArray(s,e,t,i)}),this.dispatch("row-moving",e,t,i)}moveRowInArray(e,t,i,s){var r,o,l,a;if(t!==i&&(r=e.indexOf(t),r>-1&&(e.splice(r,1),o=e.indexOf(i),o>-1?s?e.splice(o+1,0,t):e.splice(o,0,t):e.splice(r,0,t)),e===this.getDisplayRows())){l=r<o?r:o,a=o>r?o:r+1;for(let h=l;h<=a;h++)e[h]&&this.styleRow(e[h],h)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1?t:!1}nextDisplayRow(e,t){var i=this.getDisplayRowIndex(e),s=!1;return i!==!1&&i<this.displayRowsCount-1&&(s=this.getDisplayRows()[i+1]),s&&(!(s instanceof Te)||s.type!="row")?this.nextDisplayRow(s,t):s}prevDisplayRow(e,t){var i=this.getDisplayRowIndex(e),s=!1;return i&&(s=this.getDisplayRows()[i-1]),t&&s&&(!(s instanceof Te)||s.type!="row")?this.prevDisplayRow(s,t):s}findRowIndex(e,t){var i;return e=this.findRow(e),e&&(i=t.indexOf(e),i>-1)?i:!1}getData(e,t){var i=[],s=this.getRows(e);return s.forEach(function(r){r.type=="row"&&i.push(r.getData(t||"data"))}),i}getComponents(e){var t=[],i=this.getRows(e);return i.forEach(function(s){t.push(s.getComponent())}),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){typeof t<"u"?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort((i,s)=>i.priority-s.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){typeof t<"u"?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort((i,s)=>i.priority-s.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,i){var s=this.table,r="",o=0,l=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(a=>a.handler===e),o>-1)r="dataPipeline",t&&(o==this.dataPipeline.length-1?r="display":o++);else if(o=this.displayPipeline.findIndex(a=>a.handler===e),o>-1)r="displayPipeline",t&&(o==this.displayPipeline.length-1?r="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else r=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&o<this.redrawBlockRestoreConfig.index||l.indexOf(r)<l.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:i,stage:r,index:o});return}else ue.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,o,i)):(this.refreshPipelines(e,r,o,i),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),s.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,o,i),this.dispatch("data-refreshed")}}refreshPipelines(e,t,i,s){switch(this.dispatch("data-refreshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let r=i;r<this.dataPipeline.length;r++){let o=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=o||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let r=i;r<this.displayPipeline.length;r++){let o=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),s);this.setDisplayRows(o||this.getDisplayRows(r-1).slice(0),r)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach(i=>{i.type==="row"&&(i.setPosition(t),t++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var i=Object.assign([],this.renderer.visibleRows(!t));return e&&(i=this.chain("rows-visible",[t],i,i)),i}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:ru,basic:nu};typeof this.table.options.renderVertical=="string"?e=t[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}_showPlaceholder(){this.placeholder&&(this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(e){e.normalizeHeight()})}adjustTableSize(){var e=this.element.clientHeight,t;if(this.renderer.verticalFillMode==="fill"){let i=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px",this.element.style.minHeight=t||"calc(100% - "+i+"px)",this.element.style.height="calc(100% - "+i+"px)",this.element.style.maxHeight="calc(100% - "+i+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-i+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}this._positionPlaceholder()}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(t))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class lu extends Se{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class au extends Se{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(t=>{e[t]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,t,i){this.pseudoTrackers[e].target!==i&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=i,this.dispatch(e+"-mouseenter",t,i))}pseudoMouseLeave(e,t){var i=Object.keys(this.pseudoTrackers),s={row:["cell"],cell:["row"]};i=i.filter(r=>{var o=s[e];return r!==e&&(!o||o&&!o.includes(r))}),i.forEach(r=>{var o=this.pseudoTrackers[r].target;this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",t,o),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let i of t)for(let s of e){let r=i+"-"+s;this.subscriptionChange(r,this.subscriptionChanged.bind(this,i,s))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,i){var s=this.listeners[t].components,r=s.indexOf(e),o=!1;i?r===-1&&(s.push(e),o=!0):this.subscribed(e+"-"+t)||r>-1&&(s.splice(r,1),o=!0),(t==="mouseenter"||t==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var i=t.composedPath&&t.composedPath()||t.path,s=this.findTargets(i);s=this.bindComponents(e,s),this.triggerEvents(e,t,s),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(s).length&&this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let i=Object.keys(this.componentMap);for(let s of e){let r=s.classList?[...s.classList]:[];if(r.filter(a=>this.abortClasses.includes(a)).length)break;let l=r.filter(a=>i.includes(a));for(let a of l)t[this.componentMap[a]]||(t[this.componentMap[a]]=s)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var i=Object.keys(t).reverse(),s=this.listeners[e],r={},o={};for(let l of i){let a,h=t[l],u=this.previousTargets[l];if(u&&u.target===h)a=u.component;else switch(l){case"row":case"group":(s.components.includes("row")||s.components.includes("cell")||s.components.includes("group"))&&(a=this.table.rowManager.getVisibleRows(!0).find(d=>d.getElement()===h),t.row&&t.row.parentNode&&t.row.parentNode.closest(".tabulator-row")&&(t[l]=!1));break;case"column":s.components.includes("column")&&(a=this.table.columnManager.findColumn(h));break;case"cell":s.components.includes("cell")&&(r.row instanceof Te?a=r.row.findCell(h):t.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}a&&(r[l]=a,o[l]={target:h,component:a})}return this.previousTargets=o,r}triggerEvents(e,t,i){var s=this.listeners[e];for(let r in i)i[r]&&s.components.includes(r)&&this.dispatch(r+"-"+e,t,i[r])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class hu{constructor(e){this.table=e,this.bindings={}}bind(e,t,i){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,i):this.bindings[e][t]=i}handle(e,t,i){if(this.bindings[e]&&this.bindings[e][i]&&typeof this.bindings[e][i].bind=="function")return this.bindings[e][i].bind(null,t);i!=="then"&&typeof i=="string"&&!i.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+i+" function, have you checked that you have the correct Tabulator module installed?")}}class uu extends Se{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,i,s,r,o){var l=++this.requestOrder;if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,t,i,r])){this.loading=!0,r||this.alertLoader(),t=this.chain("data-params",[e,i,r],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var a=this.chain("data-load",[e,t,i,r],!1,Promise.resolve([]));return a.then(h=>{!Array.isArray(h)&&typeof h=="object"&&(h=this.mapParams(h,this.objectInvert(this.table.options.dataReceiveParams)));var u=this.chain("data-loaded",h,null,h);l==this.requestOrder?(this.clearAlert(),u!==!1&&(this.dispatchExternal("dataLoaded",u),this.table.rowManager.setData(u,s,typeof o>"u"?!s:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(h=>{console.error("Data Load Error: ",h),this.dispatchExternal("dataLoadError",h),r||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,s,typeof o>"u"?!s:o),Promise.resolve()}mapParams(e,t){var i={};for(let s in e)i[t.hasOwnProperty(s)?t[s]:s]=e[s];return i}objectInvert(e){var t={};for(let i in e)t[e[i]]=i;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class du{constructor(e,t,i){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e])if(t)if(i=this.events[e].findIndex(s=>s===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(s=>{s(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift(),i;return this.events[t]&&this.events[t].forEach((s,r)=>{let o=s.apply(this.table,e);r||(i=o)}),i}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class cu{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,i=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:i}),this.events[e].sort((s,r)=>s.priority-r.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e]){if(t)if(i=this.events[e].findIndex(s=>s.callback===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,i,s){var r=i;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach((o,l)=>{r=o.callback.apply(this,t.concat([r]))}),r):typeof s=="function"?s():s}_confirm(e,t){var i=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach((s,r)=>{s.callback.apply(this,t)&&(i=!0)}),i}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(s=>{s(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach(i=>{i.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class fu extends Se{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t){var i="";return typeof this.options(e)<"u"?(i="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(i=i+", Please use the %c"+t+"%c option instead",this._warnUser(i,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;")):this._warnUser(i,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,t){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class Fe{static register(e){Fe.tables.push(e)}static deregister(e){var t=Fe.tables.indexOf(e);t>-1&&Fe.tables.splice(t,1)}static lookupTable(e,t){var i=[],s,r;if(typeof e=="string"){if(s=document.querySelectorAll(e),s.length)for(var o=0;o<s.length;o++)r=Fe.matchElement(s[o]),r&&i.push(r)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof Mt?(r=Fe.matchElement(e),r&&i.push(r)):Array.isArray(e)?e.forEach(function(l){i=i.concat(Fe.lookupTable(l))}):t||console.warn("Table Connection Error - Invalid Selector",e);return i}static matchElement(e){return Fe.tables.find(function(t){return e instanceof Mt?t===e:t.element===e})}}Fe.tables=[];function pu(n,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Mn(n,e){n.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function mu(n,e){var t=0,i=this.table.rowManager.element.clientWidth,s=0,r=!1;n.forEach((o,l)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(r=o),o.visible&&(t+=o.getWidth())}),r?(s=i-t+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),s>0?r.setWidth(s):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function gu(n,e){var t=this.table.rowManager.element.getBoundingClientRect().width,i=0,s=0,r=0,o=0,l=[],a=[],h=0,u=0,c=0;function d(C){var b;return typeof C=="string"?C.indexOf("%")>-1?b=t/100*parseInt(C):b=parseInt(C):b=C,b}function p(C,b,x,w){var v=[],g=0,y=0,R=0,k=r,O=0,D=0,L=[];function H(K){return x*(K.column.definition.widthGrow||1)}function Y(K){return d(K.width)-x*(K.column.definition.widthShrink||0)}return C.forEach(function(K,G){var I=w?Y(K):H(K);K.column.minWidth>=I?v.push(K):K.column.maxWidth&&K.column.maxWidth<I?(K.width=K.column.maxWidth,b-=K.column.maxWidth,k-=w?K.column.definition.widthShrink||1:K.column.definition.widthGrow||1,k&&(x=Math.floor(b/k))):(L.push(K),D+=w?K.column.definition.widthShrink||1:K.column.definition.widthGrow||1)}),v.length?(v.forEach(function(K){g+=w?K.width-K.column.minWidth:K.column.minWidth,K.width=K.column.minWidth}),y=b-g,R=D?Math.floor(y/D):y,O=p(L,y,R,w)):(O=D?b-Math.floor(b/D)*D:b,L.forEach(function(K){K.width=w?Y(K):H(K)})),O}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),n.forEach(function(C){var b,x,w;C.visible&&(b=C.definition.width,x=parseInt(C.minWidth),b?(w=d(b),i+=w>x?w:x,C.definition.widthShrink&&(a.push({column:C,width:w>x?w:x}),h+=C.definition.widthShrink)):(l.push({column:C,width:0}),r+=C.definition.widthGrow||1))}),s=t-i,o=Math.floor(s/r),c=p(l,s,o,!1),l.length&&c>0&&(l[l.length-1].width+=c),l.forEach(function(C){s-=C.width}),u=Math.abs(c)+s,u>0&&h&&(c=p(a,u,Math.floor(u/h),!0)),c&&a.length&&(a[a.length-1].width-=c),l.forEach(function(C){C.column.setWidth(C.width)}),a.forEach(function(C){C.column.setWidth(C.width)})}var bu={fitData:pu,fitDataFill:Mn,fitDataTable:Mn,fitDataStretch:mu,fitColumns:gu};class Vt extends ee{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Vt.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Vt.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Vt.moduleName="layout";Vt.modes=bu;var vu={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class fi extends ee{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=ue.deepClone(fi.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let i in t)e[i]&&typeof e[i]=="object"?this._setLangProp(e[i],t[i]):e[i]=t[i]}setLocale(e){e=e||"default";function t(i,s){for(var r in i)typeof i[r]=="object"?(s[r]||(s[r]={}),t(i[r],s[r])):s[r]=i[r]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let i=e.split("-")[0];this.langList[i]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,i),e=i):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=ue.deepClone(this.langList.default||{}),e!="default"&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var i=t?e+"|"+t:e,s=i.split("|"),r=this._getLangElement(s,this.locale);return r||""}_getLangElement(e,t){var i=this.lang;return e.forEach(function(s){var r;i&&(r=i[s],typeof r<"u"?i=r:i=!1)}),i}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}}fi.moduleName="localize";fi.langs=vu;class jr extends ee{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[],i;return i=Fe.lookupTable(e),i.forEach(s=>{this.table!==s&&t.push(s)}),t}send(e,t,i,s){var r=this.getConnections(e);r.forEach(o=>{o.tableComms(this.table.element,t,i,s)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,i,s){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,i,s);console.warn("Inter-table Comms Error - no such module:",t)}}jr.moduleName="comms";var wu=Object.freeze({__proto__:null,LayoutModule:Vt,LocalizeModule:fi,CommsModule:jr});class Gr{constructor(e,t){this.bindStaticFunctionality(e),this.bindModules(e,wu,!0),t&&this.bindModules(e,t)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(t,i,s){if(e.moduleBindings[t]){var r=e.moduleBindings[t][i];if(r)if(typeof s=="object")for(let o in s)r[o]=s[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",i)}else console.warn("Module Error - module does not exist:",t)},e.registerModule=function(t){Array.isArray(t)||(t=[t]),t.forEach(i=>{e.registerModuleBinding(i)})},e.registerModuleBinding=function(t){e.moduleBindings[t.moduleName]=t},e.findTable=function(t){var i=Fe.lookupTable(t,!0);return Array.isArray(i)&&!i.length?!1:i},e.prototype.bindModules=function(){var t=[],i=[],s=[];this.modules={};for(var r in e.moduleBindings){let o=e.moduleBindings[r],l=new o(this);this.modules[r]=l,o.prototype.moduleCore?this.modulesCore.push(l):o.moduleInitOrder?o.moduleInitOrder<0?t.push(l):i.push(l):s.push(l)}t.sort((o,l)=>o.moduleInitOrder>l.moduleInitOrder?1:-1),i.sort((o,l)=>o.moduleInitOrder>l.moduleInitOrder?1:-1),this.modulesRegular=t.concat(s.concat(i))}}bindModules(e,t,i){var s=Object.values(t);i&&s.forEach(r=>{r.prototype.moduleCore=!0}),e.registerModule(s)}}class Cu extends Se{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){for(this.clear(),this.type=t;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class Mt{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new hu(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new fu(this),this.optionsList=new Vr(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),Fe.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new su(this),this.rowManager=new ou(this),this.footerManager=new lu(this),this.dataLoader=new uu(this),this.alertManager=new Cu(this),this.bindModules(),this.options=this.optionsList.generate(Mt.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new du(this,this.options,this.options.debugEventsExternal),this.eventBus=new cu(this.options.debugEventsInternal),this.interactionMonitor=new au(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,t=this.options,i;if(e.tagName==="TABLE"){this.originalElement=this.element,i=document.createElement("div");var s=e.attributes;for(var r in s)typeof s[r]=="object"&&i.setAttribute(s[r].name,s[r].value);e.parentNode.replaceChild(i,e),this.element=e=i}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),t.minHeight!==!1&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),t.maxHeight!==!1&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(i=>{i.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(i=>{i.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;for(this.destroyed=!0,Fe.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var i,s;return this.options.debugInitialization&&!this.initialized&&(e||(i=new Error().stack.split(`
`),s=i[0]=="Error"?i[2]:i[1],s[0]==" "?e=s.trim().split(" ")[1].split(".")[1]:e=s.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,i){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,i,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,i){return this.initGuard(),this.dataLoader.load(e,t,i,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise((i,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(r=>{var o=this.rowManager.findRow(r[this.options.index]);o?(t++,o.updateData(r).then(()=>{t--,t||i()}).catch(l=>{s("Update Error - Unable to update row",r,l)})):s("Update Error - Unable to find row",r)}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}addData(e,t,i){return this.initGuard(),new Promise((s,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,i).then(o=>{var l=[];o.forEach(function(a){l.push(a.getComponent())}),s(l)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}updateOrAddData(e){var t=[],i=0;return this.initGuard(),new Promise((s,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var l=this.rowManager.findRow(o[this.options.index]);i++,l?l.updateData(o).then(()=>{i--,t.push(l.getComponent()),i||s(t)}):this.rowManager.addRows(o).then(a=>{i--,t.push(a[0].getComponent()),i||s(t)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let i of e){let s=this.rowManager.findRow(i,!0);if(s)t.push(s);else return console.error("Delete Error - No matching row found:",i),Promise.reject("Delete Error - No matching row found")}return t.sort((i,s)=>this.rowManager.rows.indexOf(i)>this.rowManager.rows.indexOf(s)?1:-1),t.forEach(i=>{i.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,i){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,i,!0).then(s=>s[0].getComponent())}updateOrAddRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>i.getComponent()):this.rowManager.addRows(t).then(s=>s[0].getComponent())}updateRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>Promise.resolve(i.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,i){var s=this.rowManager.findRow(e);return s?this.rowManager.scrollToRow(s,t,i):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,i){var s=this.rowManager.findRow(e);this.initGuard(),s?s.moveToRow(t,i):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.visible?t.hide():t.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,t,i){var s=this.columnManager.findColumn(i);return this.initGuard(),this.columnManager.addColumn(e,t,s).then(r=>r.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,i){var s=this.columnManager.findColumn(e),r=this.columnManager.findColumn(t);this.initGuard(),s?r?this.columnManager.moveColumn(s,r,i):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,i){return new Promise((s,r)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,t,i):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return this.modules[e]?!0:(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}Mt.defaultOptions=eu;new Gr(Mt);class pi extends Mt{}new Gr(pi,Qh);const yu={class:"border border-danger p-2 rounded mb-2"},Eu=ri({__name:"sample-min",setup(n){const e=kt({list:[{id:1,value:1,update:Qe().format("x")},{id:2,value:2,update:Qe().format("x")}]}),t=[{field:"id",title:"id"},{field:"value",title:"value"},{field:"update",title:"update"}],i=Et(null);return Ut(()=>{i.value!==null&&new pi(i.value,{columns:t,data:e.list,reactiveData:!0})}),(s,r)=>(ut(),li("div",yu,[xt("   "),oe("div",{ref_key:"tableElm",ref:i},null,512)]))}}),xu={class:"border border-danger p-2 rounded mb-2"},Ru={class:""},Tu={class:"mt-2"},Mu=ri({__name:"sample-1",setup(n){const e=Et(null),t=Et(null),i=kt({list:[{id:1,value:1,update:Qe().format("x")},{id:2,value:2,update:Qe().format("x")}]}),s=[{field:"id",title:"id"},{field:"value",title:"value"},{field:"update",title:"update"},{field:"update",title:"",formatter:(l,a,h)=>"",cellClick:(l,a)=>{const h=a.getRow().getData();h.value=h.value+1,h.update=Qe().format("x"),console.log("cellClick")}},{headerSort:!1,download:!1,field:"update",title:"",formatter:(l,a,h)=>"",cellClick:(l,a)=>{const h=a.getRow().getData();h.value=h.value+1,h.update=Qe().format("x"),t.value.redraw(!0),console.log("cellClick",h)}}],r=async()=>{if(e.value===null)return;const l={columns:s};t.value=new pi(e.value,{...l,data:i.list,reactiveData:!0}),t.value.on("rowClick",(a,h)=>{console.log("tabulator.value.on('rowClick'"),a.stopPropagation()})},o=()=>{t.value.download("xlsx","filename.xlsx",{})};return Ut(()=>{r()}),oi(()=>{t.value.destroy(),t.value=null}),(l,a)=>(ut(),li(Ae,null,[oe("div",xu,[xt("   "),oe("div",{ref_key:"tableElm",ref:e},null,512),oe("div",Ru,to(i.list),1),oe("div",Tu,[xt("  "),oe("button",{type:"button",class:"btn btn-success",onClick:a[0]||(a[0]=h=>o())}," ExcelDownload ")])]),(ut(),Ws(Ns,{to:"#teleport"}))],64))}}),ku={class:"border border-danger p-2 rounded mb-2"},Lu={class:"tabulator-custom-format"},Su={class:"mt-2"},_u=oe("span",{class:""},"  ",-1),Du=ri({__name:"sample-custom-format1",setup(n){const e=Et(null),t=Et(null),i=kt({list:[{id:1,groupName:"1",userName:"A",userLevel:"A"},{id:2,groupName:"1",userName:"B",userLevel:"C"},{id:3,groupName:"2",userName:"C",userLevel:"B"},{id:4,groupName:"2",userName:"D",userLevel:"B"}]}),s=[{headerSort:!1,download:!1,width:"50",field:"id",title:`
<div class="v-cell-container">
<div class="v-cell-row " data-h="10">
<div class="v-cell w-100 ">
  id
</div>
</div>
</div>  
`,formatter:(l,a,h)=>`
<div class="v-cell-container">
<div class="v-cell-row" data-h="10">
<div class="v-cell w-100 ">
${l.getRow().getData().id}
</div>
</div>
</div>   
      `},{headerSort:!1,download:!1,field:"groupName",title:`
<div class="v-cell-container">
  <div class="v-cell-row border-bottom" data-h="10">
    <div class="v-cell w-100 ">
      groupName
    </div>
  </div>
  <div class="v-cell-row" data-h="10">
    <div class="v-cell border-right" style="width:calc(100% - 4em)">
      userName
    </div>
    <div class="v-cell" style="width: 4em">
      Level
    </div>
  </div>
</div> 
`,formatter:(l,a,h)=>{const u=l.getRow().getData();return`
<div class="v-cell-container">
  <div class="v-cell-row border-bottom" data-h="10">
    <div class="v-cell w-100 ">
      ${u.groupName}
    </div>
  </div>
  <div class="v-cell-row" data-h="10">
    <div class="v-cell border-right" style="width:calc(100% - 4em)">
      ${u.userName}
    </div>
    <div class="v-cell" style="width: 4em">
      ${u.userLevel}
    </div>
  </div>
</div> 
`}},{visible:!1,download:!0,field:"id",title:"id"},{visible:!1,download:!0,field:"groupName",title:"groupName"},{visible:!1,download:!0,field:"userName",title:"userName"},{visible:!1,download:!0,field:"userLevel",title:"userLevel"}],r=async()=>{if(e.value===null)return;const l={columns:s};t.value=new pi(e.value,{...l,data:i.list,reactiveData:!0}),t.value.on("rowClick",(a,h)=>{console.log("tabulator.value.on('rowClick'"),a.stopPropagation()})};Ut(()=>{r()}),oi(()=>{t.value.destroy(),t.value=null});const o=()=>{t.value.download("xlsx","filename.xlsx",{})};return(l,a)=>(ut(),li(Ae,null,[oe("div",ku,[xt("   "),oe("div",Lu,[oe("div",{ref_key:"tableElm",ref:e},null,512)]),oe("div",Su,[xt("  "),oe("button",{type:"button",class:"btn btn-success",onClick:a[0]||(a[0]=h=>o())}," ExcelDownload "),_u])]),(ut(),Ws(Ns,{to:"#teleport"}))],64))}});const Fu={class:"border border-danger p-2 rounded tabulatorSample2 mb-2"},Au=ri({__name:"sample-cell-click",setup(n){const e=Et(null),t=Et(null),i=kt({list:[{id:1,value:1,update:Qe().format("x")},{id:2,value:1,update:Qe().format("x")}]}),s=[{headerSort:!1,field:"id",title:"id"},{headerSort:!1,field:"value",title:"value"},{headerSort:!1,field:"groupName",title:"",formatter:(o,l,a)=>`
<button type="button" class="btn btn-success add">
  value++
</button>
<button type="button" class="btn btn-success substract">
  value--
</button>
`,cellClick:(o,l)=>{const a=l.getRow().getData();if(o.target.classList.contains("add")===!0)a.value=a.value+1;else if(o.target.classList.contains("substract")===!0)a.value=a.value-1;else return;t.value.redraw(!0)}}],r=async()=>{if(e.value===null)return;const o={columns:s};t.value=new pi(e.value,{...o,data:i.list,reactiveData:!0}),t.value.on("rowClick",(l,a)=>{console.log("tabulator.value.on('rowClick'"),l.stopPropagation()})};return Ut(()=>{r()}),oi(()=>{t.value.destroy(),t.value=null}),(o,l)=>(ut(),li(Ae,null,[oe("div",Fu,[xt("   "),oe("div",{ref_key:"tableElm",ref:e},null,512)]),(ut(),Ws(Ns,{to:"#teleport"}))],64))}}),Kt=n=>(Qo("data-v-eb946f7d"),n=n(),el(),n),zu={class:"container-fluid py-2"},Hu={class:"card border-secondary"},Pu=Kt(()=>oe("div",{class:"card-header bg-info"},"Tabulator Sample",-1)),Ou=Kt(()=>oe("div",{class:"card-body bg-light border-bottom border-secondary"}," Tabulator ",-1)),Iu={class:"card-body bg-light rounded"},Bu=Kt(()=>oe("div",{class:"mt-2"},"API",-1)),Nu=["innerHTML"],Wu=Kt(()=>oe("div",{class:"mt-2"}," [headerTitle]  [format] ",-1)),Vu=["innerHTML"],ju=Kt(()=>oe("div",{class:"mt-2"}," [] headerSort  ",-1)),Gu=Kt(()=>oe("div",{class:""}," headerClick ",-1)),$u=["innerHTML"],Uu=ri({__name:"root-view",setup(n){return(e,t)=>(ut(),li("div",zu,[oe("div",Hu,[Pu,Ou,oe("div",Iu,[Oe(Eu),Oe(Mu),Oe(Au),Oe(Du),Bu,oe("div",{class:"code",innerHTML:pt(St).highlight(`
//tabulator.value 
//const tabulator = ref<any>(null); 
//tabulator.value = new Tabulator(tableElm.value, {
tabulator.value.replaceData(list);
`.replace(/(^\n|\n$)/g,""),pt(St).languages.javascript,"javascript")},null,8,Nu),Wu,oe("div",{class:"code",innerHTML:pt(St).highlight(`
tabulator.value.redraw(true);
`.replace(/(^\n|\n$)/g,""),pt(St).languages.javascript,"javascript")},null,8,Vu),ju,Gu,oe("div",{class:"code",innerHTML:pt(St).highlight(`
const columns: any[] = [
  { headerSort: false, field: 'id', title: 'id'},
`.replace(/(^\n|\n$)/g,""),pt(St).languages.javascript,"javascript")},null,8,$u)])])]))}});const Ku=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t},qu=Ku(Uu,[["__scopeId","data-v-eb946f7d"]]);Qe.extend(qr);const $r=ka(qu);$r.mount("#app");$r.config.errorHandler=(n,e,t)=>{console.log(`Captured in Vue.config.errorHandler: ${t}`,n)};window.addEventListener("error",n=>{"message"in n&&n.message==="ResizeObserver loop limit exceeded"||console.log("Captured in error EventListener",n,n.error)});window.addEventListener("unhandledrejection",n=>{console.log("Captured in unhandledrejection EventListener",n.reason)});
